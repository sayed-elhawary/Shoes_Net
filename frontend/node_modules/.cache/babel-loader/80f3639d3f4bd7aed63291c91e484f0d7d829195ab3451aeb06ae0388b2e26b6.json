{"ast":null,"code":"import _objectSpread from\"/root/shose/app-shose/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/Login.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';// -------------------------------------------------\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';// -------------------------------------------------\nconst CustomLoadingSpinner=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-purple-500 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-purple-500 rounded-full animate-bounce delay-100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-purple-500 rounded-full animate-bounce delay-200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-400\",children:\"\\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})]});const Login=()=>{const[form,setForm]=useState({emailOrPhone:'',password:''});const[registerForm,setRegisterForm]=useState({name:'',phone:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showIntro,setShowIntro]=useState(true);const[showForm,setShowForm]=useState(false);const[isRegistering,setIsRegistering]=useState(false);const[toastMessage,setToastMessage]=useState('');const[rememberMe,setRememberMe]=useState(true);// تفعيل افتراضي\nconst[savedAccounts,setSavedAccounts]=useState([]);// جميع الحسابات المحفوظة\nconst[selectedAccount,setSelectedAccount]=useState(null);// الحساب المختار\nconst navigate=useNavigate();// تحميل الحسابات المحفوظة عند تحميل الصفحة\nuseEffect(()=>{const accounts=JSON.parse(localStorage.getItem('savedLoginAccounts')||'[]');setSavedAccounts(accounts);// تحميل آخر حساب تم اختياره (إن وجد)\nconst lastSelected=localStorage.getItem('lastSelectedAccount');if(lastSelected){const acc=accounts.find(a=>a.id===lastSelected);if(acc){setForm({emailOrPhone:acc.emailOrPhone,password:acc.password});setSelectedAccount(acc);}}},[]);// أنيميشن الإنترو\nuseEffect(()=>{const t1=setTimeout(()=>{},100);const t2=setTimeout(()=>{},600);const t3=setTimeout(()=>setShowIntro(false),2000);const t4=setTimeout(()=>setShowForm(true),2200);return()=>{clearTimeout(t1);clearTimeout(t2);clearTimeout(t3);clearTimeout(t4);};},[]);// إشعار من الأيقونة نفسها كل 5 ثواني\nuseEffect(()=>{const messages=['للشكاوي تواصل معانا','لتفعيل الحساب تواصل معانا'];let index=0;const showToast=()=>{setToastMessage(messages[index]);index=(index+1)%messages.length;setTimeout(()=>setToastMessage(''),3000);};const interval=setInterval(showToast,5000);return()=>clearInterval(interval);},[]);// حفظ الحساب بعد تسجيل الدخول الناجح\nconst saveAccount=(emailOrPhone,password)=>{if(!rememberMe)return;const id=btoa(emailOrPhone+Date.now());// معرف فريد\nconst newAccount={id,emailOrPhone,password,savedAt:new Date().toISOString()};let accounts=JSON.parse(localStorage.getItem('savedLoginAccounts')||'[]');// إزالة الحساب إذا كان موجود مسبقًا\naccounts=accounts.filter(a=>a.emailOrPhone!==emailOrPhone);accounts.unshift(newAccount);// أحدث في الأعلى\naccounts=accounts.slice(0,10);// أقصى 10 حسابات\nlocalStorage.setItem('savedLoginAccounts',JSON.stringify(accounts));localStorage.setItem('lastSelectedAccount',id);setSavedAccounts(accounts);setSelectedAccount(newAccount);};// اختيار حساب من القائمة\nconst selectAccount=acc=>{setForm({emailOrPhone:acc.emailOrPhone,password:acc.password});setSelectedAccount(acc);localStorage.setItem('lastSelectedAccount',acc.id);};// حذف حساب من المحفوظات\nconst removeAccount=(id,e)=>{e.stopPropagation();let accounts=JSON.parse(localStorage.getItem('savedLoginAccounts')||'[]');accounts=accounts.filter(a=>a.id!==id);localStorage.setItem('savedLoginAccounts',JSON.stringify(accounts));setSavedAccounts(accounts);if((selectedAccount===null||selectedAccount===void 0?void 0:selectedAccount.id)===id){setForm({emailOrPhone:'',password:''});setSelectedAccount(null);localStorage.removeItem('lastSelectedAccount');}};// ---------- تسجيل الدخول ----------\nconst handleLogin=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);try{const payload={};if(/^\\d{11}$/.test(form.emailOrPhone))payload.phone=form.emailOrPhone;else payload.email=form.emailOrPhone;payload.password=form.password;const res=await axios.post(\"\".concat(API_URL,\"/api/auth/login\"),payload);localStorage.setItem('token',res.data.token);localStorage.setItem('role',res.data.role);localStorage.setItem('userId',res.data.userId);window.dispatchEvent(new Event('authChange'));// حفظ الحساب إذا تم تفعيل \"تذكرني\"\nsaveAccount(form.emailOrPhone,form.password);setTimeout(()=>{const{role}=res.data;if(role==='admin')navigate('/admin');else if(role==='vendor')navigate('/vendor');else navigate('/');},600);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'حدث خطأ، حاول مرة أخرى');}finally{setLoading(false);}};// ---------- إنشاء حساب ----------\nconst handleRegister=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);try{const payload={name:registerForm.name,phone:registerForm.phone,password:registerForm.password};await axios.post(\"\".concat(API_URL,\"/api/auth/register-customer-public\"),payload);setSuccess('تم إرسال طلب التسجيل بنجاح! بانتظار موافقة الأدمن');setRegisterForm({name:'',phone:'',password:''});setTimeout(()=>setIsRegistering(false),2000);}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'فشل في إنشاء الحساب');}finally{setLoading(false);}};// فتح واتساب\nconst openWhatsApp=()=>{const phone='201553531373';const url=\"https://wa.me/\".concat(phone);window.open(url,'_blank','noopener,noreferrer');};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-[#18191a] via-[#1f2023] to-[#18191a] flex items-center justify-center p-4 relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-purple-900/20 to-transparent pointer-events-none\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-20 left-20 w-72 h-72 bg-purple-600/30 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-20 right-20 w-96 h-96 bg-purple-700/20 rounded-full blur-3xl animate-pulse delay-1000\"}),/*#__PURE__*/_jsx(AnimatePresence,{children:showIntro&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 flex flex-col items-center justify-center z-50 bg-[#18191a]\",children:[/*#__PURE__*/_jsx(motion.div,{animate:{rotate:360},transition:{duration:2,repeat:Infinity,ease:\"linear\"},className:\"w-32 h-32 rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600 p-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-full rounded-full bg-[#18191a] flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 rounded-full bg-gradient-to-br from-purple-400 to-pink-400\"})})}),/*#__PURE__*/_jsx(motion.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:0.5},className:\"mt-8 text-3xl font-bold text-white\",children:\"\\u0623\\u0647\\u0644\\u0627\\u064B \\u0628\\u0643 \\u0641\\u064A\"}),/*#__PURE__*/_jsx(motion.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:0.7},className:\"text-2xl text-purple-400 font-semibold\",children:\"Web Shose\"})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showForm&&/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:\"spring\",stiffness:200,damping:20},className:\"relative z-10 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-800/50 backdrop-blur-sm rounded-xl p-1 mb-6 shadow-xl\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRegistering(false),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(!isRegistering?'bg-purple-700 text-white shadow-md':'bg-gray-700 text-gray-400'),children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsRegistering(true),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(isRegistering?'bg-purple-700 text-white shadow-md':'bg-gray-700 text-gray-400'),children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u062D\\u0633\\u0627\\u0628\"})]}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},className:\"mb-4 p-3 bg-red-900/50 border border-red-700 text-red-300 rounded-lg text-sm text-center\",children:error}),success&&/*#__PURE__*/_jsx(motion.div,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},className:\"mb-4 p-3 bg-green-900/50 border border-green-700 text-green-300 rounded-lg text-sm text-center\",children:success}),!isRegistering?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[savedAccounts.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 space-y-2\",children:savedAccounts.map(acc=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>selectAccount(acc),className:\"flex items-center justify-between p-3 bg-[#3a3b3c]/60 border rounded-xl cursor-pointer transition-all \".concat((selectedAccount===null||selectedAccount===void 0?void 0:selectedAccount.id)===acc.id?'border-purple-500 ring-2 ring-purple-500/20':'border-gray-600 hover:border-purple-400'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 rtl:space-x-reverse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm\",children:acc.emailOrPhone[0].toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-white font-medium text-sm\",children:acc.emailOrPhone}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-xs\",children:[\"\\u062A\\u0645 \\u0627\\u0644\\u062D\\u0641\\u0638: \",new Date(acc.savedAt).toLocaleDateString('ar')]})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:e=>removeAccount(acc.id,e),className:\"text-gray-400 hover:text-red-400 transition\",children:\"\\u2715\"})]},acc.id))}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0623\\u0648 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.emailOrPhone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{emailOrPhone:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"example@domain.com \\u0623\\u0648 01234567890\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:form.password,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{password:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true,disabled:loading})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2 rtl:space-x-reverse cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:rememberMe,onChange:e=>setRememberMe(e.target.checked),className:\"w-4 h-4 text-purple-600 rounded focus:ring-purple-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:\"\\u062A\\u0630\\u0643\\u0631\\u0646\\u064A\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-purple-500/50 transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed\",children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'دخول'})]}):/*#__PURE__*//* ==== إنشاء حساب ==== */_jsxs(\"form\",{onSubmit:handleRegister,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registerForm.name,onChange:e=>setRegisterForm(_objectSpread(_objectSpread({},registerForm),{},{name:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"\\u0623\\u062D\\u0645\\u062F \\u0645\\u062D\\u0645\\u062F\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 (11 \\u0631\\u0642\\u0645)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registerForm.phone,onChange:e=>{const v=e.target.value.replace(/\\D/g,'').slice(0,11);setRegisterForm(_objectSpread(_objectSpread({},registerForm),{},{phone:v}));},className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"01234567890\",required:true,disabled:loading,maxLength:\"11\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-2\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:registerForm.password,onChange:e=>setRegisterForm(_objectSpread(_objectSpread({},registerForm),{},{password:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true,disabled:loading,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-purple-500/50 transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed\",children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'إنشاء حساب'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 text-xs text-gray-400 space-y-1 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u0644\\u0644\\u0623\\u062F\\u0645\\u0646: admin@test.com / 123456\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0644\\u0644\\u062A\\u0627\\u062C\\u0631: \\u0623\\u0646\\u0634\\u0626 \\u0645\\u0646 \\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u0623\\u062F\\u0645\\u0646\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0644\\u0644\\u0639\\u0645\\u0644\\u0627\\u0621: \\u0633\\u062C\\u0644 \\u0647\\u0646\\u0627 \\u0648\\u0627\\u0646\\u062A\\u0638\\u0631 \\u0645\\u0648\\u0627\\u0641\\u0642\\u0629 \\u0627\\u0644\\u0623\\u062F\\u0645\\u0646\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"fixed bottom-6 right-6 z-40\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:openWhatsApp,className:\"relative w-16 h-16 bg-green-500 rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-all duration-300 group\",children:[/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",className:\"w-9 h-9 text-white\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12.04 2C6.53 2 2 6.53 2 12.04c0 2.18.69 4.2 1.86 5.86l-1.24 4.54 4.63-1.21c1.61 1.04 3.53 1.63 5.55 1.63 5.51 0 10.04-4.53 10.04-10.04C22.08 6.53 17.55 2 12.04 2zm5.97 14.5c-.26.73-.95 1.36-1.74 1.5-.66.12-1.53.12-2.65-.41-1.5-.71-2.76-1.95-3.53-3.27-.77-1.32-.98-2.88-.62-4.36.08-.37.25-.71.5-.97.25-.26.58-.39.93-.39.15 0 .31.02.46.05.44.1.74.66.81.75.63.81 1.11 1.77 1.23 2.83.06.49-.06.96-.33 1.35.17.33.54.71 1.02 1.02.39.27.86.39 1.35.33 1.06.12 2.02.6 2.83 1.23.09.07.65.37.75.81.03.15.05.31.05.46 0 .35-.13.68-.39.93z\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-ping\"}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:toastMessage&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20,scale:0.8},animate:{opacity:1,y:-80,scale:1},exit:{opacity:0,y:-100,scale:0.8},className:\"absolute bottom-20 right-0 bg-gray-900 text-white px-4 py-2 rounded-lg shadow-2xl text-sm whitespace-nowrap border border-gray-700\",children:[toastMessage,/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-6 w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-gray-900\"})]})})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","motion","AnimatePresence","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","CustomLoadingSpinner","className","children","Login","form","setForm","emailOrPhone","password","registerForm","setRegisterForm","name","phone","loading","setLoading","error","setError","success","setSuccess","showIntro","setShowIntro","showForm","setShowForm","isRegistering","setIsRegistering","toastMessage","setToastMessage","rememberMe","setRememberMe","savedAccounts","setSavedAccounts","selectedAccount","setSelectedAccount","navigate","accounts","JSON","parse","localStorage","getItem","lastSelected","acc","find","a","id","t1","setTimeout","t2","t3","t4","clearTimeout","messages","index","showToast","length","interval","setInterval","clearInterval","saveAccount","btoa","Date","now","newAccount","savedAt","toISOString","filter","unshift","slice","setItem","stringify","selectAccount","removeAccount","e","stopPropagation","removeItem","handleLogin","preventDefault","payload","test","email","res","post","concat","data","token","role","userId","window","dispatchEvent","Event","err","_err$response","_err$response$data","response","message","handleRegister","_err$response2","_err$response2$data","openWhatsApp","url","open","div","initial","opacity","animate","exit","rotate","transition","duration","repeat","Infinity","ease","h1","y","delay","p","scale","type","stiffness","damping","onClick","onSubmit","map","toUpperCase","toLocaleDateString","value","onChange","_objectSpread","target","placeholder","required","disabled","checked","v","replace","maxLength","minLength","viewBox","fill","d"],"sources":["/root/shose/app-shose/frontend/src/pages/Login.js"],"sourcesContent":["// frontend/src/pages/Login.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\n\n// -------------------------------------------------\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n// -------------------------------------------------\n\nconst CustomLoadingSpinner = () => (\n  <div className=\"flex justify-center items-center space-x-2\">\n    <div className=\"w-2 h-2 bg-purple-500 rounded-full animate-bounce\"></div>\n    <div className=\"w-2 h-2 bg-purple-500 rounded-full animate-bounce delay-100\"></div>\n    <div className=\"w-2 h-2 bg-purple-500 rounded-full animate-bounce delay-200\"></div>\n    <span className=\"text-sm text-gray-400\">جارٍ التحميل...</span>\n  </div>\n);\n\nconst Login = () => {\n  const [form, setForm] = useState({ emailOrPhone: '', password: '' });\n  const [registerForm, setRegisterForm] = useState({ name: '', phone: '', password: '' });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showIntro, setShowIntro] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const [rememberMe, setRememberMe] = useState(true); // تفعيل افتراضي\n  const [savedAccounts, setSavedAccounts] = useState([]); // جميع الحسابات المحفوظة\n  const [selectedAccount, setSelectedAccount] = useState(null); // الحساب المختار\n\n  const navigate = useNavigate();\n\n  // تحميل الحسابات المحفوظة عند تحميل الصفحة\n  useEffect(() => {\n    const accounts = JSON.parse(localStorage.getItem('savedLoginAccounts') || '[]');\n    setSavedAccounts(accounts);\n\n    // تحميل آخر حساب تم اختياره (إن وجد)\n    const lastSelected = localStorage.getItem('lastSelectedAccount');\n    if (lastSelected) {\n      const acc = accounts.find(a => a.id === lastSelected);\n      if (acc) {\n        setForm({ emailOrPhone: acc.emailOrPhone, password: acc.password });\n        setSelectedAccount(acc);\n      }\n    }\n  }, []);\n\n  // أنيميشن الإنترو\n  useEffect(() => {\n    const t1 = setTimeout(() => {}, 100);\n    const t2 = setTimeout(() => {}, 600);\n    const t3 = setTimeout(() => setShowIntro(false), 2000);\n    const t4 = setTimeout(() => setShowForm(true), 2200);\n    return () => { clearTimeout(t1); clearTimeout(t2); clearTimeout(t3); clearTimeout(t4); };\n  }, []);\n\n  // إشعار من الأيقونة نفسها كل 5 ثواني\n  useEffect(() => {\n    const messages = [\n      'للشكاوي تواصل معانا',\n      'لتفعيل الحساب تواصل معانا'\n    ];\n    let index = 0;\n    const showToast = () => {\n      setToastMessage(messages[index]);\n      index = (index + 1) % messages.length;\n      setTimeout(() => setToastMessage(''), 3000);\n    };\n    const interval = setInterval(showToast, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // حفظ الحساب بعد تسجيل الدخول الناجح\n  const saveAccount = (emailOrPhone, password) => {\n    if (!rememberMe) return;\n\n    const id = btoa(emailOrPhone + Date.now()); // معرف فريد\n    const newAccount = { id, emailOrPhone, password, savedAt: new Date().toISOString() };\n\n    let accounts = JSON.parse(localStorage.getItem('savedLoginAccounts') || '[]');\n    // إزالة الحساب إذا كان موجود مسبقًا\n    accounts = accounts.filter(a => a.emailOrPhone !== emailOrPhone);\n    accounts.unshift(newAccount); // أحدث في الأعلى\n    accounts = accounts.slice(0, 10); // أقصى 10 حسابات\n\n    localStorage.setItem('savedLoginAccounts', JSON.stringify(accounts));\n    localStorage.setItem('lastSelectedAccount', id);\n\n    setSavedAccounts(accounts);\n    setSelectedAccount(newAccount);\n  };\n\n  // اختيار حساب من القائمة\n  const selectAccount = (acc) => {\n    setForm({ emailOrPhone: acc.emailOrPhone, password: acc.password });\n    setSelectedAccount(acc);\n    localStorage.setItem('lastSelectedAccount', acc.id);\n  };\n\n  // حذف حساب من المحفوظات\n  const removeAccount = (id, e) => {\n    e.stopPropagation();\n    let accounts = JSON.parse(localStorage.getItem('savedLoginAccounts') || '[]');\n    accounts = accounts.filter(a => a.id !== id);\n    localStorage.setItem('savedLoginAccounts', JSON.stringify(accounts));\n    setSavedAccounts(accounts);\n\n    if (selectedAccount?.id === id) {\n      setForm({ emailOrPhone: '', password: '' });\n      setSelectedAccount(null);\n      localStorage.removeItem('lastSelectedAccount');\n    }\n  };\n\n  // ---------- تسجيل الدخول ----------\n  const handleLogin = async e => {\n    e.preventDefault(); setError(''); setSuccess(''); setLoading(true);\n    try {\n      const payload = {};\n      if (/^\\d{11}$/.test(form.emailOrPhone)) payload.phone = form.emailOrPhone;\n      else payload.email = form.emailOrPhone;\n      payload.password = form.password;\n\n      const res = await axios.post(`${API_URL}/api/auth/login`, payload);\n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem('role', res.data.role);\n      localStorage.setItem('userId', res.data.userId);\n      window.dispatchEvent(new Event('authChange'));\n\n      // حفظ الحساب إذا تم تفعيل \"تذكرني\"\n      saveAccount(form.emailOrPhone, form.password);\n\n      setTimeout(() => {\n        const { role } = res.data;\n        if (role === 'admin') navigate('/admin');\n        else if (role === 'vendor') navigate('/vendor');\n        else navigate('/');\n      }, 600);\n    } catch (err) {\n      setError(err.response?.data?.message || 'حدث خطأ، حاول مرة أخرى');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ---------- إنشاء حساب ----------\n  const handleRegister = async e => {\n    e.preventDefault(); setError(''); setSuccess(''); setLoading(true);\n    try {\n      const payload = {\n        name: registerForm.name,\n        phone: registerForm.phone,\n        password: registerForm.password,\n      };\n      await axios.post(`${API_URL}/api/auth/register-customer-public`, payload);\n      setSuccess('تم إرسال طلب التسجيل بنجاح! بانتظار موافقة الأدمن');\n      setRegisterForm({ name: '', phone: '', password: '' });\n      setTimeout(() => setIsRegistering(false), 2000);\n    } catch (err) {\n      setError(err.response?.data?.message || 'فشل في إنشاء الحساب');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // فتح واتساب\n  const openWhatsApp = () => {\n    const phone = '201553531373';\n    const url = `https://wa.me/${phone}`;\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-[#18191a] via-[#1f2023] to-[#18191a] flex items-center justify-center p-4 relative overflow-hidden\">\n      {/* خلفية ناعمة - موف */}\n      <div className=\"absolute inset-0 bg-gradient-to-t from-purple-900/20 to-transparent pointer-events-none\"></div>\n      <div className=\"absolute top-20 left-20 w-72 h-72 bg-purple-600/30 rounded-full blur-3xl animate-pulse\"></div>\n      <div className=\"absolute bottom-20 right-20 w-96 h-96 bg-purple-700/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\n      {/* إنترو */}\n      <AnimatePresence>\n        {showIntro && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"fixed inset-0 flex flex-col items-center justify-center z-50 bg-[#18191a]\"\n          >\n            {/* دائرة دوارة - موف متدرج */}\n            <motion.div\n              animate={{ rotate: 360 }}\n              transition={{ duration: 2, repeat: Infinity, ease: \"linear\" }}\n              className=\"w-32 h-32 rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600 p-1\"\n            >\n              <div className=\"w-full h-full rounded-full bg-[#18191a] flex items-center justify-center\">\n                <div className=\"w-20 h-20 rounded-full bg-gradient-to-br from-purple-400 to-pink-400\"></div>\n              </div>\n            </motion.div>\n            <motion.h1\n              initial={{ y: 20, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ delay: 0.5 }}\n              className=\"mt-8 text-3xl font-bold text-white\"\n            >\n              أهلاً بك في\n            </motion.h1>\n            <motion.p\n              initial={{ y: 20, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ delay: 0.7 }}\n              className=\"text-2xl text-purple-400 font-semibold\"\n            >\n              Web Shose\n            </motion.p>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* نموذج الدخول / التسجيل */}\n      <AnimatePresence>\n        {showForm && (\n          <motion.div\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            transition={{ type: \"spring\", stiffness: 200, damping: 20 }}\n            className=\"relative z-10 w-full max-w-md\"\n          >\n            {/* تبويب */}\n            <div className=\"flex bg-gray-800/50 backdrop-blur-sm rounded-xl p-1 mb-6 shadow-xl\">\n              <button\n                onClick={() => setIsRegistering(false)}\n                className={`px-4 py-2 rounded-lg font-medium transition ${\n                  !isRegistering ? 'bg-purple-700 text-white shadow-md' : 'bg-gray-700 text-gray-400'\n                }`}\n              >\n                تسجيل الدخول\n              </button>\n              <button\n                onClick={() => setIsRegistering(true)}\n                className={`px-4 py-2 rounded-lg font-medium transition ${\n                  isRegistering ? 'bg-purple-700 text-white shadow-md' : 'bg-gray-700 text-gray-400'\n                }`}\n              >\n                إنشاء حساب\n              </button>\n            </div>\n\n            {/* رسائل */}\n            {error && (\n              <motion.div\n                initial={{ y: -10, opacity: 0 }}\n                animate={{ y: 0, opacity: 1 }}\n                className=\"mb-4 p-3 bg-red-900/50 border border-red-700 text-red-300 rounded-lg text-sm text-center\"\n              >\n                {error}\n              </motion.div>\n            )}\n            {success && (\n              <motion.div\n                initial={{ y: -10, opacity: 0 }}\n                animate={{ y: 0, opacity: 1 }}\n                className=\"mb-4 p-3 bg-green-900/50 border border-green-700 text-green-300 rounded-lg text-sm text-center\"\n              >\n                {success}\n              </motion.div>\n            )}\n\n            {/* ==== تسجيل الدخول ==== */}\n            {!isRegistering ? (\n              <form onSubmit={handleLogin} className=\"space-y-4\">\n                {/* قائمة الحسابات المحفوظة */}\n                {savedAccounts.length > 0 && (\n                  <div className=\"mb-4 space-y-2\">\n                    {savedAccounts.map((acc) => (\n                      <div\n                        key={acc.id}\n                        onClick={() => selectAccount(acc)}\n                        className={`flex items-center justify-between p-3 bg-[#3a3b3c]/60 border rounded-xl cursor-pointer transition-all ${\n                          selectedAccount?.id === acc.id\n                            ? 'border-purple-500 ring-2 ring-purple-500/20'\n                            : 'border-gray-600 hover:border-purple-400'\n                        }`}\n                      >\n                        <div className=\"flex items-center space-x-3 rtl:space-x-reverse\">\n                          <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-sm\">\n                            {acc.emailOrPhone[0].toUpperCase()}\n                          </div>\n                          <div>\n                            <p className=\"text-white font-medium text-sm\">{acc.emailOrPhone}</p>\n                            <p className=\"text-gray-400 text-xs\">تم الحفظ: {new Date(acc.savedAt).toLocaleDateString('ar')}</p>\n                          </div>\n                        </div>\n                        <button\n                          type=\"button\"\n                          onClick={(e) => removeAccount(acc.id, e)}\n                          className=\"text-gray-400 hover:text-red-400 transition\"\n                        >\n                          ✕\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    البريد أو الهاتف\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={form.emailOrPhone}\n                    onChange={(e) => setForm({ ...form, emailOrPhone: e.target.value })}\n                    className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                    placeholder=\"example@domain.com أو 01234567890\"\n                    required\n                    disabled={loading}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    كلمة المرور\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={form.password}\n                    onChange={(e) => setForm({ ...form, password: e.target.value })}\n                    className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                    placeholder=\"••••••••\"\n                    required\n                    disabled={loading}\n                  />\n                </div>\n\n                {/* تذكرني */}\n                <div className=\"flex items-center justify-between\">\n                  <label className=\"flex items-center space-x-2 rtl:space-x-reverse cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={rememberMe}\n                      onChange={(e) => setRememberMe(e.target.checked)}\n                      className=\"w-4 h-4 text-purple-600 rounded focus:ring-purple-500\"\n                    />\n                    <span className=\"text-sm text-gray-300\">تذكرني</span>\n                  </label>\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-purple-500/50 transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed\"\n                >\n                  {loading ? <CustomLoadingSpinner /> : 'دخول'}\n                </button>\n              </form>\n            ) : (\n              /* ==== إنشاء حساب ==== */\n              <form onSubmit={handleRegister} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    الاسم الكامل\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={registerForm.name}\n                    onChange={(e) => setRegisterForm({ ...registerForm, name: e.target.value })}\n                    className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                    placeholder=\"أحمد محمد\"\n                    required\n                    disabled={loading}\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    رقم الهاتف (11 رقم)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={registerForm.phone}\n                    onChange={(e) => {\n                      const v = e.target.value.replace(/\\D/g, '').slice(0, 11);\n                      setRegisterForm({ ...registerForm, phone: v });\n                    }}\n                    className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                    placeholder=\"01234567890\"\n                    required\n                    disabled={loading}\n                    maxLength=\"11\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    كلمة المرور\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={registerForm.password}\n                    onChange={(e) => setRegisterForm({ ...registerForm, password: e.target.value })}\n                    className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                    placeholder=\"••••••••\"\n                    required\n                    disabled={loading}\n                    minLength=\"6\"\n                  />\n                </div>\n\n                <button\n                  type=\"submit\"\n                  disabled={loading}\n                  className=\"w-full py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-purple-500/50 transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed\"\n                >\n                  {loading ? <CustomLoadingSpinner /> : 'إنشاء حساب'}\n                </button>\n              </form>\n            )}\n\n            {/* معلومات مساعدة */}\n            <div className=\"mt-6 text-xs text-gray-400 space-y-1 text-center\">\n              <p>للأدمن: admin@test.com / 123456</p>\n              <p>للتاجر: أنشئ من لوحة الأدمن</p>\n              <p>للعملاء: سجل هنا وانتظر موافقة الأدمن</p>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* أيقونة واتساب + إشعار من نفس الأيقونة */}\n      <div className=\"fixed bottom-6 right-6 z-40\">\n        {/* أيقونة واتساب احترافية جدًا (SVG مخصص) */}\n        <button\n          onClick={openWhatsApp}\n          className=\"relative w-16 h-16 bg-green-500 rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-all duration-300 group\"\n        >\n          <svg viewBox=\"0 0 24 24\" className=\"w-9 h-9 text-white\" fill=\"currentColor\">\n            <path d=\"M12.04 2C6.53 2 2 6.53 2 12.04c0 2.18.69 4.2 1.86 5.86l-1.24 4.54 4.63-1.21c1.61 1.04 3.53 1.63 5.55 1.63 5.51 0 10.04-4.53 10.04-10.04C22.08 6.53 17.55 2 12.04 2zm5.97 14.5c-.26.73-.95 1.36-1.74 1.5-.66.12-1.53.12-2.65-.41-1.5-.71-2.76-1.95-3.53-3.27-.77-1.32-.98-2.88-.62-4.36.08-.37.25-.71.5-.97.25-.26.58-.39.93-.39.15 0 .31.02.46.05.44.1.74.66.81.75.63.81 1.11 1.77 1.23 2.83.06.49-.06.96-.33 1.35.17.33.54.71 1.02 1.02.39.27.86.39 1.35.33 1.06.12 2.02.6 2.83 1.23.09.07.65.37.75.81.03.15.05.31.05.46 0 .35-.13.68-.39.93z\"/>\n          </svg>\n          <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full animate-ping\"></span>\n          <span className=\"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full\"></span>\n        </button>\n\n        {/* إشعار صغير يطلع من الأيقونة */}\n        <AnimatePresence>\n          {toastMessage && (\n            <motion.div\n              initial={{ opacity: 0, y: 20, scale: 0.8 }}\n              animate={{ opacity: 1, y: -80, scale: 1 }}\n              exit={{ opacity: 0, y: -100, scale: 0.8 }}\n              className=\"absolute bottom-20 right-0 bg-gray-900 text-white px-4 py-2 rounded-lg shadow-2xl text-sm whitespace-nowrap border border-gray-700\"\n            >\n              {toastMessage}\n              <div className=\"absolute bottom-0 right-6 w-0 h-0 border-l-8 border-l-transparent border-r-8 border-r-transparent border-t-8 border-t-gray-900\"></div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}