{"ast":null,"code":"import _objectSpread from\"/root/shose/app-shose/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/VendorDashboard.js\nimport{useState,useEffect,useRef}from'react';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{X,Upload,Image as ImageIcon,Video,FileVideo}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VendorDashboard=()=>{const[products,setProducts]=useState([]);const[form,setForm]=useState({name:'',type:'',price:'',quantityPerCarton:'',manufacturer:'',description:''});const[selectedFiles,setSelectedFiles]=useState([]);// جميع الملفات (صور + فيديو)\nconst[previewFiles,setPreviewFiles]=useState([]);// للعرض المسبق\nconst[selectedMedia,setSelectedMedia]=useState(null);const[toast,setToast]=useState({show:false,message:'',type:'success'});const[loading,setLoading]=useState(false);const[editingProduct,setEditingProduct]=useState(null);const fileInputRef=useRef(null);// === جلب المنتجات (يتحدث تلقائيًا بعد أي تغيير) ===\nconst fetchProducts=()=>{const token=localStorage.getItem('token');const userId=localStorage.getItem('userId');if(!token||!userId){showToast('يرجى تسجيل الدخول','error');return;}setLoading(true);axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/my-products\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{const filtered=res.data.filter(p=>{if(p.vendor){return typeof p.vendor==='object'?p.vendor._id===userId:p.vendor===userId;}return false;});// ترتيب تنازلي حسب التعديث (الأحدث فوق)\nconst sorted=filtered.sort((a,b)=>new Date(b.updatedAt)-new Date(a.updatedAt));setProducts(sorted);showToast('تم تحديث المنتجات بنجاح','success');}).catch(err=>{console.error('خطأ في جلب المنتجات:',err);showToast('فشل جلب المنتجات','error');}).finally(()=>setLoading(false));};// === جلب المنتجات عند التحميل + بعد أي تغيير ===\nuseEffect(()=>{fetchProducts();},[]);// أول مرة\n// === إضافة منتج ===\nconst handleAddProduct=()=>{if(!form.name||!form.type||!form.price||!form.quantityPerCarton||!form.manufacturer){showToast('يرجى ملء جميع الحقول المطلوبة','error');return;}if(selectedFiles.length===0){showToast('يجب رفع صورة واحدة على الأقل','error');return;}const hasImage=selectedFiles.some(f=>f.type.startsWith('image/'));const hasVideo=selectedFiles.some(f=>f.type.startsWith('video/'));if(hasVideo&&!hasImage){showToast('يجب رفع صورة واحدة على الأقل عند رفع فيديو','error');return;}const formData=new FormData();Object.keys(form).forEach(key=>formData.append(key,form[key]));selectedFiles.forEach(file=>formData.append('files',file));const token=localStorage.getItem('token');setLoading(true);axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products\"),formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}}).then(res=>{showToast('تم إضافة المنتج بنجاح','success');resetForm();fetchProducts();// تحديث فوري\n}).catch(err=>{var _err$response,_err$response$data;const msg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'خطأ في إضافة المنتج';showToast(msg,'error');}).finally(()=>setLoading(false));};const resetForm=()=>{setForm({name:'',type:'',price:'',quantityPerCarton:'',manufacturer:'',description:''});setSelectedFiles([]);setPreviewFiles([]);if(fileInputRef.current)fileInputRef.current.value='';};const handleFileChange=e=>{const files=Array.from(e.target.files);const maxSize=50*1024*1024;const validFiles=files.filter(f=>{if(f.size>maxSize){showToast(\"\\u0627\\u0644\\u0645\\u0644\\u0641 \".concat(f.name,\" \\u0643\\u0628\\u064A\\u0631 \\u062C\\u062F\\u064B\\u0627! \\u0627\\u0644\\u062D\\u062F \\u0627\\u0644\\u0623\\u0642\\u0635\\u0649 50 \\u0645\\u064A\\u062C\\u0627\\u0628\\u0627\\u064A\\u062A.\"),'error');return false;}return true;});if(validFiles.length+selectedFiles.length>10){showToast('حد أقصى 10 ملفات فقط (صور وفيديوهات)','error');return;}setSelectedFiles(prev=>[...prev,...validFiles]);const previews=validFiles.map(file=>({url:URL.createObjectURL(file),name:file.name,type:file.type.startsWith('image/')?'image':'video'}));setPreviewFiles(prev=>[...prev,...previews]);};const removeFile=index=>{setSelectedFiles(prev=>prev.filter((_,i)=>i!==index));setPreviewFiles(prev=>prev.filter((_,i)=>i!==index));};const handleDelete=id=>{if(!window.confirm('هل تريد حذف هذا المنتج؟'))return;const token=localStorage.getItem('token');setLoading(true);axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>{showToast('تم حذف المنتج بنجاح','success');fetchProducts();// تحديث فوري\n}).catch(err=>showToast('خطأ في حذف المنتج: '+err.message,'error')).finally(()=>setLoading(false));};// === تحديث المنتج بدون رفع ملفات ===\nconst handleUpdateProduct=()=>{if(!editingProduct.name||!editingProduct.type||!editingProduct.price||!editingProduct.quantityPerCarton||!editingProduct.manufacturer){showToast('يرجى ملء جميع الحقول المطلوبة','error');return;}const token=localStorage.getItem('token');setLoading(true);axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(editingProduct._id,\"/update\"),editingProduct,{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{showToast('تم تحديث المنتج وإعادة عرضه كجديد بنجاح','success');setEditingProduct(null);fetchProducts();// تحديث فوري\n}).catch(err=>{var _err$response2,_err$response2$data;const msg=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'فشل التحديث';showToast(msg,'error');}).finally(()=>setLoading(false));};const openMedia=(media,type)=>setSelectedMedia({url:\"\".concat(process.env.REACT_APP_API_URL,\"/Uploads/\").concat(media),type});const closeMedia=()=>setSelectedMedia(null);const showToast=(message,type)=>{setToast({show:true,message,type});setTimeout(()=>setToast({show:false,message:'',type:''}),3000);};const cardVariants={hidden:{opacity:0,y:20,scale:0.98},visible:{opacity:1,y:0,scale:1,transition:{duration:0.5,ease:[0.22,1,0.36,1]}},hover:{scale:1.03,boxShadow:'0 12px 24px rgba(0, 0, 0, 0.2)'}};const buttonVariants={hover:{scale:1.05},tap:{scale:0.95}};const toastVariants={hidden:{opacity:0,x:50},visible:{opacity:1,x:0},exit:{opacity:0,x:50}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-96 h-96 bg-purple-900 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-80 h-80 bg-purple-800 rounded-full blur-3xl animate-pulse delay-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"text-center mb-10\",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:0.8},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\",children:\"\\u0644\\u0648\\u062D\\u0629 \\u062A\\u062D\\u0643\\u0645 \\u0627\\u0644\\u062A\\u0627\\u062C\\u0631\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-300 mt-2 text-lg\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0645\\u0646\\u062A\\u062C\\u0627\\u062A\\u0643 \\u0628\\u0633\\u0647\\u0648\\u0644\\u0629\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:toast.show&&/*#__PURE__*/_jsx(motion.div,{className:\"fixed top-6 right-6 px-6 py-4 rounded-full shadow-2xl flex items-center gap-3 z-50 \".concat(toast.type==='success'?'bg-green-600':'bg-red-600',\" text-white\"),variants:toastVariants,initial:\"hidden\",animate:\"visible\",exit:\"exit\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-bold\",children:toast.message})})}),/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl p-6 md:p-8 rounded-2xl shadow-2xl border border-gray-700/50 mb-10\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[[{key:'name',placeholder:'اسم المنتج',type:'text'},{key:'price',placeholder:'سعر الكرتونة',type:'number'},{key:'quantityPerCarton',placeholder:'الكرتونة (جوز)',type:'number'},{key:'manufacturer',placeholder:'المصنع',type:'text'},{key:'description',placeholder:'الوصف (اختياري)',type:'text'}].map(field=>/*#__PURE__*/_jsx(\"input\",{type:field.type,placeholder:field.placeholder,value:form[field.key],onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{[field.key]:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\"},field.key)),/*#__PURE__*/_jsxs(\"select\",{value:form.type,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{type:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0646\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0631\\u062C\\u0627\\u0644\\u064A\",children:\"\\u0631\\u062C\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u062D\\u0631\\u064A\\u0645\\u064A\",children:\"\\u062D\\u0631\\u064A\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0623\\u0637\\u0641\\u0627\\u0644\",children:\"\\u0623\\u0637\\u0641\\u0627\\u0644\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-300 mb-3\",children:[/*#__PURE__*/_jsx(Upload,{className:\"inline w-5 h-5 ml-2\"}),\"\\u0631\\u0641\\u0639 \\u0635\\u0648\\u0631 \\u0648\\u0641\\u064A\\u062F\\u064A\\u0648\\u0647\\u0627\\u062A (\\u062D\\u062F \\u0623\\u0642\\u0635\\u0649 10 \\u0645\\u0644\\u0641\\u0627\\u062A - \\u0635\\u0648\\u0631\\u0629 \\u0648\\u0627\\u062D\\u062F\\u0629 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u0623\\u0642\\u0644)\"]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",multiple:true,accept:\"image/*,video/*\",onChange:handleFileChange,className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700 transition\"})]}),previewFiles.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\",children:previewFiles.map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[file.type==='image'?/*#__PURE__*/_jsx(\"img\",{src:file.url,alt:\"\",className:\"w-full h-32 object-cover rounded-lg border border-purple-500\"}):/*#__PURE__*/_jsx(\"video\",{src:file.url,className:\"w-full h-32 object-cover rounded-lg border border-purple-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFile(index),className:\"absolute top-2 right-2 bg-red-600 p-1 rounded-full opacity-0 group-hover:opacity-100 transition\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-xs\",children:file.type==='image'?/*#__PURE__*/_jsx(ImageIcon,{className:\"w-4 h-4 inline\"}):/*#__PURE__*/_jsx(FileVideo,{className:\"w-4 h-4 inline\"})})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-6\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:handleAddProduct,disabled:loading,className:\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg disabled:opacity-70 transition\",variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",children:loading?/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"w-5 h-5 border-2 border-white border-t-transparent rounded-full\",animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:'linear'}}),\" \\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u0629...\"]}):'إضافة منتج'}),/*#__PURE__*/_jsx(motion.button,{onClick:resetForm,className:\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 shadow-lg transition\",variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",children:\"\\u0645\\u0633\\u062D \\u0627\\u0644\\u0646\\u0645\\u0648\\u0630\\u062C\"})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center py-20\",children:/*#__PURE__*/_jsx(motion.div,{className:\"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full\",animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:'linear'}})}):products.length===0?/*#__PURE__*/_jsx(motion.p,{className:\"col-span-full text-center text-slate-400 text-xl py-10\",initial:{opacity:0},animate:{opacity:1},children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0628\\u0639\\u062F. \\u0627\\u0628\\u062F\\u0623 \\u0628\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0646\\u062A\\u062C!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:products.map((product,index)=>{var _product$images,_product$images2,_product$videos;return/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\",variants:cardVariants,initial:\"hidden\",whileInView:\"visible\",viewport:{once:true},whileHover:\"hover\",custom:index,layout:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:(_product$images=product.images)!==null&&_product$images!==void 0&&_product$images[0]?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/Uploads/\").concat(product.images[0]),alt:product.name,className:\"w-full h-48 object-cover rounded-xl cursor-pointer hover:opacity-90 transition\",onClick:()=>openMedia(product.images[0],'image'),onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(process.env.REACT_APP_API_URL,\"/Uploads/placeholder-image.jpg\");}}):/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/Uploads/placeholder-image.jpg\"),alt:\"\\u0628\\u062F\\u064A\\u0644\",className:\"w-full h-48 object-cover rounded-xl\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 space-y-2 text-right border-t border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629: \",/*#__PURE__*/_jsx(\"span\",{className:product.approved?'text-green-400':'text-yellow-400',children:product.approved?'موافق':'في الانتظار'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0643\\u0631\\u062A\\u0648\\u0646\\u0629: \",product.price,\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062C\\u0648\\u0632: \",(product.price/product.quantityPerCarton).toFixed(2),\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629: \",product.quantityPerCarton,\" \\u062C\\u0648\\u0632\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0645\\u0635\\u0646\\u0639: \",product.manufacturer]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300 line-clamp-2\",children:[\"\\u0627\\u0644\\u0648\\u0635\\u0641: \",product.description||'لا يوجد']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mt-3 justify-end\",children:[(_product$images2=product.images)===null||_product$images2===void 0?void 0:_product$images2.map((img,i)=>/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/Uploads/\").concat(img),alt:\"\",className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\",onClick:()=>openMedia(img,'image'),onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(process.env.REACT_APP_API_URL,\"/Uploads/placeholder-image.jpg\");}},i)),(_product$videos=product.videos)===null||_product$videos===void 0?void 0:_product$videos.map((vid,i)=>/*#__PURE__*/_jsx(\"video\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/Uploads/\").concat(vid),className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\",onClick:()=>openMedia(vid,'video')},i))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-4\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:()=>setEditingProduct(product),className:\"flex-1 py-2 rounded-xl text-white font-medium bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg transition\",variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",children:\"\\u062A\\u062D\\u062F\\u064A\\u062B\"}),/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleDelete(product._id),className:\"flex-1 py-2 rounded-xl text-white font-medium bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-lg transition\",variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",children:\"\\u062D\\u0630\\u0641\"})]})]})]},product._id);})})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:selectedMedia&&/*#__PURE__*/_jsx(motion.div,{className:\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:closeMedia,children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative max-w-4xl max-h-screen\",onClick:e=>e.stopPropagation(),initial:{scale:0.9},animate:{scale:1},exit:{scale:0.9},children:[selectedMedia.type==='image'?/*#__PURE__*/_jsx(\"img\",{src:selectedMedia.url,alt:\"\",className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\"}):/*#__PURE__*/_jsx(\"video\",{src:selectedMedia.url,controls:true,autoPlay:true,className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeMedia,className:\"absolute top-4 right-4 bg-purple-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-purple-700 transition\",children:\"\\xD7\"})]})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:editingProduct&&/*#__PURE__*/_jsx(motion.div,{className:\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>setEditingProduct(null),children:/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/95 backdrop-blur-xl p-6 md:p-8 rounded-2xl shadow-2xl border border-gray-700/50 max-w-2xl w-full\",onClick:e=>e.stopPropagation(),initial:{scale:0.9,y:50},animate:{scale:1,y:0},exit:{scale:0.9,y:50},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-purple-400 mb-6 text-center\",children:\"\\u062A\\u062D\\u062F\\u064A\\u062B \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[[{key:'name',placeholder:'اسم المنتج'},{key:'price',placeholder:'سعر الكرتونة',type:'number'},{key:'quantityPerCarton',placeholder:'الكرتونة (جوز)',type:'number'},{key:'manufacturer',placeholder:'المصنع'},{key:'description',placeholder:'الوصف (اختياري)'}].map(field=>/*#__PURE__*/_jsx(\"input\",{type:field.type||'text',placeholder:field.placeholder,value:editingProduct[field.key]||'',onChange:e=>setEditingProduct(_objectSpread(_objectSpread({},editingProduct),{},{[field.key]:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\"},field.key)),/*#__PURE__*/_jsxs(\"select\",{value:editingProduct.type||'',onChange:e=>setEditingProduct(_objectSpread(_objectSpread({},editingProduct),{},{type:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0646\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0631\\u062C\\u0627\\u0644\\u064A\",children:\"\\u0631\\u062C\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u062D\\u0631\\u064A\\u0645\\u064A\",children:\"\\u062D\\u0631\\u064A\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0623\\u0637\\u0641\\u0627\\u0644\",children:\"\\u0623\\u0637\\u0641\\u0627\\u0644\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-6\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:handleUpdateProduct,disabled:loading,className:\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg disabled:opacity-70 transition\",variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",children:loading?'جارٍ التحديث...':'تحديث المنتج'}),/*#__PURE__*/_jsx(motion.button,{onClick:()=>setEditingProduct(null),className:\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 shadow-lg transition\",variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})})})]});};export default VendorDashboard;","map":{"version":3,"names":["useState","useEffect","useRef","motion","AnimatePresence","axios","X","Upload","Image","ImageIcon","Video","FileVideo","jsx","_jsx","jsxs","_jsxs","VendorDashboard","products","setProducts","form","setForm","name","type","price","quantityPerCarton","manufacturer","description","selectedFiles","setSelectedFiles","previewFiles","setPreviewFiles","selectedMedia","setSelectedMedia","toast","setToast","show","message","loading","setLoading","editingProduct","setEditingProduct","fileInputRef","fetchProducts","token","localStorage","getItem","userId","showToast","get","concat","process","env","REACT_APP_API_URL","headers","Authorization","then","res","filtered","data","filter","p","vendor","_id","sorted","sort","a","b","Date","updatedAt","catch","err","console","error","finally","handleAddProduct","length","hasImage","some","f","startsWith","hasVideo","formData","FormData","Object","keys","forEach","key","append","file","post","resetForm","_err$response","_err$response$data","msg","response","current","value","handleFileChange","e","files","Array","from","target","maxSize","validFiles","size","prev","previews","map","url","URL","createObjectURL","removeFile","index","_","i","handleDelete","id","window","confirm","delete","handleUpdateProduct","put","_err$response2","_err$response2$data","openMedia","media","closeMedia","setTimeout","cardVariants","hidden","opacity","y","scale","visible","transition","duration","ease","hover","boxShadow","buttonVariants","tap","toastVariants","x","exit","className","children","div","initial","animate","variants","placeholder","field","onChange","_objectSpread","disabled","ref","multiple","accept","src","alt","onClick","button","whileHover","whileTap","rotate","repeat","Infinity","product","_product$images","_product$images2","_product$videos","whileInView","viewport","once","custom","layout","images","onError","onerror","approved","toFixed","img","videos","vid","stopPropagation","controls","autoPlay"],"sources":["/root/shose/app-shose/frontend/src/pages/VendorDashboard.js"],"sourcesContent":["// frontend/src/pages/VendorDashboard.js\nimport { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { X, Upload, Image as ImageIcon, Video, FileVideo } from 'lucide-react';\n\nconst VendorDashboard = () => {\n  const [products, setProducts] = useState([]);\n  const [form, setForm] = useState({\n    name: '', type: '', price: '', quantityPerCarton: '', manufacturer: '', description: ''\n  });\n  const [selectedFiles, setSelectedFiles] = useState([]); // جميع الملفات (صور + فيديو)\n  const [previewFiles, setPreviewFiles] = useState([]); // للعرض المسبق\n  const [selectedMedia, setSelectedMedia] = useState(null);\n  const [toast, setToast] = useState({ show: false, message: '', type: 'success' });\n  const [loading, setLoading] = useState(false);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const fileInputRef = useRef(null);\n\n  // === جلب المنتجات (يتحدث تلقائيًا بعد أي تغيير) ===\n  const fetchProducts = () => {\n    const token = localStorage.getItem('token');\n    const userId = localStorage.getItem('userId');\n    if (!token || !userId) {\n      showToast('يرجى تسجيل الدخول', 'error');\n      return;\n    }\n    setLoading(true);\n    axios.get(`${process.env.REACT_APP_API_URL}/api/products/my-products`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then(res => {\n        const filtered = res.data.filter(p => {\n          if (p.vendor) {\n            return typeof p.vendor === 'object' ? p.vendor._id === userId : p.vendor === userId;\n          }\n          return false;\n        });\n        // ترتيب تنازلي حسب التعديث (الأحدث فوق)\n        const sorted = filtered.sort((a, b) => new Date(b.updatedAt) - new Date(a.updatedAt));\n        setProducts(sorted);\n        showToast('تم تحديث المنتجات بنجاح', 'success');\n      })\n      .catch(err => {\n        console.error('خطأ في جلب المنتجات:', err);\n        showToast('فشل جلب المنتجات', 'error');\n      })\n      .finally(() => setLoading(false));\n  };\n\n  // === جلب المنتجات عند التحميل + بعد أي تغيير ===\n  useEffect(() => {\n    fetchProducts();\n  }, []); // أول مرة\n\n  // === إضافة منتج ===\n  const handleAddProduct = () => {\n    if (!form.name || !form.type || !form.price || !form.quantityPerCarton || !form.manufacturer) {\n      showToast('يرجى ملء جميع الحقول المطلوبة', 'error');\n      return;\n    }\n    if (selectedFiles.length === 0) {\n      showToast('يجب رفع صورة واحدة على الأقل', 'error');\n      return;\n    }\n    const hasImage = selectedFiles.some(f => f.type.startsWith('image/'));\n    const hasVideo = selectedFiles.some(f => f.type.startsWith('video/'));\n    if (hasVideo && !hasImage) {\n      showToast('يجب رفع صورة واحدة على الأقل عند رفع فيديو', 'error');\n      return;\n    }\n    const formData = new FormData();\n    Object.keys(form).forEach(key => formData.append(key, form[key]));\n    selectedFiles.forEach(file => formData.append('files', file));\n    const token = localStorage.getItem('token');\n    setLoading(true);\n    axios.post(`${process.env.REACT_APP_API_URL}/api/products`, formData, {\n      headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'multipart/form-data' },\n    })\n      .then(res => {\n        showToast('تم إضافة المنتج بنجاح', 'success');\n        resetForm();\n        fetchProducts(); // تحديث فوري\n      })\n      .catch(err => {\n        const msg = err.response?.data?.message || 'خطأ في إضافة المنتج';\n        showToast(msg, 'error');\n      })\n      .finally(() => setLoading(false));\n  };\n\n  const resetForm = () => {\n    setForm({ name: '', type: '', price: '', quantityPerCarton: '', manufacturer: '', description: '' });\n    setSelectedFiles([]);\n    setPreviewFiles([]);\n    if (fileInputRef.current) fileInputRef.current.value = '';\n  };\n\n  const handleFileChange = (e) => {\n    const files = Array.from(e.target.files);\n    const maxSize = 50 * 1024 * 1024;\n    const validFiles = files.filter(f => {\n      if (f.size > maxSize) {\n        showToast(`الملف ${f.name} كبير جدًا! الحد الأقصى 50 ميجابايت.`, 'error');\n        return false;\n      }\n      return true;\n    });\n    if (validFiles.length + selectedFiles.length > 10) {\n      showToast('حد أقصى 10 ملفات فقط (صور وفيديوهات)', 'error');\n      return;\n    }\n    setSelectedFiles(prev => [...prev, ...validFiles]);\n    const previews = validFiles.map(file => ({\n      url: URL.createObjectURL(file),\n      name: file.name,\n      type: file.type.startsWith('image/') ? 'image' : 'video'\n    }));\n    setPreviewFiles(prev => [...prev, ...previews]);\n  };\n\n  const removeFile = (index) => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n    setPreviewFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleDelete = (id) => {\n    if (!window.confirm('هل تريد حذف هذا المنتج؟')) return;\n    const token = localStorage.getItem('token');\n    setLoading(true);\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/products/${id}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then(() => {\n        showToast('تم حذف المنتج بنجاح', 'success');\n        fetchProducts(); // تحديث فوري\n      })\n      .catch(err => showToast('خطأ في حذف المنتج: ' + err.message, 'error'))\n      .finally(() => setLoading(false));\n  };\n\n  // === تحديث المنتج بدون رفع ملفات ===\n  const handleUpdateProduct = () => {\n    if (!editingProduct.name || !editingProduct.type || !editingProduct.price || !editingProduct.quantityPerCarton || !editingProduct.manufacturer) {\n      showToast('يرجى ملء جميع الحقول المطلوبة', 'error');\n      return;\n    }\n    const token = localStorage.getItem('token');\n    setLoading(true);\n    axios.put(`${process.env.REACT_APP_API_URL}/api/products/${editingProduct._id}/update`, editingProduct, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(res => {\n        showToast('تم تحديث المنتج وإعادة عرضه كجديد بنجاح', 'success');\n        setEditingProduct(null);\n        fetchProducts(); // تحديث فوري\n      })\n      .catch(err => {\n        const msg = err.response?.data?.message || 'فشل التحديث';\n        showToast(msg, 'error');\n      })\n      .finally(() => setLoading(false));\n  };\n\n  const openMedia = (media, type) => setSelectedMedia({ url: `${process.env.REACT_APP_API_URL}/Uploads/${media}`, type });\n  const closeMedia = () => setSelectedMedia(null);\n\n  const showToast = (message, type) => {\n    setToast({ show: true, message, type });\n    setTimeout(() => setToast({ show: false, message: '', type: '' }), 3000);\n  };\n\n  const cardVariants = {\n    hidden: { opacity: 0, y: 20, scale: 0.98 },\n    visible: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.5, ease: [0.22, 1, 0.36, 1] } },\n    hover: { scale: 1.03, boxShadow: '0 12px 24px rgba(0, 0, 0, 0.2)' }\n  };\n  const buttonVariants = { hover: { scale: 1.05 }, tap: { scale: 0.95 } };\n  const toastVariants = { hidden: { opacity: 0, x: 50 }, visible: { opacity: 1, x: 0 }, exit: { opacity: 0, x: 50 } };\n\n  return (\n    <div className=\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\">\n      <div className=\"absolute inset-0 opacity-10\">\n        <div className=\"absolute top-0 left-0 w-96 h-96 bg-purple-900 rounded-full blur-3xl animate-pulse\" />\n        <div className=\"absolute bottom-0 right-0 w-80 h-80 bg-purple-800 rounded-full blur-3xl animate-pulse delay-700\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-7xl mx-auto\">\n        {/* === العنوان === */}\n        <motion.div className=\"text-center mb-10\" initial={{ opacity: 0, y: -30 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.8 }}>\n          <h1 className=\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\">\n            لوحة تحكم التاجر\n          </h1>\n          <p className=\"text-purple-300 mt-2 text-lg\">إدارة منتجاتك بسهولة</p>\n        </motion.div>\n\n        {/* === Toast === */}\n        <AnimatePresence>\n          {toast.show && (\n            <motion.div\n              className={`fixed top-6 right-6 px-6 py-4 rounded-full shadow-2xl flex items-center gap-3 z-50 ${toast.type === 'success' ? 'bg-green-600' : 'bg-red-600'} text-white`}\n              variants={toastVariants}\n              initial=\"hidden\"\n              animate=\"visible\"\n              exit=\"exit\"\n            >\n              <span className=\"font-bold\">{toast.message}</span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* === نموذج إضافة منتج === */}\n        <motion.div className=\"bg-[#242526]/80 backdrop-blur-xl p-6 md:p-8 rounded-2xl shadow-2xl border border-gray-700/50 mb-10\" initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }}>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {[\n              { key: 'name', placeholder: 'اسم المنتج', type: 'text' },\n              { key: 'price', placeholder: 'سعر الكرتونة', type: 'number' },\n              { key: 'quantityPerCarton', placeholder: 'الكرتونة (جوز)', type: 'number' },\n              { key: 'manufacturer', placeholder: 'المصنع', type: 'text' },\n              { key: 'description', placeholder: 'الوصف (اختياري)', type: 'text' },\n            ].map(field => (\n              <input\n                key={field.key}\n                type={field.type}\n                placeholder={field.placeholder}\n                value={form[field.key]}\n                onChange={e => setForm({ ...form, [field.key]: e.target.value })}\n                className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\"\n              />\n            ))}\n            <select\n              value={form.type}\n              onChange={e => setForm({ ...form, type: e.target.value })}\n              className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\"\n            >\n              <option value=\"\" disabled>اختر النوع</option>\n              <option value=\"رجالي\">رجالي</option>\n              <option value=\"حريمي\">حريمي</option>\n              <option value=\"أطفال\">أطفال</option>\n            </select>\n          </div>\n\n          <div className=\"mt-6\">\n            <label className=\"block text-sm font-medium text-gray-300 mb-3\">\n              <Upload className=\"inline w-5 h-5 ml-2\" />\n              رفع صور وفيديوهات (حد أقصى 10 ملفات - صورة واحدة على الأقل)\n            </label>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              multiple\n              accept=\"image/*,video/*\"\n              onChange={handleFileChange}\n              className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-purple-600 file:text-white hover:file:bg-purple-700 transition\"\n            />\n          </div>\n\n          {previewFiles.length > 0 && (\n            <div className=\"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4\">\n              {previewFiles.map((file, index) => (\n                <div key={index} className=\"relative group\">\n                  {file.type === 'image' ? (\n                    <img src={file.url} alt=\"\" className=\"w-full h-32 object-cover rounded-lg border border-purple-500\" />\n                  ) : (\n                    <video src={file.url} className=\"w-full h-32 object-cover rounded-lg border border-purple-500\" />\n                  )}\n                  <button\n                    onClick={() => removeFile(index)}\n                    className=\"absolute top-2 right-2 bg-red-600 p-1 rounded-full opacity-0 group-hover:opacity-100 transition\"\n                  >\n                    <X className=\"w-4 h-4\" />\n                  </button>\n                  <div className=\"absolute bottom-2 left-2 bg-black/70 px-2 py-1 rounded text-xs\">\n                    {file.type === 'image' ? <ImageIcon className=\"w-4 h-4 inline\" /> : <FileVideo className=\"w-4 h-4 inline\" />}\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n\n          <div className=\"flex gap-3 mt-6\">\n            <motion.button onClick={handleAddProduct} disabled={loading} className=\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-lg disabled:opacity-70 transition\" variants={buttonVariants} whileHover=\"hover\" whileTap=\"tap\">\n              {loading ? <span className=\"flex items-center justify-center gap-2\"><motion.div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full\" animate={{ rotate: 360 }} transition={{ duration: 1, repeat: Infinity, ease: 'linear' }} /> جارٍ الإضافة...</span> : 'إضافة منتج'}\n            </motion.button>\n            <motion.button onClick={resetForm} className=\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 shadow-lg transition\" variants={buttonVariants} whileHover=\"hover\" whileTap=\"tap\">\n              مسح النموذج\n            </motion.button>\n          </div>\n        </motion.div>\n\n        {/* === قائمة المنتجات === */}\n        {loading ? (\n          <div className=\"flex justify-center py-20\">\n            <motion.div className=\"w-16 h-16 border-4 border-purple-600 border-t-transparent rounded-full\" animate={{ rotate: 360 }} transition={{ duration: 1, repeat: Infinity, ease: 'linear' }} />\n          </div>\n        ) : products.length === 0 ? (\n          <motion.p className=\"col-span-full text-center text-slate-400 text-xl py-10\" initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n            لا توجد منتجات بعد. ابدأ بإضافة منتج!\n          </motion.p>\n        ) : (\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n            <AnimatePresence>\n              {products.map((product, index) => (\n                <motion.div\n                  key={product._id}\n                  className=\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\"\n                  variants={cardVariants}\n                  initial=\"hidden\"\n                  whileInView=\"visible\"\n                  viewport={{ once: true }}\n                  whileHover=\"hover\"\n                  custom={index}\n                  layout\n                >\n                  <div className=\"p-4\">\n                    {product.images?.[0] ? (\n                      <img \n                        src={`${process.env.REACT_APP_API_URL}/Uploads/${product.images[0]}`} \n                        alt={product.name} \n                        className=\"w-full h-48 object-cover rounded-xl cursor-pointer hover:opacity-90 transition\" \n                        onClick={() => openMedia(product.images[0], 'image')} \n                        onError={e => { e.target.onerror = null; e.target.src = `${process.env.REACT_APP_API_URL}/Uploads/placeholder-image.jpg`; }} \n                      />\n                    ) : (\n                      <img src={`${process.env.REACT_APP_API_URL}/Uploads/placeholder-image.jpg`} alt=\"بديل\" className=\"w-full h-48 object-cover rounded-xl\" />\n                    )}\n                  </div>\n\n                  <div className=\"p-5 space-y-2 text-right border-t border-gray-700\">\n                    <h3 className=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\">{product.name}</h3>\n                    <p className=\"text-sm text-gray-300\">الحالة: <span className={product.approved ? 'text-green-400' : 'text-yellow-400'}>{product.approved ? 'موافق' : 'في الانتظار'}</span></p>\n                    <p className=\"text-sm text-gray-300\">سعر الكرتونة: {product.price} جنيه</p>\n                    <p className=\"text-sm text-gray-300\">سعر الجوز: {(product.price / product.quantityPerCarton).toFixed(2)} جنيه</p>\n                    <p className=\"text-sm text-gray-300\">الكمية: {product.quantityPerCarton} جوز</p>\n                    <p className=\"text-sm text-gray-300\">المصنع: {product.manufacturer}</p>\n                    <p className=\"text-sm text-gray-300 line-clamp-2\">الوصف: {product.description || 'لا يوجد'}</p>\n\n                    <div className=\"flex flex-wrap gap-2 mt-3 justify-end\">\n                      {product.images?.map((img, i) => (\n                        <img \n                          key={i} \n                          src={`${process.env.REACT_APP_API_URL}/Uploads/${img}`} \n                          alt=\"\" \n                          className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\" \n                          onClick={() => openMedia(img, 'image')} \n                          onError={e => { e.target.onerror = null; e.target.src = `${process.env.REACT_APP_API_URL}/Uploads/placeholder-image.jpg`; }} \n                        />\n                      ))}\n                      {product.videos?.map((vid, i) => (\n                        <video \n                          key={i} \n                          src={`${process.env.REACT_APP_API_URL}/Uploads/${vid}`} \n                          className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\" \n                          onClick={() => openMedia(vid, 'video')} \n                        />\n                      ))}\n                    </div>\n\n                    <div className=\"flex gap-2 mt-4\">\n                      <motion.button\n                        onClick={() => setEditingProduct(product)}\n                        className=\"flex-1 py-2 rounded-xl text-white font-medium bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg transition\"\n                        variants={buttonVariants}\n                        whileHover=\"hover\"\n                        whileTap=\"tap\"\n                      >\n                        تحديث\n                      </motion.button>\n                      <motion.button\n                        onClick={() => handleDelete(product._id)}\n                        className=\"flex-1 py-2 rounded-xl text-white font-medium bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-lg transition\"\n                        variants={buttonVariants}\n                        whileHover=\"hover\"\n                        whileTap=\"tap\"\n                      >\n                        حذف\n                      </motion.button>\n                    </div>\n                  </div>\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </div>\n        )}\n      </div>\n\n      {/* === مودال الوسائط === */}\n      <AnimatePresence>\n        {selectedMedia && (\n          <motion.div className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={closeMedia}>\n            <motion.div className=\"relative max-w-4xl max-h-screen\" onClick={e => e.stopPropagation()} initial={{ scale: 0.9 }} animate={{ scale: 1 }} exit={{ scale: 0.9 }}>\n              {selectedMedia.type === 'image' ? (\n                <img src={selectedMedia.url} alt=\"\" className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\" />\n              ) : (\n                <video src={selectedMedia.url} controls autoPlay className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\" />\n              )}\n              <button onClick={closeMedia} className=\"absolute top-4 right-4 bg-purple-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-purple-700 transition\">×</button>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* === مودال التحديث === */}\n      <AnimatePresence>\n        {editingProduct && (\n          <motion.div className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\" initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} onClick={() => setEditingProduct(null)}>\n            <motion.div\n              className=\"bg-[#242526]/95 backdrop-blur-xl p-6 md:p-8 rounded-2xl shadow-2xl border border-gray-700/50 max-w-2xl w-full\"\n              onClick={e => e.stopPropagation()}\n              initial={{ scale: 0.9, y: 50 }}\n              animate={{ scale: 1, y: 0 }}\n              exit={{ scale: 0.9, y: 50 }}\n            >\n              <h2 className=\"text-2xl font-bold text-purple-400 mb-6 text-center\">تحديث المنتج</h2>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                {[\n                  { key: 'name', placeholder: 'اسم المنتج' },\n                  { key: 'price', placeholder: 'سعر الكرتونة', type: 'number' },\n                  { key: 'quantityPerCarton', placeholder: 'الكرتونة (جوز)', type: 'number' },\n                  { key: 'manufacturer', placeholder: 'المصنع' },\n                  { key: 'description', placeholder: 'الوصف (اختياري)' },\n                ].map(field => (\n                  <input\n                    key={field.key}\n                    type={field.type || 'text'}\n                    placeholder={field.placeholder}\n                    value={editingProduct[field.key] || ''}\n                    onChange={e => setEditingProduct({ ...editingProduct, [field.key]: e.target.value })}\n                    className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\"\n                  />\n                ))}\n                <select\n                  value={editingProduct.type || ''}\n                  onChange={e => setEditingProduct({ ...editingProduct, type: e.target.value })}\n                  className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/30 transition\"\n                >\n                  <option value=\"\" disabled>اختر النوع</option>\n                  <option value=\"رجالي\">رجالي</option>\n                  <option value=\"حريمي\">حريمي</option>\n                  <option value=\"أطفال\">أطفال</option>\n                </select>\n              </div>\n              <div className=\"flex gap-3 mt-6\">\n                <motion.button\n                  onClick={handleUpdateProduct}\n                  disabled={loading}\n                  className=\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-lg disabled:opacity-70 transition\"\n                  variants={buttonVariants}\n                  whileHover=\"hover\"\n                  whileTap=\"tap\"\n                >\n                  {loading ? 'جارٍ التحديث...' : 'تحديث المنتج'}\n                </motion.button>\n                <motion.button\n                  onClick={() => setEditingProduct(null)}\n                  className=\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 shadow-lg transition\"\n                  variants={buttonVariants}\n                  whileHover=\"hover\"\n                  whileTap=\"tap\"\n                >\n                  إلغاء\n                </motion.button>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default VendorDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}