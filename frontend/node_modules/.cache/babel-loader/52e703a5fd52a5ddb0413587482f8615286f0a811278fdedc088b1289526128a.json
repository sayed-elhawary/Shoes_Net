{"ast":null,"code":"import _objectSpread from\"/root/shose/app-shose/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/VendorDashboard.js\nimport{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VendorDashboard=()=>{const[products,setProducts]=useState([]);const[form,setForm]=useState({name:'',type:'',price:'',quantityPerCarton:'',manufacturer:'',description:''});const[images,setImages]=useState([]);const[videos,setVideos]=useState([]);const[selectedMedia,setSelectedMedia]=useState(null);const[isEditing,setIsEditing]=useState(false);const[editingProductId,setEditingProductId]=useState(null);const[error,setError]=useState('');// جلب المنتجات\nuseEffect(()=>{const token=localStorage.getItem('token');const userId=localStorage.getItem('userId');if(!token||!userId){setError('يرجى تسجيل الدخول');return;}axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/my-products\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setProducts(res.data.filter(p=>{if(p.vendor){return typeof p.vendor==='object'?p.vendor._id===userId:p.vendor===userId;}return false;}));setError('');}).catch(err=>{console.error('خطأ في جلب المنتجات:',err);setError('فشل جلب المنتجات');});},[]);// إضافة أو تعديل منتج\nconst handleAddOrUpdateProduct=()=>{if(!form.name||!form.type||!form.price||!form.quantityPerCarton||!form.manufacturer){setError('يرجى ملء جميع الحقول المطلوبة');return;}if(videos.length>0&&images.length===0){setError('يجب رفع صورة واحدة على الأقل عند رفع فيديو');return;}const formData=new FormData();Object.keys(form).forEach(key=>formData.append(key,form[key]));if(!isEditing)formData.append('vendor',localStorage.getItem('userId'));images.forEach(img=>formData.append('images',img));videos.forEach(vid=>formData.append('videos',vid));const token=localStorage.getItem('token');const url=isEditing?\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(editingProductId):\"\".concat(process.env.REACT_APP_API_URL,\"/api/products\");const method=isEditing?'put':'post';axios[method](url,formData,{headers:{Authorization:\"Bearer \".concat(token),'Content-Type':'multipart/form-data'}}).then(res=>{if(isEditing){setProducts(prev=>prev.map(p=>p._id===editingProductId?res.data:p));alert('تم تعديل المنتج بنجاح');}else{setProducts(prev=>[...prev,res.data]);alert('تم إضافة المنتج بنجاح');}resetForm();setError('');}).catch(err=>{var _err$response,_err$response$data;const msg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"\\u062E\\u0637\\u0623 \\u0641\\u064A \".concat(isEditing?'تعديل':'إضافة',\" \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\");setError(msg);});};const resetForm=()=>{setForm({name:'',type:'',price:'',quantityPerCarton:'',manufacturer:'',description:''});setImages([]);setVideos([]);setIsEditing(false);setEditingProductId(null);setError('');};const handleEdit=product=>{setForm({name:product.name,type:product.type,price:product.price,quantityPerCarton:product.quantityPerCarton,manufacturer:product.manufacturer,description:product.description});setImages([]);setVideos([]);setIsEditing(true);setEditingProductId(product._id);setError('');};const handleImageChange=e=>{const files=[...e.target.files];const maxSize=50*1024*1024;const validFiles=files.filter(f=>{if(f.size>maxSize){alert(\"\\u0627\\u0644\\u0645\\u0644\\u0641 \".concat(f.name,\" \\u0643\\u0628\\u064A\\u0631 \\u062C\\u062F\\u064B\\u0627! \\u0627\\u0644\\u062D\\u062F \\u0627\\u0644\\u0623\\u0642\\u0635\\u0649 50 \\u0645\\u064A\\u062C\\u0627\\u0628\\u0627\\u064A\\u062A.\"));return false;}return true;});setImages(validFiles);};const handleVideoChange=e=>{const files=[...e.target.files];const maxSize=50*1024*1024;const validFiles=files.filter(f=>{if(f.size>maxSize){alert(\"\\u0627\\u0644\\u0645\\u0644\\u0641 \".concat(f.name,\" \\u0643\\u0628\\u064A\\u0631 \\u062C\\u062F\\u064B\\u0627! \\u0627\\u0644\\u062D\\u062F \\u0627\\u0644\\u0623\\u0642\\u0635\\u0649 50 \\u0645\\u064A\\u062C\\u0627\\u0628\\u0627\\u064A\\u062A.\"));return false;}return true;});setVideos(validFiles);};const handleDelete=id=>{if(!window.confirm('هل تريد حذف هذا المنتج؟'))return;const token=localStorage.getItem('token');axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(()=>{setProducts(prev=>prev.filter(p=>p._id!==id));alert('تم حذف المنتج بنجاح');}).catch(err=>setError('خطأ في حذف المنتج: '+err.message));};const openMedia=(media,type)=>setSelectedMedia({url:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(media),type});const closeMedia=()=>setSelectedMedia(null);// أنيميشن خفيفة\nconst cardVariants={hidden:{opacity:0,y:20,scale:0.98},visible:{opacity:1,y:0,scale:1,transition:{duration:0.5,ease:[0.22,1,0.36,1]}},hover:{scale:1.03,boxShadow:'0 10px 20px rgba(0, 0, 0, 0.15)',transition:{duration:0.2}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-96 h-96 bg-red-900 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-80 h-80 bg-red-800 rounded-full blur-3xl animate-pulse delay-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"text-center mb-10\",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\",children:\"\\u0644\\u0648\\u062D\\u0629 \\u062A\\u062D\\u0643\\u0645 \\u0627\\u0644\\u062A\\u0627\\u062C\\u0631\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 mt-2\",children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0645\\u0646\\u062A\\u062C\\u0627\\u062A\\u0643 \\u0628\\u0633\\u0647\\u0648\\u0644\\u0629\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:error&&/*#__PURE__*/_jsx(motion.p,{className:\"text-center text-red-400 mb-6\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:error})}),/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl p-6 rounded-2xl shadow-xl border border-gray-700/50 mb-10\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[[{key:'name',placeholder:'اسم المنتج',type:'text'},{key:'price',placeholder:'سعر الكرتونة',type:'number'},{key:'quantityPerCarton',placeholder:'الكرتونة (جوز)',type:'number'},{key:'manufacturer',placeholder:'المصنع',type:'text'},{key:'description',placeholder:'الوصف (اختياري)',type:'text'}].map(field=>/*#__PURE__*/_jsx(\"input\",{type:field.type,placeholder:field.placeholder,value:form[field.key],onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{[field.key]:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200\"},field.key)),/*#__PURE__*/_jsxs(\"select\",{value:form.type,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{type:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"\\u0627\\u062E\\u062A\\u0631 \\u0627\\u0644\\u0646\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0631\\u062C\\u0627\\u0644\\u064A\",children:\"\\u0631\\u062C\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u062D\\u0631\\u064A\\u0645\\u064A\",children:\"\\u062D\\u0631\\u064A\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0623\\u0637\\u0641\\u0627\\u0644\",children:\"\\u0623\\u0637\\u0641\\u0627\\u0644\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"image/*\",onChange:handleImageChange,className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-red-600 file:text-white hover:file:bg-red-700\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\"video/*\",onChange:handleVideoChange,className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-red-600 file:text-white hover:file:bg-red-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 mt-6\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:handleAddOrUpdateProduct,className:\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-md\",whileHover:{scale:1.03},whileTap:{scale:0.98},children:isEditing?'تعديل المنتج':'إضافة منتج'}),isEditing&&/*#__PURE__*/_jsx(motion.button,{onClick:resetForm,className:\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 shadow-md\",whileHover:{scale:1.03},whileTap:{scale:0.98},children:\"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:products.length===0?/*#__PURE__*/_jsx(motion.p,{className:\"col-span-full text-center text-slate-400 text-xl\",initial:{opacity:0},animate:{opacity:1},transition:{delay:0.3},children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0628\\u0639\\u062F. \\u0627\\u0628\\u062F\\u0623 \\u0628\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0646\\u062A\\u062C!\"}):products.map((product,index)=>{var _product$images,_product$images2,_product$videos;return/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\",variants:cardVariants,initial:\"hidden\",whileInView:\"visible\",viewport:{once:true,amount:0.3},whileHover:\"hover\",custom:index,children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:(_product$images=product.images)!==null&&_product$images!==void 0&&_product$images[0]?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(product.images[0]),alt:product.name,className:\"w-full h-48 object-cover rounded-xl\",onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\");}}):/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\"),alt:\"\\u0628\\u062F\\u064A\\u0644\",className:\"w-full h-48 object-cover rounded-xl\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 space-y-2 text-right border-t border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629: \",product.approved?'موافق':'في الانتظار']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0643\\u0631\\u062A\\u0648\\u0646\\u0629: \",product.price,\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062C\\u0648\\u0632: \",(product.price/product.quantityPerCarton).toFixed(2),\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629: \",product.quantityPerCarton,\" \\u062C\\u0648\\u0632\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0645\\u0635\\u0646\\u0639: \",product.manufacturer]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300 line-clamp-2\",children:[\"\\u0627\\u0644\\u0648\\u0635\\u0641: \",product.description||'لا يوجد']}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mt-3 justify-end\",children:[(_product$images2=product.images)===null||_product$images2===void 0?void 0:_product$images2.map((img,i)=>/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(img),alt:\"\",className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\",onClick:()=>openMedia(img,'image'),onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\");}},i)),(_product$videos=product.videos)===null||_product$videos===void 0?void 0:_product$videos.map((vid,i)=>/*#__PURE__*/_jsx(\"video\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(vid),className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\",onClick:()=>openMedia(vid,'video')},i))]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-4\",children:[/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleEdit(product),className:\"flex-1 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800\",whileHover:{scale:1.03},whileTap:{scale:0.98},children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"}),/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleDelete(product._id),className:\"flex-1 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800\",whileHover:{scale:1.03},whileTap:{scale:0.98},children:\"\\u062D\\u0630\\u0641\"})]})]})]},product._id);})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:selectedMedia&&/*#__PURE__*/_jsx(motion.div,{className:\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:closeMedia,children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative max-w-4xl max-h-screen\",onClick:e=>e.stopPropagation(),initial:{scale:0.9},animate:{scale:1},exit:{scale:0.9},children:[selectedMedia.type==='image'?/*#__PURE__*/_jsx(\"img\",{src:selectedMedia.url,alt:\"\",className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\"}):/*#__PURE__*/_jsx(\"video\",{src:selectedMedia.url,controls:true,autoPlay:true,className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeMedia,className:\"absolute top-4 right-4 bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-red-700\",children:\"\\xD7\"})]})})})]});};export default VendorDashboard;","map":{"version":3,"names":["useState","useEffect","motion","AnimatePresence","axios","jsx","_jsx","jsxs","_jsxs","VendorDashboard","products","setProducts","form","setForm","name","type","price","quantityPerCarton","manufacturer","description","images","setImages","videos","setVideos","selectedMedia","setSelectedMedia","isEditing","setIsEditing","editingProductId","setEditingProductId","error","setError","token","localStorage","getItem","userId","get","concat","process","env","REACT_APP_API_URL","headers","Authorization","then","res","data","filter","p","vendor","_id","catch","err","console","handleAddOrUpdateProduct","length","formData","FormData","Object","keys","forEach","key","append","img","vid","url","method","prev","map","alert","resetForm","_err$response","_err$response$data","msg","response","message","handleEdit","product","handleImageChange","e","files","target","maxSize","validFiles","f","size","handleVideoChange","handleDelete","id","window","confirm","delete","openMedia","media","closeMedia","cardVariants","hidden","opacity","y","scale","visible","transition","duration","ease","hover","boxShadow","className","children","div","initial","animate","exit","placeholder","field","value","onChange","_objectSpread","disabled","multiple","accept","button","onClick","whileHover","whileTap","delay","index","_product$images","_product$images2","_product$videos","variants","whileInView","viewport","once","amount","custom","src","alt","onError","onerror","approved","toFixed","i","stopPropagation","controls","autoPlay"],"sources":["/root/shose/app-shose/frontend/src/pages/VendorDashboard.js"],"sourcesContent":["// frontend/src/pages/VendorDashboard.js\nimport { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\n\nconst VendorDashboard = () => {\n  const [products, setProducts] = useState([]);\n  const [form, setForm] = useState({\n    name: '',\n    type: '',\n    price: '',\n    quantityPerCarton: '',\n    manufacturer: '',\n    description: ''\n  });\n  const [images, setImages] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [selectedMedia, setSelectedMedia] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [editingProductId, setEditingProductId] = useState(null);\n  const [error, setError] = useState('');\n\n  // جلب المنتجات\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const userId = localStorage.getItem('userId');\n    if (!token || !userId) {\n      setError('يرجى تسجيل الدخول');\n      return;\n    }\n    axios.get(`${process.env.REACT_APP_API_URL}/api/products/my-products`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then(res => {\n        setProducts(res.data.filter(p => {\n          if (p.vendor) {\n            return typeof p.vendor === 'object' ? p.vendor._id === userId : p.vendor === userId;\n          }\n          return false;\n        }));\n        setError('');\n      })\n      .catch(err => {\n        console.error('خطأ في جلب المنتجات:', err);\n        setError('فشل جلب المنتجات');\n      });\n  }, []);\n\n  // إضافة أو تعديل منتج\n  const handleAddOrUpdateProduct = () => {\n    if (!form.name || !form.type || !form.price || !form.quantityPerCarton || !form.manufacturer) {\n      setError('يرجى ملء جميع الحقول المطلوبة');\n      return;\n    }\n    if (videos.length > 0 && images.length === 0) {\n      setError('يجب رفع صورة واحدة على الأقل عند رفع فيديو');\n      return;\n    }\n\n    const formData = new FormData();\n    Object.keys(form).forEach(key => formData.append(key, form[key]));\n    if (!isEditing) formData.append('vendor', localStorage.getItem('userId'));\n    images.forEach(img => formData.append('images', img));\n    videos.forEach(vid => formData.append('videos', vid));\n\n    const token = localStorage.getItem('token');\n    const url = isEditing\n      ? `${process.env.REACT_APP_API_URL}/api/products/${editingProductId}`\n      : `${process.env.REACT_APP_API_URL}/api/products`;\n    const method = isEditing ? 'put' : 'post';\n\n    axios[method](url, formData, {\n      headers: { Authorization: `Bearer ${token}`, 'Content-Type': 'multipart/form-data' },\n    })\n      .then(res => {\n        if (isEditing) {\n          setProducts(prev => prev.map(p => p._id === editingProductId ? res.data : p));\n          alert('تم تعديل المنتج بنجاح');\n        } else {\n          setProducts(prev => [...prev, res.data]);\n          alert('تم إضافة المنتج بنجاح');\n        }\n        resetForm();\n        setError('');\n      })\n      .catch(err => {\n        const msg = err.response?.data?.message || `خطأ في ${isEditing ? 'تعديل' : 'إضافة'} المنتج`;\n        setError(msg);\n      });\n  };\n\n  const resetForm = () => {\n    setForm({ name: '', type: '', price: '', quantityPerCarton: '', manufacturer: '', description: '' });\n    setImages([]);\n    setVideos([]);\n    setIsEditing(false);\n    setEditingProductId(null);\n    setError('');\n  };\n\n  const handleEdit = (product) => {\n    setForm({\n      name: product.name,\n      type: product.type,\n      price: product.price,\n      quantityPerCarton: product.quantityPerCarton,\n      manufacturer: product.manufacturer,\n      description: product.description\n    });\n    setImages([]);\n    setVideos([]);\n    setIsEditing(true);\n    setEditingProductId(product._id);\n    setError('');\n  };\n\n  const handleImageChange = (e) => {\n    const files = [...e.target.files];\n    const maxSize = 50 * 1024 * 1024;\n    const validFiles = files.filter(f => {\n      if (f.size > maxSize) {\n        alert(`الملف ${f.name} كبير جدًا! الحد الأقصى 50 ميجابايت.`);\n        return false;\n      }\n      return true;\n    });\n    setImages(validFiles);\n  };\n\n  const handleVideoChange = (e) => {\n    const files = [...e.target.files];\n    const maxSize = 50 * 1024 * 1024;\n    const validFiles = files.filter(f => {\n      if (f.size > maxSize) {\n        alert(`الملف ${f.name} كبير جدًا! الحد الأقصى 50 ميجابايت.`);\n        return false;\n      }\n      return true;\n    });\n    setVideos(validFiles);\n  };\n\n  const handleDelete = (id) => {\n    if (!window.confirm('هل تريد حذف هذا المنتج؟')) return;\n    const token = localStorage.getItem('token');\n    axios.delete(`${process.env.REACT_APP_API_URL}/api/products/${id}`, {\n      headers: { Authorization: `Bearer ${token}` },\n    })\n      .then(() => {\n        setProducts(prev => prev.filter(p => p._id !== id));\n        alert('تم حذف المنتج بنجاح');\n      })\n      .catch(err => setError('خطأ في حذف المنتج: ' + err.message));\n  };\n\n  const openMedia = (media, type) => setSelectedMedia({ url: `${process.env.REACT_APP_API_URL}/uploads/${media}`, type });\n  const closeMedia = () => setSelectedMedia(null);\n\n  // أنيميشن خفيفة\n  const cardVariants = {\n    hidden: { opacity: 0, y: 20, scale: 0.98 },\n    visible: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.5, ease: [0.22, 1, 0.36, 1] } },\n    hover: { scale: 1.03, boxShadow: '0 10px 20px rgba(0, 0, 0, 0.15)', transition: { duration: 0.2 } }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\">\n      {/* خلفية ناعمة */}\n      <div className=\"absolute inset-0 opacity-10\">\n        <div className=\"absolute top-0 left-0 w-96 h-96 bg-red-900 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute bottom-0 right-0 w-80 h-80 bg-red-800 rounded-full blur-3xl animate-pulse delay-700\"></div>\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-7xl mx-auto\">\n\n        {/* === العنوان === */}\n        <motion.div\n          className=\"text-center mb-10\"\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <h1 className=\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\">\n            لوحة تحكم التاجر\n          </h1>\n          <p className=\"text-red-300 mt-2\">إدارة منتجاتك بسهولة</p>\n        </motion.div>\n\n        {/* === رسالة الخطأ === */}\n        <AnimatePresence>\n          {error && (\n            <motion.p\n              className=\"text-center text-red-400 mb-6\"\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n            >\n              {error}\n            </motion.p>\n          )}\n        </AnimatePresence>\n\n        {/* === نموذج الإضافة/التعديل === */}\n        <motion.div\n          className=\"bg-[#242526]/80 backdrop-blur-xl p-6 rounded-2xl shadow-xl border border-gray-700/50 mb-10\"\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {[\n              { key: 'name', placeholder: 'اسم المنتج', type: 'text' },\n              { key: 'price', placeholder: 'سعر الكرتونة', type: 'number' },\n              { key: 'quantityPerCarton', placeholder: 'الكرتونة (جوز)', type: 'number' },\n              { key: 'manufacturer', placeholder: 'المصنع', type: 'text' },\n              { key: 'description', placeholder: 'الوصف (اختياري)', type: 'text' },\n            ].map(field => (\n              <input\n                key={field.key}\n                type={field.type}\n                placeholder={field.placeholder}\n                value={form[field.key]}\n                onChange={e => setForm({ ...form, [field.key]: e.target.value })}\n                className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200\"\n              />\n            ))}\n            <select\n              value={form.type}\n              onChange={e => setForm({ ...form, type: e.target.value })}\n              className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all duration-200\"\n            >\n              <option value=\"\" disabled>اختر النوع</option>\n              <option value=\"رجالي\">رجالي</option>\n              <option value=\"حريمي\">حريمي</option>\n              <option value=\"أطفال\">أطفال</option>\n            </select>\n            <input\n              type=\"file\"\n              multiple\n              accept=\"image/*\"\n              onChange={handleImageChange}\n              className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-red-600 file:text-white hover:file:bg-red-700\"\n            />\n            <input\n              type=\"file\"\n              multiple\n              accept=\"video/*\"\n              onChange={handleVideoChange}\n              className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-red-600 file:text-white hover:file:bg-red-700\"\n            />\n          </div>\n\n          <div className=\"flex gap-3 mt-6\">\n            <motion.button\n              onClick={handleAddOrUpdateProduct}\n              className=\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 shadow-md\"\n              whileHover={{ scale: 1.03 }}\n              whileTap={{ scale: 0.98 }}\n            >\n              {isEditing ? 'تعديل المنتج' : 'إضافة منتج'}\n            </motion.button>\n            {isEditing && (\n              <motion.button\n                onClick={resetForm}\n                className=\"flex-1 py-3 rounded-xl text-white font-bold bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 shadow-md\"\n                whileHover={{ scale: 1.03 }}\n                whileTap={{ scale: 0.98 }}\n              >\n                إلغاء التعديل\n              </motion.button>\n            )}\n          </div>\n        </motion.div>\n\n        {/* === المنتجات === */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {products.length === 0 ? (\n            <motion.p\n              className=\"col-span-full text-center text-slate-400 text-xl\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.3 }}\n            >\n              لا توجد منتجات بعد. ابدأ بإضافة منتج!\n            </motion.p>\n          ) : (\n            products.map((product, index) => (\n              <motion.div\n                key={product._id}\n                className=\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\"\n                variants={cardVariants}\n                initial=\"hidden\"\n                whileInView=\"visible\"\n                viewport={{ once: true, amount: 0.3 }}\n                whileHover=\"hover\"\n                custom={index}\n              >\n                {/* الصورة الرئيسية */}\n                <div className=\"p-4\">\n                  {product.images?.[0] ? (\n                    <img\n                      src={`${process.env.REACT_APP_API_URL}/uploads/${product.images[0]}`}\n                      alt={product.name}\n                      className=\"w-full h-48 object-cover rounded-xl\"\n                      onError={e => { e.target.onerror = null; e.target.src = `${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`; }}\n                    />\n                  ) : (\n                    <img\n                      src={`${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`}\n                      alt=\"بديل\"\n                      className=\"w-full h-48 object-cover rounded-xl\"\n                    />\n                  )}\n                </div>\n\n                {/* المعلومات */}\n                <div className=\"p-5 space-y-2 text-right border-t border-gray-700\">\n                  <h3 className=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\">\n                    {product.name}\n                  </h3>\n                  <p className=\"text-sm text-gray-300\">الحالة: {product.approved ? 'موافق' : 'في الانتظار'}</p>\n                  <p className=\"text-sm text-gray-300\">سعر الكرتونة: {product.price} جنيه</p>\n                  <p className=\"text-sm text-gray-300\">سعر الجوز: {(product.price / product.quantityPerCarton).toFixed(2)} جنيه</p>\n                  <p className=\"text-sm text-gray-300\">الكمية: {product.quantityPerCarton} جوز</p>\n                  <p className=\"text-sm text-gray-300\">المصنع: {product.manufacturer}</p>\n                  <p className=\"text-sm text-gray-300 line-clamp-2\">الوصف: {product.description || 'لا يوجد'}</p>\n\n                  {/* معاينة الوسائط */}\n                  <div className=\"flex flex-wrap gap-2 mt-3 justify-end\">\n                    {product.images?.map((img, i) => (\n                      <img\n                        key={i}\n                        src={`${process.env.REACT_APP_API_URL}/uploads/${img}`}\n                        alt=\"\"\n                        className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\"\n                        onClick={() => openMedia(img, 'image')}\n                        onError={e => { e.target.onerror = null; e.target.src = `${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`; }}\n                      />\n                    ))}\n                    {product.videos?.map((vid, i) => (\n                      <video\n                        key={i}\n                        src={`${process.env.REACT_APP_API_URL}/uploads/${vid}`}\n                        className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\"\n                        onClick={() => openMedia(vid, 'video')}\n                      />\n                    ))}\n                  </div>\n\n                  {/* الأزرار */}\n                  <div className=\"flex gap-2 mt-4\">\n                    <motion.button\n                      onClick={() => handleEdit(product)}\n                      className=\"flex-1 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800\"\n                      whileHover={{ scale: 1.03 }}\n                      whileTap={{ scale: 0.98 }}\n                    >\n                      تعديل\n                    </motion.button>\n                    <motion.button\n                      onClick={() => handleDelete(product._id)}\n                      className=\"flex-1 py-2 rounded-lg text-white font-medium bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800\"\n                      whileHover={{ scale: 1.03 }}\n                      whileTap={{ scale: 0.98 }}\n                    >\n                      حذف\n                    </motion.button>\n                  </div>\n                </div>\n              </motion.div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* === مودال الوسائط === */}\n      <AnimatePresence>\n        {selectedMedia && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={closeMedia}\n          >\n            <motion.div\n              className=\"relative max-w-4xl max-h-screen\"\n              onClick={e => e.stopPropagation()}\n              initial={{ scale: 0.9 }}\n              animate={{ scale: 1 }}\n              exit={{ scale: 0.9 }}\n            >\n              {selectedMedia.type === 'image' ? (\n                <img src={selectedMedia.url} alt=\"\" className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\" />\n              ) : (\n                <video src={selectedMedia.url} controls autoPlay className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\" />\n              )}\n              <button\n                onClick={closeMedia}\n                className=\"absolute top-4 right-4 bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-red-700\"\n              >\n                ×\n              </button>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default VendorDashboard;\n"],"mappings":"mHAAA;AACA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,IAAI,CAAEC,OAAO,CAAC,CAAGb,QAAQ,CAAC,CAC/Bc,IAAI,CAAE,EAAE,CACRC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,iBAAiB,CAAE,EAAE,CACrBC,YAAY,CAAE,EAAE,CAChBC,WAAW,CAAE,EACf,CAAC,CAAC,CACF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGrB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACsB,MAAM,CAAEC,SAAS,CAAC,CAAGvB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACwB,aAAa,CAAEC,gBAAgB,CAAC,CAAGzB,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAC0B,SAAS,CAAEC,YAAY,CAAC,CAAG3B,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC4B,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG7B,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAAC8B,KAAK,CAAEC,QAAQ,CAAC,CAAG/B,QAAQ,CAAC,EAAE,CAAC,CAEtC;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAA+B,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAAC,MAAM,CAAGF,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAI,CAACF,KAAK,EAAI,CAACG,MAAM,CAAE,CACrBJ,QAAQ,CAAC,mBAAmB,CAAC,CAC7B,OACF,CACA3B,KAAK,CAACgC,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,8BAA6B,CACrEC,OAAO,CAAE,CAAEC,aAAa,WAAAL,MAAA,CAAYL,KAAK,CAAG,CAC9C,CAAC,CAAC,CACCW,IAAI,CAACC,GAAG,EAAI,CACXjC,WAAW,CAACiC,GAAG,CAACC,IAAI,CAACC,MAAM,CAACC,CAAC,EAAI,CAC/B,GAAIA,CAAC,CAACC,MAAM,CAAE,CACZ,MAAO,OAAO,CAAAD,CAAC,CAACC,MAAM,GAAK,QAAQ,CAAGD,CAAC,CAACC,MAAM,CAACC,GAAG,GAAKd,MAAM,CAAGY,CAAC,CAACC,MAAM,GAAKb,MAAM,CACrF,CACA,MAAO,MAAK,CACd,CAAC,CAAC,CAAC,CACHJ,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAAC,CACDmB,KAAK,CAACC,GAAG,EAAI,CACZC,OAAO,CAACtB,KAAK,CAAC,sBAAsB,CAAEqB,GAAG,CAAC,CAC1CpB,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAsB,wBAAwB,CAAGA,CAAA,GAAM,CACrC,GAAI,CAACzC,IAAI,CAACE,IAAI,EAAI,CAACF,IAAI,CAACG,IAAI,EAAI,CAACH,IAAI,CAACI,KAAK,EAAI,CAACJ,IAAI,CAACK,iBAAiB,EAAI,CAACL,IAAI,CAACM,YAAY,CAAE,CAC5Fa,QAAQ,CAAC,+BAA+B,CAAC,CACzC,OACF,CACA,GAAIT,MAAM,CAACgC,MAAM,CAAG,CAAC,EAAIlC,MAAM,CAACkC,MAAM,GAAK,CAAC,CAAE,CAC5CvB,QAAQ,CAAC,4CAA4C,CAAC,CACtD,OACF,CAEA,KAAM,CAAAwB,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BC,MAAM,CAACC,IAAI,CAAC9C,IAAI,CAAC,CAAC+C,OAAO,CAACC,GAAG,EAAIL,QAAQ,CAACM,MAAM,CAACD,GAAG,CAAEhD,IAAI,CAACgD,GAAG,CAAC,CAAC,CAAC,CACjE,GAAI,CAAClC,SAAS,CAAE6B,QAAQ,CAACM,MAAM,CAAC,QAAQ,CAAE5B,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,CACzEd,MAAM,CAACuC,OAAO,CAACG,GAAG,EAAIP,QAAQ,CAACM,MAAM,CAAC,QAAQ,CAAEC,GAAG,CAAC,CAAC,CACrDxC,MAAM,CAACqC,OAAO,CAACI,GAAG,EAAIR,QAAQ,CAACM,MAAM,CAAC,QAAQ,CAAEE,GAAG,CAAC,CAAC,CAErD,KAAM,CAAA/B,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,KAAM,CAAA8B,GAAG,CAAGtC,SAAS,IAAAW,MAAA,CACdC,OAAO,CAACC,GAAG,CAACC,iBAAiB,mBAAAH,MAAA,CAAiBT,gBAAgB,KAAAS,MAAA,CAC9DC,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAe,CACnD,KAAM,CAAAyB,MAAM,CAAGvC,SAAS,CAAG,KAAK,CAAG,MAAM,CAEzCtB,KAAK,CAAC6D,MAAM,CAAC,CAACD,GAAG,CAAET,QAAQ,CAAE,CAC3Bd,OAAO,CAAE,CAAEC,aAAa,WAAAL,MAAA,CAAYL,KAAK,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACrF,CAAC,CAAC,CACCW,IAAI,CAACC,GAAG,EAAI,CACX,GAAIlB,SAAS,CAAE,CACbf,WAAW,CAACuD,IAAI,EAAIA,IAAI,CAACC,GAAG,CAACpB,CAAC,EAAIA,CAAC,CAACE,GAAG,GAAKrB,gBAAgB,CAAGgB,GAAG,CAACC,IAAI,CAAGE,CAAC,CAAC,CAAC,CAC7EqB,KAAK,CAAC,uBAAuB,CAAC,CAChC,CAAC,IAAM,CACLzD,WAAW,CAACuD,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAEtB,GAAG,CAACC,IAAI,CAAC,CAAC,CACxCuB,KAAK,CAAC,uBAAuB,CAAC,CAChC,CACAC,SAAS,CAAC,CAAC,CACXtC,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAAC,CACDmB,KAAK,CAACC,GAAG,EAAI,KAAAmB,aAAA,CAAAC,kBAAA,CACZ,KAAM,CAAAC,GAAG,CAAG,EAAAF,aAAA,CAAAnB,GAAG,CAACsB,QAAQ,UAAAH,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAczB,IAAI,UAAA0B,kBAAA,iBAAlBA,kBAAA,CAAoBG,OAAO,sCAAArC,MAAA,CAAcX,SAAS,CAAG,OAAO,CAAG,OAAO,yCAAS,CAC3FK,QAAQ,CAACyC,GAAG,CAAC,CACf,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAH,SAAS,CAAGA,CAAA,GAAM,CACtBxD,OAAO,CAAC,CAAEC,IAAI,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,iBAAiB,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAG,CAAC,CAAC,CACpGE,SAAS,CAAC,EAAE,CAAC,CACbE,SAAS,CAAC,EAAE,CAAC,CACbI,YAAY,CAAC,KAAK,CAAC,CACnBE,mBAAmB,CAAC,IAAI,CAAC,CACzBE,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAED,KAAM,CAAA4C,UAAU,CAAIC,OAAO,EAAK,CAC9B/D,OAAO,CAAC,CACNC,IAAI,CAAE8D,OAAO,CAAC9D,IAAI,CAClBC,IAAI,CAAE6D,OAAO,CAAC7D,IAAI,CAClBC,KAAK,CAAE4D,OAAO,CAAC5D,KAAK,CACpBC,iBAAiB,CAAE2D,OAAO,CAAC3D,iBAAiB,CAC5CC,YAAY,CAAE0D,OAAO,CAAC1D,YAAY,CAClCC,WAAW,CAAEyD,OAAO,CAACzD,WACvB,CAAC,CAAC,CACFE,SAAS,CAAC,EAAE,CAAC,CACbE,SAAS,CAAC,EAAE,CAAC,CACbI,YAAY,CAAC,IAAI,CAAC,CAClBE,mBAAmB,CAAC+C,OAAO,CAAC3B,GAAG,CAAC,CAChClB,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAED,KAAM,CAAA8C,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAAC,KAAK,CAAG,CAAC,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAAC,CACjC,KAAM,CAAAE,OAAO,CAAG,EAAE,CAAG,IAAI,CAAG,IAAI,CAChC,KAAM,CAAAC,UAAU,CAAGH,KAAK,CAACjC,MAAM,CAACqC,CAAC,EAAI,CACnC,GAAIA,CAAC,CAACC,IAAI,CAAGH,OAAO,CAAE,CACpBb,KAAK,mCAAA/B,MAAA,CAAU8C,CAAC,CAACrE,IAAI,0KAAsC,CAAC,CAC5D,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAAC,CAAC,CACFO,SAAS,CAAC6D,UAAU,CAAC,CACvB,CAAC,CAED,KAAM,CAAAG,iBAAiB,CAAIP,CAAC,EAAK,CAC/B,KAAM,CAAAC,KAAK,CAAG,CAAC,GAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAAC,CACjC,KAAM,CAAAE,OAAO,CAAG,EAAE,CAAG,IAAI,CAAG,IAAI,CAChC,KAAM,CAAAC,UAAU,CAAGH,KAAK,CAACjC,MAAM,CAACqC,CAAC,EAAI,CACnC,GAAIA,CAAC,CAACC,IAAI,CAAGH,OAAO,CAAE,CACpBb,KAAK,mCAAA/B,MAAA,CAAU8C,CAAC,CAACrE,IAAI,0KAAsC,CAAC,CAC5D,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAAC,CAAC,CACFS,SAAS,CAAC2D,UAAU,CAAC,CACvB,CAAC,CAED,KAAM,CAAAI,YAAY,CAAIC,EAAE,EAAK,CAC3B,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,yBAAyB,CAAC,CAAE,OAChD,KAAM,CAAAzD,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C9B,KAAK,CAACsF,MAAM,IAAArD,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,mBAAAH,MAAA,CAAiBkD,EAAE,EAAI,CAClE9C,OAAO,CAAE,CAAEC,aAAa,WAAAL,MAAA,CAAYL,KAAK,CAAG,CAC9C,CAAC,CAAC,CACCW,IAAI,CAAC,IAAM,CACVhC,WAAW,CAACuD,IAAI,EAAIA,IAAI,CAACpB,MAAM,CAACC,CAAC,EAAIA,CAAC,CAACE,GAAG,GAAKsC,EAAE,CAAC,CAAC,CACnDnB,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CAAC,CAAC,CACDlB,KAAK,CAACC,GAAG,EAAIpB,QAAQ,CAAC,qBAAqB,CAAGoB,GAAG,CAACuB,OAAO,CAAC,CAAC,CAChE,CAAC,CAED,KAAM,CAAAiB,SAAS,CAAGA,CAACC,KAAK,CAAE7E,IAAI,GAAKU,gBAAgB,CAAC,CAAEuC,GAAG,IAAA3B,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAAH,MAAA,CAAYuD,KAAK,CAAE,CAAE7E,IAAK,CAAC,CAAC,CACvH,KAAM,CAAA8E,UAAU,CAAGA,CAAA,GAAMpE,gBAAgB,CAAC,IAAI,CAAC,CAE/C;AACA,KAAM,CAAAqE,YAAY,CAAG,CACnBC,MAAM,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAE,CAAEC,KAAK,CAAE,IAAK,CAAC,CAC1CC,OAAO,CAAE,CAAEH,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,CAAEC,KAAK,CAAE,CAAC,CAAEE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,CAAE,IAAI,CAAE,CAAC,CAAE,CAAE,CAAC,CAChGC,KAAK,CAAE,CAAEL,KAAK,CAAE,IAAI,CAAEM,SAAS,CAAE,iCAAiC,CAAEJ,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CACpG,CAAC,CAED,mBACE7F,KAAA,QAAKiG,SAAS,CAAC,mEAAmE,CAAAC,QAAA,eAEhFlG,KAAA,QAAKiG,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CpG,IAAA,QAAKmG,SAAS,CAAC,gFAAgF,CAAM,CAAC,cACtGnG,IAAA,QAAKmG,SAAS,CAAC,8FAA8F,CAAM,CAAC,EACjH,CAAC,cAENjG,KAAA,QAAKiG,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eAGrDlG,KAAA,CAACN,MAAM,CAACyG,GAAG,EACTF,SAAS,CAAC,mBAAmB,CAC7BG,OAAO,CAAE,CAAEZ,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,EAAG,CAAE,CAChCY,OAAO,CAAE,CAAEb,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAK,QAAA,eAE9BpG,IAAA,OAAImG,SAAS,CAAC,4GAA4G,CAAAC,QAAA,CAAC,wFAE3H,CAAI,CAAC,cACLpG,IAAA,MAAGmG,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAC,gHAAoB,CAAG,CAAC,EAC/C,CAAC,cAGbpG,IAAA,CAACH,eAAe,EAAAuG,QAAA,CACb5E,KAAK,eACJxB,IAAA,CAACJ,MAAM,CAAC6C,CAAC,EACP0D,SAAS,CAAC,+BAA+B,CACzCG,OAAO,CAAE,CAAEZ,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,EAAG,CAAE,CAChCY,OAAO,CAAE,CAAEb,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9Ba,IAAI,CAAE,CAAEd,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAC,EAAG,CAAE,CAAAS,QAAA,CAE5B5E,KAAK,CACE,CACX,CACc,CAAC,cAGlBtB,KAAA,CAACN,MAAM,CAACyG,GAAG,EACTF,SAAS,CAAC,4FAA4F,CACtGG,OAAO,CAAE,CAAEZ,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BY,OAAO,CAAE,CAAEb,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAI,CAAE,CAAAK,QAAA,eAE9BlG,KAAA,QAAKiG,SAAS,CAAC,uCAAuC,CAAAC,QAAA,EACnD,CACC,CAAE9C,GAAG,CAAE,MAAM,CAAEmD,WAAW,CAAE,YAAY,CAAEhG,IAAI,CAAE,MAAO,CAAC,CACxD,CAAE6C,GAAG,CAAE,OAAO,CAAEmD,WAAW,CAAE,cAAc,CAAEhG,IAAI,CAAE,QAAS,CAAC,CAC7D,CAAE6C,GAAG,CAAE,mBAAmB,CAAEmD,WAAW,CAAE,gBAAgB,CAAEhG,IAAI,CAAE,QAAS,CAAC,CAC3E,CAAE6C,GAAG,CAAE,cAAc,CAAEmD,WAAW,CAAE,QAAQ,CAAEhG,IAAI,CAAE,MAAO,CAAC,CAC5D,CAAE6C,GAAG,CAAE,aAAa,CAAEmD,WAAW,CAAE,iBAAiB,CAAEhG,IAAI,CAAE,MAAO,CAAC,CACrE,CAACoD,GAAG,CAAC6C,KAAK,eACT1G,IAAA,UAEES,IAAI,CAAEiG,KAAK,CAACjG,IAAK,CACjBgG,WAAW,CAAEC,KAAK,CAACD,WAAY,CAC/BE,KAAK,CAAErG,IAAI,CAACoG,KAAK,CAACpD,GAAG,CAAE,CACvBsD,QAAQ,CAAEpC,CAAC,EAAIjE,OAAO,CAAAsG,aAAA,CAAAA,aAAA,IAAMvG,IAAI,MAAE,CAACoG,KAAK,CAACpD,GAAG,EAAGkB,CAAC,CAACE,MAAM,CAACiC,KAAK,EAAE,CAAE,CACjER,SAAS,CAAC,6MAA6M,EALlNO,KAAK,CAACpD,GAMZ,CACF,CAAC,cACFpD,KAAA,WACEyG,KAAK,CAAErG,IAAI,CAACG,IAAK,CACjBmG,QAAQ,CAAEpC,CAAC,EAAIjE,OAAO,CAAAsG,aAAA,CAAAA,aAAA,IAAMvG,IAAI,MAAEG,IAAI,CAAE+D,CAAC,CAACE,MAAM,CAACiC,KAAK,EAAE,CAAE,CAC1DR,SAAS,CAAC,wLAAwL,CAAAC,QAAA,eAElMpG,IAAA,WAAQ2G,KAAK,CAAC,EAAE,CAACG,QAAQ,MAAAV,QAAA,CAAC,yDAAU,CAAQ,CAAC,cAC7CpG,IAAA,WAAQ2G,KAAK,CAAC,gCAAO,CAAAP,QAAA,CAAC,gCAAK,CAAQ,CAAC,cACpCpG,IAAA,WAAQ2G,KAAK,CAAC,gCAAO,CAAAP,QAAA,CAAC,gCAAK,CAAQ,CAAC,cACpCpG,IAAA,WAAQ2G,KAAK,CAAC,gCAAO,CAAAP,QAAA,CAAC,gCAAK,CAAQ,CAAC,EAC9B,CAAC,cACTpG,IAAA,UACES,IAAI,CAAC,MAAM,CACXsG,QAAQ,MACRC,MAAM,CAAC,SAAS,CAChBJ,QAAQ,CAAErC,iBAAkB,CAC5B4B,SAAS,CAAC,mMAAmM,CAC9M,CAAC,cACFnG,IAAA,UACES,IAAI,CAAC,MAAM,CACXsG,QAAQ,MACRC,MAAM,CAAC,SAAS,CAChBJ,QAAQ,CAAE7B,iBAAkB,CAC5BoB,SAAS,CAAC,mMAAmM,CAC9M,CAAC,EACC,CAAC,cAENjG,KAAA,QAAKiG,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpG,IAAA,CAACJ,MAAM,CAACqH,MAAM,EACZC,OAAO,CAAEnE,wBAAyB,CAClCoD,SAAS,CAAC,4IAA4I,CACtJgB,UAAU,CAAE,CAAEvB,KAAK,CAAE,IAAK,CAAE,CAC5BwB,QAAQ,CAAE,CAAExB,KAAK,CAAE,IAAK,CAAE,CAAAQ,QAAA,CAEzBhF,SAAS,CAAG,cAAc,CAAG,YAAY,CAC7B,CAAC,CACfA,SAAS,eACRpB,IAAA,CAACJ,MAAM,CAACqH,MAAM,EACZC,OAAO,CAAEnD,SAAU,CACnBoC,SAAS,CAAC,wIAAwI,CAClJgB,UAAU,CAAE,CAAEvB,KAAK,CAAE,IAAK,CAAE,CAC5BwB,QAAQ,CAAE,CAAExB,KAAK,CAAE,IAAK,CAAE,CAAAQ,QAAA,CAC3B,2EAED,CAAe,CAChB,EACE,CAAC,EACI,CAAC,cAGbpG,IAAA,QAAKmG,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjFhG,QAAQ,CAAC4C,MAAM,GAAK,CAAC,cACpBhD,IAAA,CAACJ,MAAM,CAAC6C,CAAC,EACP0D,SAAS,CAAC,kDAAkD,CAC5DG,OAAO,CAAE,CAAEZ,OAAO,CAAE,CAAE,CAAE,CACxBa,OAAO,CAAE,CAAEb,OAAO,CAAE,CAAE,CAAE,CACxBI,UAAU,CAAE,CAAEuB,KAAK,CAAE,GAAI,CAAE,CAAAjB,QAAA,CAC5B,wLAED,CAAU,CAAC,CAEXhG,QAAQ,CAACyD,GAAG,CAAC,CAACS,OAAO,CAAEgD,KAAK,QAAAC,eAAA,CAAAC,gBAAA,CAAAC,eAAA,oBAC1BvH,KAAA,CAACN,MAAM,CAACyG,GAAG,EAETF,SAAS,CAAC,kGAAkG,CAC5GuB,QAAQ,CAAElC,YAAa,CACvBc,OAAO,CAAC,QAAQ,CAChBqB,WAAW,CAAC,SAAS,CACrBC,QAAQ,CAAE,CAAEC,IAAI,CAAE,IAAI,CAAEC,MAAM,CAAE,GAAI,CAAE,CACtCX,UAAU,CAAC,OAAO,CAClBY,MAAM,CAAET,KAAM,CAAAlB,QAAA,eAGdpG,IAAA,QAAKmG,SAAS,CAAC,KAAK,CAAAC,QAAA,CACjB,CAAAmB,eAAA,CAAAjD,OAAO,CAACxD,MAAM,UAAAyG,eAAA,WAAdA,eAAA,CAAiB,CAAC,CAAC,cAClBvH,IAAA,QACEgI,GAAG,IAAAjG,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAAH,MAAA,CAAYuC,OAAO,CAACxD,MAAM,CAAC,CAAC,CAAC,CAAG,CACrEmH,GAAG,CAAE3D,OAAO,CAAC9D,IAAK,CAClB2F,SAAS,CAAC,qCAAqC,CAC/C+B,OAAO,CAAE1D,CAAC,EAAI,CAAEA,CAAC,CAACE,MAAM,CAACyD,OAAO,CAAG,IAAI,CAAE3D,CAAC,CAACE,MAAM,CAACsD,GAAG,IAAAjG,MAAA,CAAMC,OAAO,CAACC,GAAG,CAACC,iBAAiB,kCAAgC,CAAE,CAAE,CAC7H,CAAC,cAEFlC,IAAA,QACEgI,GAAG,IAAAjG,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,iBAAiB,kCAAiC,CACtE+F,GAAG,CAAC,0BAAM,CACV9B,SAAS,CAAC,qCAAqC,CAChD,CACF,CACE,CAAC,cAGNjG,KAAA,QAAKiG,SAAS,CAAC,mDAAmD,CAAAC,QAAA,eAChEpG,IAAA,OAAImG,SAAS,CAAC,0FAA0F,CAAAC,QAAA,CACrG9B,OAAO,CAAC9D,IAAI,CACX,CAAC,cACLN,KAAA,MAAGiG,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,wCAAQ,CAAC9B,OAAO,CAAC8D,QAAQ,CAAG,OAAO,CAAG,aAAa,EAAI,CAAC,cAC7FlI,KAAA,MAAGiG,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,uEAAc,CAAC9B,OAAO,CAAC5D,KAAK,CAAC,2BAAK,EAAG,CAAC,cAC3ER,KAAA,MAAGiG,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,qDAAW,CAAC,CAAC9B,OAAO,CAAC5D,KAAK,CAAG4D,OAAO,CAAC3D,iBAAiB,EAAE0H,OAAO,CAAC,CAAC,CAAC,CAAC,2BAAK,EAAG,CAAC,cACjHnI,KAAA,MAAGiG,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,wCAAQ,CAAC9B,OAAO,CAAC3D,iBAAiB,CAAC,qBAAI,EAAG,CAAC,cAChFT,KAAA,MAAGiG,SAAS,CAAC,uBAAuB,CAAAC,QAAA,EAAC,wCAAQ,CAAC9B,OAAO,CAAC1D,YAAY,EAAI,CAAC,cACvEV,KAAA,MAAGiG,SAAS,CAAC,oCAAoC,CAAAC,QAAA,EAAC,kCAAO,CAAC9B,OAAO,CAACzD,WAAW,EAAI,SAAS,EAAI,CAAC,cAG/FX,KAAA,QAAKiG,SAAS,CAAC,uCAAuC,CAAAC,QAAA,GAAAoB,gBAAA,CACnDlD,OAAO,CAACxD,MAAM,UAAA0G,gBAAA,iBAAdA,gBAAA,CAAgB3D,GAAG,CAAC,CAACL,GAAG,CAAE8E,CAAC,gBAC1BtI,IAAA,QAEEgI,GAAG,IAAAjG,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAAH,MAAA,CAAYyB,GAAG,CAAG,CACvDyE,GAAG,CAAC,EAAE,CACN9B,SAAS,CAAC,6FAA6F,CACvGe,OAAO,CAAEA,CAAA,GAAM7B,SAAS,CAAC7B,GAAG,CAAE,OAAO,CAAE,CACvC0E,OAAO,CAAE1D,CAAC,EAAI,CAAEA,CAAC,CAACE,MAAM,CAACyD,OAAO,CAAG,IAAI,CAAE3D,CAAC,CAACE,MAAM,CAACsD,GAAG,IAAAjG,MAAA,CAAMC,OAAO,CAACC,GAAG,CAACC,iBAAiB,kCAAgC,CAAE,CAAE,EALvHoG,CAMN,CACF,CAAC,EAAAb,eAAA,CACDnD,OAAO,CAACtD,MAAM,UAAAyG,eAAA,iBAAdA,eAAA,CAAgB5D,GAAG,CAAC,CAACJ,GAAG,CAAE6E,CAAC,gBAC1BtI,IAAA,UAEEgI,GAAG,IAAAjG,MAAA,CAAKC,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAAH,MAAA,CAAY0B,GAAG,CAAG,CACvD0C,SAAS,CAAC,6FAA6F,CACvGe,OAAO,CAAEA,CAAA,GAAM7B,SAAS,CAAC5B,GAAG,CAAE,OAAO,CAAE,EAHlC6E,CAIN,CACF,CAAC,EACC,CAAC,cAGNpI,KAAA,QAAKiG,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BpG,IAAA,CAACJ,MAAM,CAACqH,MAAM,EACZC,OAAO,CAAEA,CAAA,GAAM7C,UAAU,CAACC,OAAO,CAAE,CACnC6B,SAAS,CAAC,gIAAgI,CAC1IgB,UAAU,CAAE,CAAEvB,KAAK,CAAE,IAAK,CAAE,CAC5BwB,QAAQ,CAAE,CAAExB,KAAK,CAAE,IAAK,CAAE,CAAAQ,QAAA,CAC3B,gCAED,CAAe,CAAC,cAChBpG,IAAA,CAACJ,MAAM,CAACqH,MAAM,EACZC,OAAO,CAAEA,CAAA,GAAMlC,YAAY,CAACV,OAAO,CAAC3B,GAAG,CAAE,CACzCwD,SAAS,CAAC,4HAA4H,CACtIgB,UAAU,CAAE,CAAEvB,KAAK,CAAE,IAAK,CAAE,CAC5BwB,QAAQ,CAAE,CAAExB,KAAK,CAAE,IAAK,CAAE,CAAAQ,QAAA,CAC3B,oBAED,CAAe,CAAC,EACb,CAAC,EACH,CAAC,GAhFD9B,OAAO,CAAC3B,GAiFH,CAAC,EACd,CACF,CACE,CAAC,EACH,CAAC,cAGN3C,IAAA,CAACH,eAAe,EAAAuG,QAAA,CACblF,aAAa,eACZlB,IAAA,CAACJ,MAAM,CAACyG,GAAG,EACTF,SAAS,CAAC,qEAAqE,CAC/EG,OAAO,CAAE,CAAEZ,OAAO,CAAE,CAAE,CAAE,CACxBa,OAAO,CAAE,CAAEb,OAAO,CAAE,CAAE,CAAE,CACxBc,IAAI,CAAE,CAAEd,OAAO,CAAE,CAAE,CAAE,CACrBwB,OAAO,CAAE3B,UAAW,CAAAa,QAAA,cAEpBlG,KAAA,CAACN,MAAM,CAACyG,GAAG,EACTF,SAAS,CAAC,iCAAiC,CAC3Ce,OAAO,CAAE1C,CAAC,EAAIA,CAAC,CAAC+D,eAAe,CAAC,CAAE,CAClCjC,OAAO,CAAE,CAAEV,KAAK,CAAE,GAAI,CAAE,CACxBW,OAAO,CAAE,CAAEX,KAAK,CAAE,CAAE,CAAE,CACtBY,IAAI,CAAE,CAAEZ,KAAK,CAAE,GAAI,CAAE,CAAAQ,QAAA,EAEpBlF,aAAa,CAACT,IAAI,GAAK,OAAO,cAC7BT,IAAA,QAAKgI,GAAG,CAAE9G,aAAa,CAACwC,GAAI,CAACuE,GAAG,CAAC,EAAE,CAAC9B,SAAS,CAAC,gDAAgD,CAAE,CAAC,cAEjGnG,IAAA,UAAOgI,GAAG,CAAE9G,aAAa,CAACwC,GAAI,CAAC8E,QAAQ,MAACC,QAAQ,MAACtC,SAAS,CAAC,gDAAgD,CAAE,CAC9G,cACDnG,IAAA,WACEkH,OAAO,CAAE3B,UAAW,CACpBY,SAAS,CAAC,yIAAyI,CAAAC,QAAA,CACpJ,MAED,CAAQ,CAAC,EACC,CAAC,CACH,CACb,CACc,CAAC,EACf,CAAC,CAEV,CAAC,CAED,cAAe,CAAAjG,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}