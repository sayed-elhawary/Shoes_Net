{"ast":null,"code":"// frontend/src/pages/Vendors.js\nimport{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Vendors=()=>{const[vendors,setVendors]=useState([]);const[error,setError]=useState('');useEffect(()=>{fetchVendors();},[]);const fetchVendors=()=>{axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/vendors\")).then(res=>{console.log('Vendors data:',res.data);setVendors(res.data);setError('');}).catch(err=>{console.error('خطأ في جلب التجار:',err);setError('فشل جلب التجار، حاول مرة أخرى');});};// أنيميشن خفيفة وسالسة\nconst cardVariants={hidden:{opacity:0,y:20,scale:0.98},visible:{opacity:1,y:0,scale:1,transition:{duration:0.5,ease:[0.22,1,0.36,1]}},hover:{scale:1.03,boxShadow:'0 10px 20px rgba(0, 0, 0, 0.15)',transition:{duration:0.2}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-96 h-96 bg-red-900 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-80 h-80 bg-red-800 rounded-full blur-3xl animate-pulse delay-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(motion.div,{className:\"text-center mb-10\",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\",children:\"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u062A\\u062C\\u0627\\u0631\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 mt-2\",children:\"\\u0627\\u062E\\u062A\\u0631 \\u062A\\u0627\\u062C\\u0631\\u0643 \\u0627\\u0644\\u0645\\u0641\\u0636\\u0644\"})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:error&&/*#__PURE__*/_jsx(motion.p,{className:\"text-center text-red-400 mb-6\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:vendors.length===0?/*#__PURE__*/_jsx(motion.p,{className:\"col-span-full text-center text-slate-400 text-xl\",initial:{opacity:0},animate:{opacity:1},transition:{delay:0.3},children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u062A\\u062C\\u0627\\u0631 \\u0645\\u062A\\u0627\\u062D\\u064A\\u0646 \\u062D\\u0627\\u0644\\u064A\\u064B\\u0627.\"}):vendors.map((vendor,index)=>/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\",variants:cardVariants,initial:\"hidden\",whileInView:\"visible\",viewport:{once:true,amount:0.3},whileHover:\"hover\",custom:index,children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 flex justify-center\",children:vendor.logo?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(vendor.logo),alt:\"\\u0644\\u0648\\u062C\\u0648 \".concat(vendor.name),className:\"w-28 h-28 object-contain rounded-xl border border-gray-600 shadow-md\",onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\");}}):/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\"),alt:\"\\u0644\\u0648\\u062C\\u0648 \\u0628\\u062F\\u064A\\u0644\",className:\"w-28 h-28 object-contain rounded-xl border border-gray-600 shadow-md\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 space-y-3 text-right border-t border-gray-700\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\",children:vendor.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-300 line-clamp-2\",children:vendor.description||'لا يوجد وصف'}),/*#__PURE__*/_jsx(Link,{to:\"/vendors/\".concat(vendor._id,\"/products\"),className:\"block w-full mt-4 py-3 text-center rounded-xl text-white font-bold bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-md transition-all duration-200\",children:\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A\"})]})]},vendor._id))})]})]});};export default Vendors;","map":{"version":3,"names":["useState","useEffect","motion","AnimatePresence","Link","axios","jsx","_jsx","jsxs","_jsxs","Vendors","vendors","setVendors","error","setError","fetchVendors","get","concat","process","env","REACT_APP_API_URL","then","res","console","log","data","catch","err","cardVariants","hidden","opacity","y","scale","visible","transition","duration","ease","hover","boxShadow","className","children","div","initial","animate","p","exit","length","delay","map","vendor","index","variants","whileInView","viewport","once","amount","whileHover","custom","logo","src","alt","name","onError","e","target","onerror","description","to","_id"],"sources":["/root/shose/app-shose/frontend/src/pages/Vendors.js"],"sourcesContent":["// frontend/src/pages/Vendors.js\nimport { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nconst Vendors = () => {\n  const [vendors, setVendors] = useState([]);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    fetchVendors();\n  }, []);\n\n  const fetchVendors = () => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/vendors`)\n      .then(res => {\n        console.log('Vendors data:', res.data);\n        setVendors(res.data);\n        setError('');\n      })\n      .catch(err => {\n        console.error('خطأ في جلب التجار:', err);\n        setError('فشل جلب التجار، حاول مرة أخرى');\n      });\n  };\n\n  // أنيميشن خفيفة وسالسة\n  const cardVariants = {\n    hidden: { opacity: 0, y: 20, scale: 0.98 },\n    visible: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.5, ease: [0.22, 1, 0.36, 1] } },\n    hover: { scale: 1.03, boxShadow: '0 10px 20px rgba(0, 0, 0, 0.15)', transition: { duration: 0.2 } }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\">\n      {/* خلفية ناعمة */}\n      <div className=\"absolute inset-0 opacity-10\">\n        <div className=\"absolute top-0 left-0 w-96 h-96 bg-red-900 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute bottom-0 right-0 w-80 h-80 bg-red-800 rounded-full blur-3xl animate-pulse delay-700\"></div>\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-7xl mx-auto\">\n\n        {/* === العنوان === */}\n        <motion.div\n          className=\"text-center mb-10\"\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n        >\n          <h1 className=\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\">\n            قائمة التجار\n          </h1>\n          <p className=\"text-red-300 mt-2\">اختر تاجرك المفضل</p>\n        </motion.div>\n\n        {/* === رسالة الخطأ === */}\n        <AnimatePresence>\n          {error && (\n            <motion.p\n              className=\"text-center text-red-400 mb-6\"\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n            >\n              {error}\n            </motion.p>\n          )}\n        </AnimatePresence>\n\n        {/* === الكروت === */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {vendors.length === 0 ? (\n            <motion.p\n              className=\"col-span-full text-center text-slate-400 text-xl\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.3 }}\n            >\n              لا توجد تجار متاحين حاليًا.\n            </motion.p>\n          ) : (\n            vendors.map((vendor, index) => (\n              <motion.div\n                key={vendor._id}\n                className=\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\"\n                variants={cardVariants}\n                initial=\"hidden\"\n                whileInView=\"visible\"\n                viewport={{ once: true, amount: 0.3 }}\n                whileHover=\"hover\"\n                custom={index}\n              >\n                {/* === اللوجو === */}\n                <div className=\"p-6 flex justify-center\">\n                  {vendor.logo ? (\n                    <img\n                      src={`${process.env.REACT_APP_API_URL}/uploads/${vendor.logo}`}\n                      alt={`لوجو ${vendor.name}`}\n                      className=\"w-28 h-28 object-contain rounded-xl border border-gray-600 shadow-md\"\n                      onError={e => {\n                        e.target.onerror = null;\n                        e.target.src = `${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`;\n                      }}\n                    />\n                  ) : (\n                    <img\n                      src={`${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`}\n                      alt=\"لوجو بديل\"\n                      className=\"w-28 h-28 object-contain rounded-xl border border-gray-600 shadow-md\"\n                    />\n                  )}\n                </div>\n\n                {/* === المعلومات === */}\n                <div className=\"p-5 space-y-3 text-right border-t border-gray-700\">\n                  <h3 className=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\">\n                    {vendor.name}\n                  </h3>\n                  <p className=\"text-sm text-gray-300 line-clamp-2\">\n                    {vendor.description || 'لا يوجد وصف'}\n                  </p>\n                  <Link\n                    to={`/vendors/${vendor._id}/products`}\n                    className=\"block w-full mt-4 py-3 text-center rounded-xl text-white font-bold bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 shadow-md transition-all duration-200\"\n                  >\n                    عرض المنتجات\n                  </Link>\n                </div>\n              </motion.div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Vendors;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}