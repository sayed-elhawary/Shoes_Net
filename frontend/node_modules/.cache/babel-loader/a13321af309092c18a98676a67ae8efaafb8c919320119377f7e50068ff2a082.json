{"ast":null,"code":"// frontend/src/services/authService.js\nimport{Preferences}from'@capacitor/preferences';// حفظ بيانات الدخول\nexport const saveAuthData=async(token,role,userId,emailOrPhone,password)=>{await Preferences.set({key:'auth_token',value:token});await Preferences.set({key:'auth_role',value:role});await Preferences.set({key:'auth_userId',value:userId});await Preferences.set({key:'auth_emailOrPhone',value:emailOrPhone});await Preferences.set({key:'auth_password',value:password});// تحذير: مؤقت فقط\nwindow.dispatchEvent(new Event('authChange'));};// جلب البيانات\nexport const getAuthData=async()=>{const token=await Preferences.get('auth_token');const role=await Preferences.get('auth_role');const userId=await Preferences.get('auth_userId');const emailOrPhone=await Preferences.get('auth_emailOrPhone');const password=await Preferences.get('auth_password');return{token:token.value,role:role.value,userId:userId.value,emailOrPhone:emailOrPhone.value,password:password.value};};// تسجيل الخروج\nexport const clearAuthData=async()=>{await Preferences.remove({key:'auth_token'});await Preferences.remove({key:'auth_role'});await Preferences.remove({key:'auth_userId'});await Preferences.remove({key:'auth_emailOrPhone'});await Preferences.remove({key:'auth_password'});localStorage.clear();window.dispatchEvent(new Event('authChange'));};// فحص الدخول\nexport const isLoggedIn=async()=>{const{token}=await getAuthData();return!!token;};","map":{"version":3,"names":["Preferences","saveAuthData","token","role","userId","emailOrPhone","password","set","key","value","window","dispatchEvent","Event","getAuthData","get","clearAuthData","remove","localStorage","clear","isLoggedIn"],"sources":["/root/shose/app-shose/frontend/src/services/authService.js"],"sourcesContent":["// frontend/src/services/authService.js\nimport { Preferences } from '@capacitor/preferences';\n\n// حفظ بيانات الدخول\nexport const saveAuthData = async (token, role, userId, emailOrPhone, password) => {\n  await Preferences.set({ key: 'auth_token', value: token });\n  await Preferences.set({ key: 'auth_role', value: role });\n  await Preferences.set({ key: 'auth_userId', value: userId });\n  await Preferences.set({ key: 'auth_emailOrPhone', value: emailOrPhone });\n  await Preferences.set({ key: 'auth_password', value: password }); // تحذير: مؤقت فقط\n  window.dispatchEvent(new Event('authChange'));\n};\n\n// جلب البيانات\nexport const getAuthData = async () => {\n  const token = await Preferences.get('auth_token');\n  const role = await Preferences.get('auth_role');\n  const userId = await Preferences.get('auth_userId');\n  const emailOrPhone = await Preferences.get('auth_emailOrPhone');\n  const password = await Preferences.get('auth_password');\n\n  return {\n    token: token.value,\n    role: role.value,\n    userId: userId.value,\n    emailOrPhone: emailOrPhone.value,\n    password: password.value,\n  };\n};\n\n// تسجيل الخروج\nexport const clearAuthData = async () => {\n  await Preferences.remove({ key: 'auth_token' });\n  await Preferences.remove({ key: 'auth_role' });\n  await Preferences.remove({ key: 'auth_userId' });\n  await Preferences.remove({ key: 'auth_emailOrPhone' });\n  await Preferences.remove({ key: 'auth_password' });\n  localStorage.clear();\n  window.dispatchEvent(new Event('authChange'));\n};\n\n// فحص الدخول\nexport const isLoggedIn = async () => {\n  const { token } = await getAuthData();\n  return !!token;\n};\n"],"mappings":"AAAA;AACA,OAASA,WAAW,KAAQ,wBAAwB,CAEpD;AACA,MAAO,MAAM,CAAAC,YAAY,CAAG,KAAAA,CAAOC,KAAK,CAAEC,IAAI,CAAEC,MAAM,CAAEC,YAAY,CAAEC,QAAQ,GAAK,CACjF,KAAM,CAAAN,WAAW,CAACO,GAAG,CAAC,CAAEC,GAAG,CAAE,YAAY,CAAEC,KAAK,CAAEP,KAAM,CAAC,CAAC,CAC1D,KAAM,CAAAF,WAAW,CAACO,GAAG,CAAC,CAAEC,GAAG,CAAE,WAAW,CAAEC,KAAK,CAAEN,IAAK,CAAC,CAAC,CACxD,KAAM,CAAAH,WAAW,CAACO,GAAG,CAAC,CAAEC,GAAG,CAAE,aAAa,CAAEC,KAAK,CAAEL,MAAO,CAAC,CAAC,CAC5D,KAAM,CAAAJ,WAAW,CAACO,GAAG,CAAC,CAAEC,GAAG,CAAE,mBAAmB,CAAEC,KAAK,CAAEJ,YAAa,CAAC,CAAC,CACxE,KAAM,CAAAL,WAAW,CAACO,GAAG,CAAC,CAAEC,GAAG,CAAE,eAAe,CAAEC,KAAK,CAAEH,QAAS,CAAC,CAAC,CAAE;AAClEI,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAC/C,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,WAAW,CAAG,KAAAA,CAAA,GAAY,CACrC,KAAM,CAAAX,KAAK,CAAG,KAAM,CAAAF,WAAW,CAACc,GAAG,CAAC,YAAY,CAAC,CACjD,KAAM,CAAAX,IAAI,CAAG,KAAM,CAAAH,WAAW,CAACc,GAAG,CAAC,WAAW,CAAC,CAC/C,KAAM,CAAAV,MAAM,CAAG,KAAM,CAAAJ,WAAW,CAACc,GAAG,CAAC,aAAa,CAAC,CACnD,KAAM,CAAAT,YAAY,CAAG,KAAM,CAAAL,WAAW,CAACc,GAAG,CAAC,mBAAmB,CAAC,CAC/D,KAAM,CAAAR,QAAQ,CAAG,KAAM,CAAAN,WAAW,CAACc,GAAG,CAAC,eAAe,CAAC,CAEvD,MAAO,CACLZ,KAAK,CAAEA,KAAK,CAACO,KAAK,CAClBN,IAAI,CAAEA,IAAI,CAACM,KAAK,CAChBL,MAAM,CAAEA,MAAM,CAACK,KAAK,CACpBJ,YAAY,CAAEA,YAAY,CAACI,KAAK,CAChCH,QAAQ,CAAEA,QAAQ,CAACG,KACrB,CAAC,CACH,CAAC,CAED;AACA,MAAO,MAAM,CAAAM,aAAa,CAAG,KAAAA,CAAA,GAAY,CACvC,KAAM,CAAAf,WAAW,CAACgB,MAAM,CAAC,CAAER,GAAG,CAAE,YAAa,CAAC,CAAC,CAC/C,KAAM,CAAAR,WAAW,CAACgB,MAAM,CAAC,CAAER,GAAG,CAAE,WAAY,CAAC,CAAC,CAC9C,KAAM,CAAAR,WAAW,CAACgB,MAAM,CAAC,CAAER,GAAG,CAAE,aAAc,CAAC,CAAC,CAChD,KAAM,CAAAR,WAAW,CAACgB,MAAM,CAAC,CAAER,GAAG,CAAE,mBAAoB,CAAC,CAAC,CACtD,KAAM,CAAAR,WAAW,CAACgB,MAAM,CAAC,CAAER,GAAG,CAAE,eAAgB,CAAC,CAAC,CAClDS,YAAY,CAACC,KAAK,CAAC,CAAC,CACpBR,MAAM,CAACC,aAAa,CAAC,GAAI,CAAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAC/C,CAAC,CAED;AACA,MAAO,MAAM,CAAAO,UAAU,CAAG,KAAAA,CAAA,GAAY,CACpC,KAAM,CAAEjB,KAAM,CAAC,CAAG,KAAM,CAAAW,WAAW,CAAC,CAAC,CACrC,MAAO,CAAC,CAACX,KAAK,CAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}