{"ast":null,"code":"import _objectSpread from\"/root/shose/app-shose/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/AdminDashboard.js\nimport{useState,useEffect,useRef,useCallback,useMemo}from'react';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const AdminDashboard=()=>{const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[filterType,setFilterType]=useState('');const[filterStatus,setFilterStatus]=useState('');const[selectedMedia,setSelectedMedia]=useState(null);const[currentMediaIndex,setCurrentMediaIndex]=useState({});const[currentMediaType,setCurrentMediaType]=useState({});const[error,setError]=useState('');const intervalRefs=useRef({});// === جلب المنتجات (مرة واحدة فقط) ===\nuseEffect(()=>{const token=localStorage.getItem('token');if(!token){setError('غير مصرح: يرجى تسجيل الدخول');return;}axios.get(\"\".concat(API_URL,\"/api/products/all-products\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{const data=res.data||[];setProducts(data);setFilteredProducts(data);const initialIndexes=data.reduce((acc,p)=>_objectSpread(_objectSpread({},acc),{},{[p._id]:0}),{});const initialTypes=data.reduce((acc,p)=>{var _p$videos;return _objectSpread(_objectSpread({},acc),{},{[p._id]:((_p$videos=p.videos)===null||_p$videos===void 0?void 0:_p$videos.length)>0?'video':'image'});},{});setCurrentMediaIndex(initialIndexes);setCurrentMediaType(initialTypes);setError('');}).catch(err=>{var _err$response,_err$response$data,_err$response2;const msg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'خطأ في جلب المنتجات';setError(msg);if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===401){localStorage.clear();window.location.href='/login';}});},[]);// === تصفية المنتجات (محسّنة بـ useMemo) ===\nconst filtered=useMemo(()=>{let filtered=products;if(filterType){filtered=filtered.filter(p=>p.type===filterType);}if(filterStatus==='pending'){filtered=filtered.filter(p=>!p.approved);}else if(filterStatus==='approved'){filtered=filtered.filter(p=>p.approved);}return filtered;},[products,filterType,filterStatus]);useEffect(()=>{setFilteredProducts(filtered);},[filtered]);// === تدوير الصور تلقائيًا (محسّن بـ useCallback) ===\nconst startAutoRotate=useCallback((productId,totalImages)=>{if(totalImages<=1)return;clearInterval(intervalRefs.current[productId]);intervalRefs.current[productId]=setInterval(()=>{setCurrentMediaIndex(prev=>_objectSpread(_objectSpread({},prev),{},{[productId]:(prev[productId]+1)%totalImages}));setCurrentMediaType(prev=>_objectSpread(_objectSpread({},prev),{},{[productId]:'image'}));},3000);},[]);useEffect(()=>{products.forEach(p=>{var _p$images;const totalImages=((_p$images=p.images)===null||_p$images===void 0?void 0:_p$images.length)||0;if(totalImages>1&&(!p.videos||p.videos.length===0)){startAutoRotate(p._id,totalImages);}else{clearInterval(intervalRefs.current[p._id]);}});return()=>{Object.values(intervalRefs.current).forEach(clearInterval);intervalRefs.current={};};},[products,startAutoRotate]);// === الموافقة ===\nconst handleApprove=useCallback(id=>{const token=localStorage.getItem('token');axios.put(\"\".concat(API_URL,\"/api/products/\").concat(id,\"/approve\"),{},{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setProducts(prev=>prev.map(p=>p._id===id?res.data:p));alert('تمت الموافقة على المنتج بنجاح');}).catch(err=>{var _err$response3,_err$response3$data;alert('خطأ: '+(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||err.message));});},[]);// === إلغاء الموافقة ===\nconst handleUnapprove=useCallback(id=>{if(!window.confirm('هل تريد إلغاء الموافقة؟ سيُعاد المنتج للانتظار.'))return;const token=localStorage.getItem('token');axios.put(\"\".concat(API_URL,\"/api/products/\").concat(id,\"/unapprove\"),{},{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setProducts(prev=>prev.map(p=>p._id===id?res.data:p));alert('تم إلغاء الموافقة');}).catch(err=>{var _err$response4,_err$response4$data;alert('خطأ: '+(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||err.message));});},[]);// === الوسائط ===\nconst openMedia=(media,type)=>{setSelectedMedia({url:\"\".concat(API_URL,\"/uploads/\").concat(media),type});};const closeMedia=()=>setSelectedMedia(null);const handlePrevMedia=useCallback((id,p)=>{var _p$videos2,_p$images2;const total=(((_p$videos2=p.videos)===null||_p$videos2===void 0?void 0:_p$videos2.length)||0)+(((_p$images2=p.images)===null||_p$images2===void 0?void 0:_p$images2.length)||0);setCurrentMediaIndex(prev=>{const next=(prev[id]-1+total)%total;setCurrentMediaType(t=>{var _p$videos3;return _objectSpread(_objectSpread({},t),{},{[id]:next<(((_p$videos3=p.videos)===null||_p$videos3===void 0?void 0:_p$videos3.length)||0)?'video':'image'});});return _objectSpread(_objectSpread({},prev),{},{[id]:next});});clearInterval(intervalRefs.current[id]);},[]);const handleNextMedia=useCallback((id,p)=>{var _p$videos4,_p$images3;const total=(((_p$videos4=p.videos)===null||_p$videos4===void 0?void 0:_p$videos4.length)||0)+(((_p$images3=p.images)===null||_p$images3===void 0?void 0:_p$images3.length)||0);setCurrentMediaIndex(prev=>{const next=(prev[id]+1)%total;setCurrentMediaType(t=>{var _p$videos5;return _objectSpread(_objectSpread({},t),{},{[id]:next<(((_p$videos5=p.videos)===null||_p$videos5===void 0?void 0:_p$videos5.length)||0)?'video':'image'});});return _objectSpread(_objectSpread({},prev),{},{[id]:next});});clearInterval(intervalRefs.current[id]);},[]);// === أنيميشن الكروت ===\nconst cardVariants={hidden:{opacity:0,y:20,scale:0.98},visible:{opacity:1,y:0,scale:1,transition:{duration:0.5}},hover:{scale:1.03,boxShadow:'0 10px 20px rgba(0,0,0,0.15)'}};// === دالة عرض الصورة الرئيسية (محسّنة للأداء) ===\nconst MainMedia=_ref=>{var _product$videos,_product$images;let{product}=_ref;const videoCount=((_product$videos=product.videos)===null||_product$videos===void 0?void 0:_product$videos.length)||0;const imageCount=((_product$images=product.images)===null||_product$images===void 0?void 0:_product$images.length)||0;const total=videoCount+imageCount;const currentIdx=currentMediaIndex[product._id]||0;if(total===0){return/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/uploads/placeholder-image.jpg\"),alt:\"\\u0628\\u062F\\u064A\\u0644\",className:\"w-full h-full object-contain\",loading:\"eager\",decoding:\"async\"});}const isVideo=currentIdx<videoCount;const mediaSrc=isVideo?product.videos[currentIdx]:product.images[currentIdx-videoCount];return isVideo?/*#__PURE__*/_jsx(\"video\",{src:\"\".concat(API_URL,\"/uploads/\").concat(mediaSrc),className:\"w-full h-full object-contain\",controls:true,onClick:()=>openMedia(mediaSrc,'video'),preload:\"metadata\"}):/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/uploads/\").concat(mediaSrc),alt:product.name,className:\"w-full h-full object-contain cursor-pointer\",onClick:()=>openMedia(mediaSrc,'image'),loading:\"eager\",decoding:\"async\",fetchPriority:\"high\",onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(API_URL,\"/uploads/placeholder-image.jpg\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10 pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-96 h-96 bg-red-900 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-80 h-80 bg-red-800 rounded-full blur-3xl animate-pulse delay-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-center mb-10 gap-4\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\",children:\"\\u0644\\u0648\\u062D\\u0629 \\u062A\\u062D\\u0643\\u0645 \\u0627\\u0644\\u0623\\u062F\\u0645\\u0646\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 mt-2\",children:\"\\u0645\\u0631\\u0627\\u062C\\u0639\\u0629 \\u0648\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(motion.select,{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),className:\"p-3 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition\",whileHover:{scale:1.03},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u062D\\u0627\\u0644\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pending\",children:\"\\u0641\\u064A \\u0627\\u0646\\u062A\\u0638\\u0627\\u0631 \\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629\"}),/*#__PURE__*/_jsx(\"option\",{value:\"approved\",children:\"\\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642 \\u0639\\u0644\\u064A\\u0647\\u0627\"})]}),/*#__PURE__*/_jsxs(motion.select,{value:filterType,onChange:e=>setFilterType(e.target.value),className:\"p-3 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition\",whileHover:{scale:1.03},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0623\\u0646\\u0648\\u0627\\u0639\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0631\\u062C\\u0627\\u0644\\u064A\",children:\"\\u0631\\u062C\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u062D\\u0631\\u064A\\u0645\\u064A\",children:\"\\u062D\\u0631\\u064A\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0623\\u0637\\u0641\\u0627\\u0644\",children:\"\\u0623\\u0637\\u0641\\u0627\\u0644\"})]})]})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:error&&/*#__PURE__*/_jsx(motion.p,{className:\"text-center text-red-400 mb-6\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:filteredProducts.length===0?/*#__PURE__*/_jsx(motion.p,{className:\"col-span-full text-center text-slate-400 text-xl\",initial:{opacity:0},animate:{opacity:1},children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u062A\\u0637\\u0627\\u0628\\u0642 \\u0627\\u0644\\u0641\\u0644\\u0627\\u062A\\u0631\"}):filteredProducts.map((product,i)=>{var _product$videos2,_product$images2,_product$vendor,_product$images3,_product$videos4;return/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\",variants:cardVariants,initial:\"hidden\",whileInView:\"visible\",viewport:{once:true,amount:0.3},whileHover:\"hover\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative aspect-[4/3] bg-[#3a3b3c] overflow-hidden\",children:[/*#__PURE__*/_jsx(MainMedia,{product:product}),((_product$videos2=product.videos)===null||_product$videos2===void 0?void 0:_product$videos2.length)+((_product$images2=product.images)===null||_product$images2===void 0?void 0:_product$images2.length)>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-x-0 bottom-3 flex justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePrevMedia(product._id,product),className:\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleNextMedia(product._id,product),className:\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5l7 7-7 7\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 space-y-2 text-right\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u062A\\u0627\\u062C\\u0631: \",((_product$vendor=product.vendor)===null||_product$vendor===void 0?void 0:_product$vendor.name)||'غير معروف']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0646\\u0648\\u0639: \",product.type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0643\\u0631\\u062A\\u0648\\u0646\\u0629: \",product.price,\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062C\\u0648\\u0632: \",(product.price/product.quantityPerCarton).toFixed(2),\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629: \",product.quantityPerCarton,\" \\u062C\\u0648\\u0632\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0645\\u0635\\u0646\\u0639: \",product.manufacturer]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mt-3 justify-end\",children:[(_product$images3=product.images)===null||_product$images3===void 0?void 0:_product$images3.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(API_URL,\"/uploads/\").concat(img),alt:\"\",className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\",onClick:()=>{setCurrentMediaIndex(prev=>{var _product$videos3;return _objectSpread(_objectSpread({},prev),{},{[product._id]:idx+(((_product$videos3=product.videos)===null||_product$videos3===void 0?void 0:_product$videos3.length)||0)});});setCurrentMediaType(prev=>_objectSpread(_objectSpread({},prev),{},{[product._id]:'image'}));openMedia(img,'image');},loading:\"lazy\",decoding:\"async\",onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(API_URL,\"/uploads/placeholder-image.jpg\");}},\"img-\".concat(idx))),(_product$videos4=product.videos)===null||_product$videos4===void 0?void 0:_product$videos4.map((vid,idx)=>/*#__PURE__*/_jsx(\"video\",{src:\"\".concat(API_URL,\"/uploads/\").concat(vid),className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\",onClick:()=>openMedia(vid,'video'),preload:\"none\"},\"vid-\".concat(idx)))]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 rounded-xl text-center font-medium text-sm \".concat(product.approved?'bg-green-600/20 text-green-300 border border-green-600/50':'bg-yellow-600/20 text-yellow-300 border border-yellow-600/50 animate-pulse'),children:product.approved?'موافق عليه':'في انتظار الموافقة'}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:!product.approved?/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleApprove(product._id),className:\"w-full py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-700 text-white font-bold shadow-md hover:from-red-700 hover:to-red-800 transition\",whileHover:{scale:1.03},whileTap:{scale:0.98},children:\"\\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629\"}):/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleUnapprove(product._id),className:\"w-full py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-700 text-white font-bold shadow-md hover:from-red-700 hover:to-red-800 transition\",whileHover:{scale:1.03},whileTap:{scale:0.98},children:\"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629\"})})]})]},\"\".concat(product._id,\"-\").concat(i));})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:selectedMedia&&/*#__PURE__*/_jsx(motion.div,{className:\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:closeMedia,children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative max-w-4xl w-full\",onClick:e=>e.stopPropagation(),children:[selectedMedia.type==='image'?/*#__PURE__*/_jsx(\"img\",{src:selectedMedia.url,alt:\"\",className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\",loading:\"eager\"}):/*#__PURE__*/_jsx(\"video\",{src:selectedMedia.url,controls:true,autoPlay:true,className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeMedia,className:\"absolute top-4 right-4 bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-red-700 transition\",children:\"X\"})]})})})]});};export default AdminDashboard;","map":{"version":3,"names":["useState","useEffect","useRef","useCallback","useMemo","motion","AnimatePresence","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","AdminDashboard","products","setProducts","filteredProducts","setFilteredProducts","filterType","setFilterType","filterStatus","setFilterStatus","selectedMedia","setSelectedMedia","currentMediaIndex","setCurrentMediaIndex","currentMediaType","setCurrentMediaType","error","setError","intervalRefs","token","localStorage","getItem","get","concat","headers","Authorization","then","res","data","initialIndexes","reduce","acc","p","_objectSpread","_id","initialTypes","_p$videos","videos","length","catch","err","_err$response","_err$response$data","_err$response2","msg","response","message","status","clear","window","location","href","filtered","filter","type","approved","startAutoRotate","productId","totalImages","clearInterval","current","setInterval","prev","forEach","_p$images","images","Object","values","handleApprove","id","put","map","alert","_err$response3","_err$response3$data","handleUnapprove","confirm","_err$response4","_err$response4$data","openMedia","media","url","closeMedia","handlePrevMedia","_p$videos2","_p$images2","total","next","t","_p$videos3","handleNextMedia","_p$videos4","_p$images3","_p$videos5","cardVariants","hidden","opacity","y","scale","visible","transition","duration","hover","boxShadow","MainMedia","_ref","_product$videos","_product$images","product","videoCount","imageCount","currentIdx","src","alt","className","loading","decoding","isVideo","mediaSrc","controls","onClick","preload","name","fetchPriority","onError","e","target","onerror","children","div","initial","animate","select","value","onChange","whileHover","exit","i","_product$videos2","_product$images2","_product$vendor","_product$images3","_product$videos4","variants","whileInView","viewport","once","amount","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","vendor","price","quantityPerCarton","toFixed","manufacturer","img","idx","_product$videos3","vid","button","whileTap","stopPropagation","autoPlay"],"sources":["/root/shose/app-shose/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["// frontend/src/pages/AdminDashboard.js\nimport { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst AdminDashboard = () => {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [filterType, setFilterType] = useState('');\n  const [filterStatus, setFilterStatus] = useState('');\n  const [selectedMedia, setSelectedMedia] = useState(null);\n  const [currentMediaIndex, setCurrentMediaIndex] = useState({});\n  const [currentMediaType, setCurrentMediaType] = useState({});\n  const [error, setError] = useState('');\n  const intervalRefs = useRef({});\n\n  // === جلب المنتجات (مرة واحدة فقط) ===\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setError('غير مصرح: يرجى تسجيل الدخول');\n      return;\n    }\n\n    axios\n      .get(`${API_URL}/api/products/all-products`, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then(res => {\n        const data = res.data || [];\n        setProducts(data);\n        setFilteredProducts(data);\n\n        const initialIndexes = data.reduce((acc, p) => ({ ...acc, [p._id]: 0 }), {});\n        const initialTypes = data.reduce((acc, p) => ({\n          ...acc,\n          [p._id]: p.videos?.length > 0 ? 'video' : 'image'\n        }), {});\n\n        setCurrentMediaIndex(initialIndexes);\n        setCurrentMediaType(initialTypes);\n        setError('');\n      })\n      .catch(err => {\n        const msg = err.response?.data?.message || 'خطأ في جلب المنتجات';\n        setError(msg);\n        if (err.response?.status === 401) {\n          localStorage.clear();\n          window.location.href = '/login';\n        }\n      });\n  }, []);\n\n  // === تصفية المنتجات (محسّنة بـ useMemo) ===\n  const filtered = useMemo(() => {\n    let filtered = products;\n\n    if (filterType) {\n      filtered = filtered.filter(p => p.type === filterType);\n    }\n\n    if (filterStatus === 'pending') {\n      filtered = filtered.filter(p => !p.approved);\n    } else if (filterStatus === 'approved') {\n      filtered = filtered.filter(p => p.approved);\n    }\n\n    return filtered;\n  }, [products, filterType, filterStatus]);\n\n  useEffect(() => {\n    setFilteredProducts(filtered);\n  }, [filtered]);\n\n  // === تدوير الصور تلقائيًا (محسّن بـ useCallback) ===\n  const startAutoRotate = useCallback((productId, totalImages) => {\n    if (totalImages <= 1) return;\n\n    clearInterval(intervalRefs.current[productId]);\n    intervalRefs.current[productId] = setInterval(() => {\n      setCurrentMediaIndex(prev => ({\n        ...prev,\n        [productId]: (prev[productId] + 1) % totalImages\n      }));\n      setCurrentMediaType(prev => ({ ...prev, [productId]: 'image' }));\n    }, 3000);\n  }, []);\n\n  useEffect(() => {\n    products.forEach(p => {\n      const totalImages = p.images?.length || 0;\n      if (totalImages > 1 && (!p.videos || p.videos.length === 0)) {\n        startAutoRotate(p._id, totalImages);\n      } else {\n        clearInterval(intervalRefs.current[p._id]);\n      }\n    });\n\n    return () => {\n      Object.values(intervalRefs.current).forEach(clearInterval);\n      intervalRefs.current = {};\n    };\n  }, [products, startAutoRotate]);\n\n  // === الموافقة ===\n  const handleApprove = useCallback((id) => {\n    const token = localStorage.getItem('token');\n    axios\n      .put(`${API_URL}/api/products/${id}/approve`, {}, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then(res => {\n        setProducts(prev => prev.map(p => p._id === id ? res.data : p));\n        alert('تمت الموافقة على المنتج بنجاح');\n      })\n      .catch(err => {\n        alert('خطأ: ' + (err.response?.data?.message || err.message));\n      });\n  }, []);\n\n  // === إلغاء الموافقة ===\n  const handleUnapprove = useCallback((id) => {\n    if (!window.confirm('هل تريد إلغاء الموافقة؟ سيُعاد المنتج للانتظار.')) return;\n\n    const token = localStorage.getItem('token');\n    axios\n      .put(`${API_URL}/api/products/${id}/unapprove`, {}, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then(res => {\n        setProducts(prev => prev.map(p => p._id === id ? res.data : p));\n        alert('تم إلغاء الموافقة');\n      })\n      .catch(err => {\n        alert('خطأ: ' + (err.response?.data?.message || err.message));\n      });\n  }, []);\n\n  // === الوسائط ===\n  const openMedia = (media, type) => {\n    setSelectedMedia({ url: `${API_URL}/uploads/${media}`, type });\n  };\n\n  const closeMedia = () => setSelectedMedia(null);\n\n  const handlePrevMedia = useCallback((id, p) => {\n    const total = (p.videos?.length || 0) + (p.images?.length || 0);\n    setCurrentMediaIndex(prev => {\n      const next = (prev[id] - 1 + total) % total;\n      setCurrentMediaType(t => ({\n        ...t,\n        [id]: next < (p.videos?.length || 0) ? 'video' : 'image'\n      }));\n      return { ...prev, [id]: next };\n    });\n    clearInterval(intervalRefs.current[id]);\n  }, []);\n\n  const handleNextMedia = useCallback((id, p) => {\n    const total = (p.videos?.length || 0) + (p.images?.length || 0);\n    setCurrentMediaIndex(prev => {\n      const next = (prev[id] + 1) % total;\n      setCurrentMediaType(t => ({\n        ...t,\n        [id]: next < (p.videos?.length || 0) ? 'video' : 'image'\n      }));\n      return { ...prev, [id]: next };\n    });\n    clearInterval(intervalRefs.current[id]);\n  }, []);\n\n  // === أنيميشن الكروت ===\n  const cardVariants = {\n    hidden: { opacity: 0, y: 20, scale: 0.98 },\n    visible: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.5 } },\n    hover: { scale: 1.03, boxShadow: '0 10px 20px rgba(0,0,0,0.15)' }\n  };\n\n  // === دالة عرض الصورة الرئيسية (محسّنة للأداء) ===\n  const MainMedia = ({ product }) => {\n    const videoCount = product.videos?.length || 0;\n    const imageCount = product.images?.length || 0;\n    const total = videoCount + imageCount;\n    const currentIdx = currentMediaIndex[product._id] || 0;\n\n    if (total === 0) {\n      return (\n        <img\n          src={`${API_URL}/uploads/placeholder-image.jpg`}\n          alt=\"بديل\"\n          className=\"w-full h-full object-contain\"\n          loading=\"eager\"\n          decoding=\"async\"\n        />\n      );\n    }\n\n    const isVideo = currentIdx < videoCount;\n    const mediaSrc = isVideo\n      ? product.videos[currentIdx]\n      : product.images[currentIdx - videoCount];\n\n    return isVideo ? (\n      <video\n        src={`${API_URL}/uploads/${mediaSrc}`}\n        className=\"w-full h-full object-contain\"\n        controls\n        onClick={() => openMedia(mediaSrc, 'video')}\n        preload=\"metadata\"\n      />\n    ) : (\n      <img\n        src={`${API_URL}/uploads/${mediaSrc}`}\n        alt={product.name}\n        className=\"w-full h-full object-contain cursor-pointer\"\n        onClick={() => openMedia(mediaSrc, 'image')}\n        loading=\"eager\"\n        decoding=\"async\"\n        fetchPriority=\"high\"\n        onError={e => {\n          e.target.onerror = null;\n          e.target.src = `${API_URL}/uploads/placeholder-image.jpg`;\n        }}\n      />\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\">\n      {/* خلفية ناعمة */}\n      <div className=\"absolute inset-0 opacity-10 pointer-events-none\">\n        <div className=\"absolute top-0 left-0 w-96 h-96 bg-red-900 rounded-full blur-3xl animate-pulse\" />\n        <div className=\"absolute bottom-0 right-0 w-80 h-80 bg-red-800 rounded-full blur-3xl animate-pulse delay-700\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-7xl mx-auto\">\n        {/* العنوان + الفلاتر */}\n        <div className=\"flex flex-col md:flex-row justify-between items-center mb-10 gap-4\">\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n          >\n            <h1 className=\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\">\n              لوحة تحكم الأدمن\n            </h1>\n            <p className=\"text-red-300 mt-2\">مراجعة وموافقة المنتجات</p>\n          </motion.div>\n\n          <div className=\"flex gap-3\">\n            <motion.select\n              value={filterStatus}\n              onChange={e => setFilterStatus(e.target.value)}\n              className=\"p-3 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition\"\n              whileHover={{ scale: 1.03 }}\n            >\n              <option value=\"\">جميع الحالات</option>\n              <option value=\"pending\">في انتظار الموافقة</option>\n              <option value=\"approved\">الموافق عليها</option>\n            </motion.select>\n\n            <motion.select\n              value={filterType}\n              onChange={e => setFilterType(e.target.value)}\n              className=\"p-3 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition\"\n              whileHover={{ scale: 1.03 }}\n            >\n              <option value=\"\">جميع الأنواع</option>\n              <option value=\"رجالي\">رجالي</option>\n              <option value=\"حريمي\">حريمي</option>\n              <option value=\"أطفال\">أطفال</option>\n            </motion.select>\n          </div>\n        </div>\n\n        {/* رسالة الخطأ */}\n        <AnimatePresence>\n          {error && (\n            <motion.p\n              className=\"text-center text-red-400 mb-6\"\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0 }}\n            >\n              {error}\n            </motion.p>\n          )}\n        </AnimatePresence>\n\n        {/* الكروت */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {filteredProducts.length === 0 ? (\n            <motion.p\n              className=\"col-span-full text-center text-slate-400 text-xl\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n            >\n              لا توجد منتجات تطابق الفلاتر\n            </motion.p>\n          ) : (\n            filteredProducts.map((product, i) => (\n              <motion.div\n                key={`${product._id}-${i}`}\n                className=\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\"\n                variants={cardVariants}\n                initial=\"hidden\"\n                whileInView=\"visible\"\n                viewport={{ once: true, amount: 0.3 }}\n                whileHover=\"hover\"\n              >\n                {/* الوسائط الرئيسية */}\n                <div className=\"relative aspect-[4/3] bg-[#3a3b3c] overflow-hidden\">\n                  <MainMedia product={product} />\n\n                  {/* أزرار التنقل */}\n                  {(product.videos?.length + product.images?.length) > 1 && (\n                    <div className=\"absolute inset-x-0 bottom-3 flex justify-center gap-3\">\n                      <button\n                        onClick={() => handlePrevMedia(product._id, product)}\n                        className=\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\"\n                      >\n                        <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                        </svg>\n                      </button>\n                      <button\n                        onClick={() => handleNextMedia(product._id, product)}\n                        className=\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\"\n                      >\n                        <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                        </svg>\n                      </button>\n                    </div>\n                  )}\n                </div>\n\n                {/* المعلومات */}\n                <div className=\"p-5 space-y-2 text-right\">\n                  <h3 className=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-400 to-red-600\">\n                    {product.name}\n                  </h3>\n                  <p className=\"text-sm text-gray-300\">التاجر: {product.vendor?.name || 'غير معروف'}</p>\n                  <p className=\"text-sm text-gray-300\">النوع: {product.type}</p>\n                  <p className=\"text-sm text-gray-300\">سعر الكرتونة: {product.price} جنيه</p>\n                  <p className=\"text-sm text-gray-300\">سعر الجوز: {(product.price / product.quantityPerCarton).toFixed(2)} جنيه</p>\n                  <p className=\"text-sm text-gray-300\">الكمية: {product.quantityPerCarton} جوز</p>\n                  <p className=\"text-sm text-gray-300\">المصنع: {product.manufacturer}</p>\n\n                  {/* معاينة الوسائط */}\n                  <div className=\"flex flex-wrap gap-2 mt-3 justify-end\">\n                    {product.images?.map((img, idx) => (\n                      <img\n                        key={`img-${idx}`}\n                        src={`${API_URL}/uploads/${img}`}\n                        alt=\"\"\n                        className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\"\n                        onClick={() => {\n                          setCurrentMediaIndex(prev => ({ ...prev, [product._id]: idx + (product.videos?.length || 0) }));\n                          setCurrentMediaType(prev => ({ ...prev, [product._id]: 'image' }));\n                          openMedia(img, 'image');\n                        }}\n                        loading=\"lazy\"\n                        decoding=\"async\"\n                        onError={e => {\n                          e.target.onerror = null;\n                          e.target.src = `${API_URL}/uploads/placeholder-image.jpg`;\n                        }}\n                      />\n                    ))}\n                    {product.videos?.map((vid, idx) => (\n                      <video\n                        key={`vid-${idx}`}\n                        src={`${API_URL}/uploads/${vid}`}\n                        className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-red-500 transition\"\n                        onClick={() => openMedia(vid, 'video')}\n                        preload=\"none\"\n                      />\n                    ))}\n                  </div>\n\n                  {/* حالة الموافقة */}\n                  <div className={`mt-4 p-3 rounded-xl text-center font-medium text-sm ${\n                    product.approved\n                      ? 'bg-green-600/20 text-green-300 border border-green-600/50'\n                      : 'bg-yellow-600/20 text-yellow-300 border border-yellow-600/50 animate-pulse'\n                  }`}>\n                    {product.approved ? 'موافق عليه' : 'في انتظار الموافقة'}\n                  </div>\n\n                  {/* أزرار التحكم */}\n                  <div className=\"mt-4\">\n                    {!product.approved ? (\n                      <motion.button\n                        onClick={() => handleApprove(product._id)}\n                        className=\"w-full py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-700 text-white font-bold shadow-md hover:from-red-700 hover:to-red-800 transition\"\n                        whileHover={{ scale: 1.03 }}\n                        whileTap={{ scale: 0.98 }}\n                      >\n                        الموافقة\n                      </motion.button>\n                    ) : (\n                      <motion.button\n                        onClick={() => handleUnapprove(product._id)}\n                        className=\"w-full py-3 rounded-xl bg-gradient-to-r from-red-600 to-red-700 text-white font-bold shadow-md hover:from-red-700 hover:to-red-800 transition\"\n                        whileHover={{ scale: 1.03 }}\n                        whileTap={{ scale: 0.98 }}\n                      >\n                        إلغاء الموافقة\n                      </motion.button>\n                    )}\n                  </div>\n                </div>\n              </motion.div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* مودال الوسائط */}\n      <AnimatePresence>\n        {selectedMedia && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={closeMedia}\n          >\n            <motion.div\n              className=\"relative max-w-4xl w-full\"\n              onClick={e => e.stopPropagation()}\n            >\n              {selectedMedia.type === 'image' ? (\n                <img\n                  src={selectedMedia.url}\n                  alt=\"\"\n                  className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\"\n                  loading=\"eager\"\n                />\n              ) : (\n                <video\n                  src={selectedMedia.url}\n                  controls\n                  autoPlay\n                  className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\"\n                />\n              )}\n              <button\n                onClick={closeMedia}\n                className=\"absolute top-4 right-4 bg-red-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-red-700 transition\"\n              >\n                X\n              </button>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}