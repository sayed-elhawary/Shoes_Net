{"ast":null,"code":"import _objectSpread from\"/root/shose/app-shose/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/Login.js\nimport React,{useState,useEffect,useCallback,useRef}from'react';import{useNavigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const CustomLoadingSpinner=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 text-white\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\",fill:\"none\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8v8z\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})]});const Login=()=>{const[form,setForm]=useState({emailOrPhone:'',password:''});const[registerForm,setRegisterForm]=useState({name:'',phone:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showIntro,setShowIntro]=useState(true);const[showForm,setShowForm]=useState(false);const[isRegistering,setIsRegistering]=useState(false);const[savedEmails,setSavedEmails]=useState([]);// فقط الإيميلات/التليفونات\nconst[showDropdown,setShowDropdown]=useState(false);const navigate=useNavigate();const dropdownRef=useRef(null);// تحميل الحسابات المحفوظة بأخف طريقة ممكنة\nuseEffect(()=>{const load=()=>{try{const data=localStorage.getItem('savedLogins');if(data){const parsed=JSON.parse(data);setSavedEmails(parsed.slice(0,8));// أخر 8 حسابات بس\n// إملأ آخر حساب مستخدم تلقائيًا\nconst last=localStorage.getItem('lastLoginEmail');if(last&&parsed.includes(last)){setForm(prev=>_objectSpread(_objectSpread({},prev),{},{emailOrPhone:last}));}}}catch(e){/* ignore */}};if('requestIdleCallback'in window){requestIdleCallback(load);}else{setTimeout(load,50);}},[]);// حفظ الإيميل/التليفون فقط بعد تسجيل دخول ناجح\nconst saveEmailOrPhone=useCallback(emailOrPhone=>{if(!emailOrPhone.trim())return;try{const cleaned=emailOrPhone.trim();let updated=[cleaned];const prev=JSON.parse(localStorage.getItem('savedLogins')||'[]');updated=[...updated,...prev.filter(x=>x!==cleaned)].slice(0,8);localStorage.setItem('savedLogins',JSON.stringify(updated));localStorage.setItem('lastLoginEmail',cleaned);setSavedEmails(updated);}catch(e){/* ignore */}},[]);// اختيار من الدرب داون\nconst selectSaved=value=>{setForm(prev=>_objectSpread(_objectSpread({},prev),{},{emailOrPhone:value,password:''}));setShowDropdown(false);localStorage.setItem('lastLoginEmail',value);};// حذف حساب محفوظ\nconst deleteSaved=(e,value)=>{e.stopPropagation();try{const filtered=savedEmails.filter(x=>x!==value);localStorage.setItem('savedLogins',JSON.stringify(filtered));setSavedEmails(filtered);if(localStorage.getItem('lastLoginEmail')===value){localStorage.removeItem('lastLoginEmail');}}catch(e){/* ignore */}};// إغلاق الدرب داون عند النقر بره\nuseEffect(()=>{const handleClickOutside=e=>{if(dropdownRef.current&&!dropdownRef.current.contains(e.target)){setShowDropdown(false);}};document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);},[]);// أنيميشن الإنترو خفيف جدًا\nuseEffect(()=>{const t1=setTimeout(()=>setShowIntro(false),1500);const t2=setTimeout(()=>setShowForm(true),1600);return()=>{clearTimeout(t1);clearTimeout(t2);};},[]);const handleLogin=async e=>{e.preventDefault();setError('');setLoading(true);try{const payload=/^\\d{11}$/.test(form.emailOrPhone)?{phone:form.emailOrPhone,password:form.password}:{email:form.emailOrPhone,password:form.password};const res=await axios.post(\"\".concat(API_URL,\"/api/auth/login\"),payload);localStorage.setItem('token',res.data.token);localStorage.setItem('role',res.data.role);localStorage.setItem('userId',res.data.userId);window.dispatchEvent(new Event('authChange'));// حفظ الإيميل/التليفون فقط بعد نجاح اللوجن\nsaveEmailOrPhone(form.emailOrPhone);setTimeout(()=>{const role=res.data.role;if(role==='admin')navigate('/admin');else if(role==='vendor')navigate('/vendor');else navigate('/');},200);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'بيانات غير صحيحة');}finally{setLoading(false);}};const handleRegister=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);try{await axios.post(\"\".concat(API_URL,\"/api/auth/register-customer-public\"),{name:registerForm.name,phone:registerForm.phone,password:registerForm.password});setSuccess('تم إرسال طلب التسجيل بنجاح! بانتظار الموافقة');setRegisterForm({name:'',phone:'',password:''});setTimeout(()=>setIsRegistering(false),2000);}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'فشل التسجيل');}finally{setLoading(false);}};const openWhatsApp=()=>{window.open('https://wa.me/201553531373','_blank');};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col items-center justify-center p-4 bg-[#18191a] text-white relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-96 h-96 bg-red-900/10 rounded-full blur-3xl\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-80 h-80 bg-red-800/10 rounded-full blur-3xl\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-md\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:showIntro&&/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col items-center space-y-6\",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.4},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rotating-ring\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/icon.png\",alt:\"Shose Net\",className:\"w-32 h-32 object-contain relative z-10\",loading:\"lazy\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-extrabold bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent\",children:\"Shose Net\"})})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showForm&&/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/95 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-gray-700/50\",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.4},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mb-6 gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsRegistering(false),className:\"px-6 py-2.5 rounded-xl font-medium transition-all \".concat(!isRegistering?'bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg':'bg-gray-700 text-gray-400'),children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsRegistering(true),className:\"px-6 py-2.5 rounded-xl font-medium transition-all \".concat(isRegistering?'bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg':'bg-gray-700 text-gray-400'),children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u062D\\u0633\\u0627\\u0628\"})]}),error&&/*#__PURE__*/_jsx(motion.div,{className:\"bg-red-500/20 border border-red-500/50 text-red-300 p-3 rounded-xl mb-4 text-center text-sm\",initial:{opacity:0},animate:{opacity:1},children:error}),success&&/*#__PURE__*/_jsx(motion.div,{className:\"bg-green-500/20 border border-green-500/50 text-green-300 p-3 rounded-xl mb-4 text-center text-sm\",initial:{opacity:0},animate:{opacity:1},children:success}),!isRegistering?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:dropdownRef,children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0627\\u0644\\u0625\\u0644\\u0643\\u062A\\u0631\\u0648\\u0646\\u064A \\u0623\\u0648 \\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.emailOrPhone,onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{emailOrPhone:e.target.value})),onFocus:()=>savedEmails.length>0&&setShowDropdown(true),className:\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/30 transition-all\",placeholder:\"example@domain.com \\u0623\\u0648 01xxxxxxxxx\",required:true,autoComplete:\"username\"}),/*#__PURE__*/_jsx(AnimatePresence,{children:showDropdown&&savedEmails.length>0&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:\"absolute top-full left-0 right-0 mt-2 bg-[#2d2d2d] border border-gray-600 rounded-xl shadow-2xl z-50 max-h-60 overflow-y-auto\",children:savedEmails.map((item,i)=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>selectSaved(item),className:\"px-4 py-3 hover:bg-red-900/40 cursor-pointer flex justify-between items-center border-b border-gray-700 last:border-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-white truncate\",children:item})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:e=>deleteSaved(e,item),className:\"text-red-400 text-xs hover:text-red-300 mr-2\",children:\"\\u062D\\u0630\\u0641\"})]},i))})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:form.password,onChange:e=>setForm(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/30 transition-all\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true,autoComplete:\"current-password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-lg disabled:opacity-70 transition-all\",children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'تسجيل الدخول'})]}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registerForm.name,onChange:e=>setRegisterForm(prev=>_objectSpread(_objectSpread({},prev),{},{name:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white placeholder-gray-400\",placeholder:\"\\u0623\\u062D\\u0645\\u062F \\u0645\\u062D\\u0645\\u062F\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registerForm.phone,onChange:e=>setRegisterForm(prev=>_objectSpread(_objectSpread({},prev),{},{phone:e.target.value.replace(/\\D/g,'').slice(0,11)})),className:\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white\",placeholder:\"01xxxxxxxxx\",required:true,maxLength:\"11\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:registerForm.password,onChange:e=>setRegisterForm(prev=>_objectSpread(_objectSpread({},prev),{},{password:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-lg disabled:opacity-70 transition-all\",children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'إنشاء حساب'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-6 text-gray-400 text-xs\",children:[\"\\u0623\\u062F\\u0645\\u0646: admin@test.com / 123456\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0627\\u0644\\u0639\\u0645\\u0644\\u0627\\u0621: \\u0633\\u062C\\u0644\\u0648\\u0627 \\u0648\\u0627\\u0646\\u062A\\u0638\\u0631\\u0648\\u0627 \\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629\"]})]})}),/*#__PURE__*/_jsx(motion.button,{onClick:openWhatsApp,className:\"fixed bottom-6 left-6 bg-[#25D366] p-4 rounded-full shadow-2xl hover:scale-110 transition-all z-50\",initial:{y:100},animate:{y:0},transition:{delay:1.8},children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-7 w-7\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12.04 2C6.58 2 2.13 6.45 2.13 11.91c0 1.33.26 2.59.73 3.77L2 21l5.44-.94c1.14.77 2.46 1.17 3.81 1.17 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zm5.66 14.56c-.24.66-.88.88-1.44.49-1.22-.86-2.96-2.07-4.44-2.56-.66-.22-1.32-.09-1.77.33l-.66.66c-.22.22-.55.22-.77 0-.55-.55-1.44-1.44-1.77-2.1-.11-.22 0-.44.22-.55.55-.33 1.11-.88 1.44-1.44.22-.33.11-.77-.22-1.1-.66-.66-1.32-1.32-1.99-1.99-.33-.33-.77-.44-1.21-.22-.44.22-.88.66-1.1 1.1-.88 1.77.22 4.1 2.21 6.09 2.43 2.43 5.31 2.65 7.08 1.77.44-.22.88-.66 1.1-1.1.33-.66.11-1.44-.55-1.77z\"})})})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n        .rotating-ring {\\n          position: absolute;\\n          inset: -20px;\\n          border: 3px solid transparent;\\n          border-top: 3px solid #ef4444;\\n          border-right: 3px solid #f87171;\\n          border-radius: 50%;\\n          animation: rotate 3s linear infinite;\\n          opacity: 0.5;\\n        }\\n        @keyframes rotate {\\n          from { transform: rotate(0deg); }\\n          to { transform: rotate(360deg); }\\n        }\\n      \"})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useNavigate","motion","AnimatePresence","axios","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","CustomLoadingSpinner","className","children","viewBox","cx","cy","r","stroke","strokeWidth","fill","d","Login","form","setForm","emailOrPhone","password","registerForm","setRegisterForm","name","phone","loading","setLoading","error","setError","success","setSuccess","showIntro","setShowIntro","showForm","setShowForm","isRegistering","setIsRegistering","savedEmails","setSavedEmails","showDropdown","setShowDropdown","navigate","dropdownRef","load","data","localStorage","getItem","parsed","JSON","parse","slice","last","includes","prev","_objectSpread","e","window","requestIdleCallback","setTimeout","saveEmailOrPhone","trim","cleaned","updated","filter","x","setItem","stringify","selectSaved","value","deleteSaved","stopPropagation","filtered","removeItem","handleClickOutside","current","contains","target","document","addEventListener","removeEventListener","t1","t2","clearTimeout","handleLogin","preventDefault","payload","test","email","res","post","concat","token","role","userId","dispatchEvent","Event","err","_err$response","_err$response$data","response","message","handleRegister","_err$response2","_err$response2$data","openWhatsApp","open","div","initial","opacity","animate","exit","transition","duration","src","alt","y","type","onClick","onSubmit","ref","onChange","onFocus","length","placeholder","required","autoComplete","map","item","i","disabled","replace","maxLength","minLength","button","delay"],"sources":["/root/shose/app-shose/frontend/src/pages/Login.js"],"sourcesContent":["// frontend/src/pages/Login.js\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst CustomLoadingSpinner = () => (\n  <div className=\"flex items-center justify-center gap-2\">\n    <svg className=\"animate-spin h-5 w-5 text-white\" viewBox=\"0 0 24 24\">\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8z\" />\n    </svg>\n    <span className=\"text-sm\">جارٍ التحميل...</span>\n  </div>\n);\n\nconst Login = () => {\n  const [form, setForm] = useState({ emailOrPhone: '', password: '' });\n  const [registerForm, setRegisterForm] = useState({ name: '', phone: '', password: '' });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showIntro, setShowIntro] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [savedEmails, setSavedEmails] = useState([]); // فقط الإيميلات/التليفونات\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  const navigate = useNavigate();\n  const dropdownRef = useRef(null);\n\n  // تحميل الحسابات المحفوظة بأخف طريقة ممكنة\n  useEffect(() => {\n    const load = () => {\n      try {\n        const data = localStorage.getItem('savedLogins');\n        if (data) {\n          const parsed = JSON.parse(data);\n          setSavedEmails(parsed.slice(0, 8)); // أخر 8 حسابات بس\n          // إملأ آخر حساب مستخدم تلقائيًا\n          const last = localStorage.getItem('lastLoginEmail');\n          if (last && parsed.includes(last)) {\n            setForm(prev => ({ ...prev, emailOrPhone: last }));\n          }\n        }\n      } catch (e) { /* ignore */ }\n    };\n\n    if ('requestIdleCallback' in window) {\n      requestIdleCallback(load);\n    } else {\n      setTimeout(load, 50);\n    }\n  }, []);\n\n  // حفظ الإيميل/التليفون فقط بعد تسجيل دخول ناجح\n  const saveEmailOrPhone = useCallback((emailOrPhone) => {\n    if (!emailOrPhone.trim()) return;\n\n    try {\n      const cleaned = emailOrPhone.trim();\n      let updated = [cleaned];\n\n      const prev = JSON.parse(localStorage.getItem('savedLogins') || '[]');\n      updated = [...updated, ...prev.filter(x => x !== cleaned)].slice(0, 8);\n\n      localStorage.setItem('savedLogins', JSON.stringify(updated));\n      localStorage.setItem('lastLoginEmail', cleaned);\n      setSavedEmails(updated);\n    } catch (e) { /* ignore */ }\n  }, []);\n\n  // اختيار من الدرب داون\n  const selectSaved = (value) => {\n    setForm(prev => ({ ...prev, emailOrPhone: value, password: '' }));\n    setShowDropdown(false);\n    localStorage.setItem('lastLoginEmail', value);\n  };\n\n  // حذف حساب محفوظ\n  const deleteSaved = (e, value) => {\n    e.stopPropagation();\n    try {\n      const filtered = savedEmails.filter(x => x !== value);\n      localStorage.setItem('savedLogins', JSON.stringify(filtered));\n      setSavedEmails(filtered);\n      if (localStorage.getItem('lastLoginEmail') === value) {\n        localStorage.removeItem('lastLoginEmail');\n      }\n    } catch (e) { /* ignore */ }\n  };\n\n  // إغلاق الدرب داون عند النقر بره\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setShowDropdown(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // أنيميشن الإنترو خفيف جدًا\n  useEffect(() => {\n    const t1 = setTimeout(() => setShowIntro(false), 1500);\n    const t2 = setTimeout(() => setShowForm(true), 1600);\n    return () => {\n      clearTimeout(t1);\n      clearTimeout(t2);\n    };\n  }, []);\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      const payload = /^\\d{11}$/.test(form.emailOrPhone)\n        ? { phone: form.emailOrPhone, password: form.password }\n        : { email: form.emailOrPhone, password: form.password };\n\n      const res = await axios.post(`${API_URL}/api/auth/login`, payload);\n\n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem('role', res.data.role);\n      localStorage.setItem('userId', res.data.userId);\n      window.dispatchEvent(new Event('authChange'));\n\n      // حفظ الإيميل/التليفون فقط بعد نجاح اللوجن\n      saveEmailOrPhone(form.emailOrPhone);\n\n      setTimeout(() => {\n        const role = res.data.role;\n        if (role === 'admin') navigate('/admin');\n        else if (role === 'vendor') navigate('/vendor');\n        else navigate('/');\n      }, 200);\n    } catch (err) {\n      setError(err.response?.data?.message || 'بيانات غير صحيحة');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setLoading(true);\n\n    try {\n      await axios.post(`${API_URL}/api/auth/register-customer-public`, {\n        name: registerForm.name,\n        phone: registerForm.phone,\n        password: registerForm.password,\n      });\n\n      setSuccess('تم إرسال طلب التسجيل بنجاح! بانتظار الموافقة');\n      setRegisterForm({ name: '', phone: '', password: '' });\n      setTimeout(() => setIsRegistering(false), 2000);\n    } catch (err) {\n      setError(err.response?.data?.message || 'فشل التسجيل');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openWhatsApp = () => {\n    window.open('https://wa.me/201553531373', '_blank');\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-4 bg-[#18191a] text-white relative overflow-hidden\">\n      {/* خلفية خفيفة جدًا */}\n      <div className=\"fixed inset-0 pointer-events-none\">\n        <div className=\"absolute top-0 left-0 w-96 h-96 bg-red-900/10 rounded-full blur-3xl\" />\n        <div className=\"absolute bottom-0 right-0 w-80 h-80 bg-red-800/10 rounded-full blur-3xl\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-md\">\n        {/* إنترو سريع */}\n        <AnimatePresence>\n          {showIntro && (\n            <motion.div\n              className=\"flex flex-col items-center space-y-6\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.4 }}\n            >\n              <div className=\"relative\">\n                <div className=\"rotating-ring\" />\n                <img\n                  src=\"/icon.png\"\n                  alt=\"Shose Net\"\n                  className=\"w-32 h-32 object-contain relative z-10\"\n                  loading=\"lazy\"\n                />\n              </div>\n              <div className=\"text-center\">\n                <p className=\"text-3xl font-extrabold bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent\">\n                  Shose Net\n                </p>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* الفورم */}\n        <AnimatePresence>\n          {showForm && (\n            <motion.div\n              className=\"bg-[#242526]/95 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-gray-700/50\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ duration: 0.4 }}\n            >\n              <div className=\"flex justify-center mb-6 gap-3\">\n                <button\n                  type=\"button\"\n                  onClick={() => setIsRegistering(false)}\n                  className={`px-6 py-2.5 rounded-xl font-medium transition-all ${!isRegistering ? 'bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg' : 'bg-gray-700 text-gray-400'}`}\n                >\n                  تسجيل الدخول\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setIsRegistering(true)}\n                  className={`px-6 py-2.5 rounded-xl font-medium transition-all ${isRegistering ? 'bg-gradient-to-r from-red-600 to-red-700 text-white shadow-lg' : 'bg-gray-700 text-gray-400'}`}\n                >\n                  إنشاء حساب\n                </button>\n              </div>\n\n              {error && (\n                <motion.div className=\"bg-red-500/20 border border-red-500/50 text-red-300 p-3 rounded-xl mb-4 text-center text-sm\"\n                  initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n                  {error}\n                </motion.div>\n              )}\n\n              {success && (\n                <motion.div className=\"bg-green-500/20 border border-green-500/50 text-green-300 p-3 rounded-xl mb-4 text-center text-sm\"\n                  initial={{ opacity: 0 }} animate={{ opacity: 1 }}>\n                  {success}\n                </motion.div>\n              )}\n\n              {!isRegistering ? (\n                <form onSubmit={handleLogin} className=\"space-y-5\">\n                  <div className=\"relative\" ref={dropdownRef}>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">\n                      البريد الإلكتروني أو رقم الهاتف\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={form.emailOrPhone}\n                      onChange={(e) => setForm(prev => ({ ...prev, emailOrPhone: e.target.value }))}\n                      onFocus={() => savedEmails.length > 0 && setShowDropdown(true)}\n                      className=\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/30 transition-all\"\n                      placeholder=\"example@domain.com أو 01xxxxxxxxx\"\n                      required\n                      autoComplete=\"username\"\n                    />\n\n                    {/* درب داون الحسابات المحفوظة */}\n                    <AnimatePresence>\n                      {showDropdown && savedEmails.length > 0 && (\n                        <motion.div\n                          initial={{ opacity: 0, y: -10 }}\n                          animate={{ opacity: 1, y: 0 }}\n                          exit={{ opacity: 0, y: -10 }}\n                          className=\"absolute top-full left-0 right-0 mt-2 bg-[#2d2d2d] border border-gray-600 rounded-xl shadow-2xl z-50 max-h-60 overflow-y-auto\"\n                        >\n                          {savedEmails.map((item, i) => (\n                            <div\n                              key={i}\n                              onClick={() => selectSaved(item)}\n                              className=\"px-4 py-3 hover:bg-red-900/40 cursor-pointer flex justify-between items-center border-b border-gray-700 last:border-0\"\n                            >\n                              <div className=\"text-right\">\n                                <p className=\"text-sm font-medium text-white truncate\">{item}</p>\n                              </div>\n                              <button\n                                type=\"button\"\n                                onClick={(e) => deleteSaved(e, item)}\n                                className=\"text-red-400 text-xs hover:text-red-300 mr-2\"\n                              >\n                                حذف\n                              </button>\n                            </div>\n                          ))}\n                        </motion.div>\n                      )}\n                    </AnimatePresence>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">\n                      كلمة المرور\n                    </label>\n                    <input\n                      type=\"password\"\n                      value={form.password}\n                      onChange={(e) => setForm(prev => ({ ...prev, password: e.target.value }))}\n                      className=\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/30 transition-all\"\n                      placeholder=\"••••••••\"\n                      required\n                      autoComplete=\"current-password\"\n                    />\n                  </div>\n\n                  <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-lg disabled:opacity-70 transition-all\"\n                  >\n                    {loading ? <CustomLoadingSpinner /> : 'تسجيل الدخول'}\n                  </button>\n                </form>\n              ) : (\n                <form onSubmit={handleRegister} className=\"space-y-5\">\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">الاسم الكامل</label>\n                    <input type=\"text\" value={registerForm.name} onChange={e => setRegisterForm(prev => ({ ...prev, name: e.target.value }))} className=\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white placeholder-gray-400\" placeholder=\"أحمد محمد\" required />\n                  </div>\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">رقم الهاتف</label>\n                    <input type=\"text\" value={registerForm.phone} onChange={e => setRegisterForm(prev => ({ ...prev, phone: e.target.value.replace(/\\D/g, '').slice(0,11) }))} className=\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white\" placeholder=\"01xxxxxxxxx\" required maxLength=\"11\" />\n                  </div>\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">كلمة المرور</label>\n                    <input type=\"password\" value={registerForm.password} onChange={e => setRegisterForm(prev => ({ ...prev, password: e.target.value }))} className=\"w-full p-4 bg-[#3a3b3c]/70 border border-gray-600 rounded-xl text-white\" placeholder=\"••••••••\" required minLength=\"6\" />\n                  </div>\n                  <button\n                    type=\"submit\"\n                    disabled={loading}\n                    className=\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 shadow-lg disabled:opacity-70 transition-all\"\n                  >\n                    {loading ? <CustomLoadingSpinner /> : 'إنشاء حساب'}\n                  </button>\n                </form>\n              )}\n\n              <p className=\"text-center mt-6 text-gray-400 text-xs\">\n                أدمن: admin@test.com / 123456<br />\n                العملاء: سجلوا وانتظروا الموافقة\n              </p>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* واتساب عائم */}\n        <motion.button\n          onClick={openWhatsApp}\n          className=\"fixed bottom-6 left-6 bg-[#25D366] p-4 rounded-full shadow-2xl hover:scale-110 transition-all z-50\"\n          initial={{ y: 100 }}\n          animate={{ y: 0 }}\n          transition={{ delay: 1.8 }}\n        >\n          <svg className=\"h-7 w-7\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path d=\"M12.04 2C6.58 2 2.13 6.45 2.13 11.91c0 1.33.26 2.59.73 3.77L2 21l5.44-.94c1.14.77 2.46 1.17 3.81 1.17 5.46 0 9.91-4.45 9.91-9.91S17.5 2 12.04 2zm5.66 14.56c-.24.66-.88.88-1.44.49-1.22-.86-2.96-2.07-4.44-2.56-.66-.22-1.32-.09-1.77.33l-.66.66c-.22.22-.55.22-.77 0-.55-.55-1.44-1.44-1.77-2.1-.11-.22 0-.44.22-.55.55-.33 1.11-.88 1.44-1.44.22-.33.11-.77-.22-1.1-.66-.66-1.32-1.32-1.99-1.99-.33-.33-.77-.44-1.21-.22-.44.22-.88.66-1.1 1.1-.88 1.77.22 4.1 2.21 6.09 2.43 2.43 5.31 2.65 7.08 1.77.44-.22.88-.66 1.1-1.1.33-.66.11-1.44-.55-1.77z\"/>\n          </svg>\n        </motion.button>\n      </div>\n\n      <style jsx>{`\n        .rotating-ring {\n          position: absolute;\n          inset: -20px;\n          border: 3px solid transparent;\n          border-top: 3px solid #ef4444;\n          border-right: 3px solid #f87171;\n          border-radius: 50%;\n          animation: rotate 3s linear infinite;\n          opacity: 0.5;\n        }\n        @keyframes rotate {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      `}</style>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}