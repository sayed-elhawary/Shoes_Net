{"ast":null,"code":"import _objectSpread from\"/root/shose/app-shose/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/Login.js\nimport React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{saveAuthData}from'../services/authService';// -------------------------------------------------\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';// -------------------------------------------------\nconst CustomLoadingSpinner=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-5 w-5 text-white\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\",fill:\"none\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8v8z\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"\\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})]});const Login=()=>{const[form,setForm]=useState({emailOrPhone:'',password:''});const[registerForm,setRegisterForm]=useState({name:'',phone:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[showIntro,setShowIntro]=useState(true);const[showForm,setShowForm]=useState(false);const[isRegistering,setIsRegistering]=useState(false);const[toastMessage,setToastMessage]=useState('');const navigate=useNavigate();// أنيميشن الإنترو\nuseEffect(()=>{const t3=setTimeout(()=>setShowIntro(false),2000);const t4=setTimeout(()=>setShowForm(true),2200);return()=>{clearTimeout(t3);clearTimeout(t4);};},[]);// إشعار من الأيقونة كل 5 ثواني\nuseEffect(()=>{const messages=['للشكاوي تواصل معانا','لتفعيل الحساب تواصل معانا'];let index=0;const showToast=()=>{setToastMessage(messages[index]);index=(index+1)%messages.length;setTimeout(()=>setToastMessage(''),3000);};const interval=setInterval(showToast,5000);return()=>clearInterval(interval);},[]);// ---------- تسجيل الدخول ----------\nconst handleLogin=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);try{const payload={};if(/^\\d{11}$/.test(form.emailOrPhone))payload.phone=form.emailOrPhone;else payload.email=form.emailOrPhone;payload.password=form.password;const res=await axios.post(\"\".concat(API_URL,\"/api/auth/login\"),payload);// حفظ في localStorage (للويب)\nlocalStorage.setItem('token',res.data.token);localStorage.setItem('role',res.data.role);localStorage.setItem('userId',res.data.userId);// حفظ في Preferences (للتطبيق)\nawait saveAuthData(res.data.token,res.data.role,res.data.userId,form.emailOrPhone,form.password);window.dispatchEvent(new Event('authChange'));setTimeout(()=>{const{role}=res.data;if(role==='admin')navigate('/admin');else if(role==='vendor')navigate('/vendor');else navigate('/');},600);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'حدث خطأ، حاول مرة أخرى');}finally{setLoading(false);}};// ---------- إنشاء حساب ----------\nconst handleRegister=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);try{const payload={name:registerForm.name,phone:registerForm.phone,password:registerForm.password};await axios.post(\"\".concat(API_URL,\"/api/auth/register-customer-public\"),payload);setSuccess('تم إرسال طلب التسجيل بنجاح! بانتظار موافقة الأدمن');setRegisterForm({name:'',phone:'',password:''});setTimeout(()=>setIsRegistering(false),2000);}catch(err){var _err$response2,_err$response2$data;setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'فشل في إنشاء الحساب');}finally{setLoading(false);}};// فتح واتساب\nconst openWhatsApp=()=>{const phone='201553531373';const url=\"https://wa.me/\".concat(phone);window.open(url,'_blank','noopener,noreferrer');};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col items-center justify-center p-4 bg-[#18191a] text-white relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-96 h-96 bg-purple-900 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-80 h-80 bg-purple-800 rounded-full blur-3xl animate-pulse delay-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-md\",children:[/*#__PURE__*/_jsx(AnimatePresence,{children:showIntro&&/*#__PURE__*/_jsxs(motion.div,{className:\"flex flex-col items-center space-y-6\",initial:{opacity:0,scale:0.85},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.9,y:-60},transition:{duration:0.6,ease:[0.22,1,0.36,1]},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"absolute inset-0 -m-6\",initial:{rotate:0},animate:{rotate:360},transition:{duration:3,repeat:Infinity,ease:'linear'},children:/*#__PURE__*/_jsxs(\"svg\",{className:\"w-full h-full\",viewBox:\"0 0 200 200\",children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"gradient\",x1:\"0%\",y1:\"0%\",x2:\"100%\",y2:\"100%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#a855f7\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"50%\",stopColor:\"#c084fc\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#e9d5ff\"})]})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"100\",cy:\"100\",r:\"90\",fill:\"none\",stroke:\"url(#gradient)\",strokeWidth:\"3\",strokeDasharray:\"15 15\",className:\"opacity-50\"})]})}),/*#__PURE__*/_jsx(motion.img,{src:\"/icon.png\",alt:\"Web Shose\",className:\"w-36 h-36 object-contain drop-shadow-xl relative z-10\",initial:{scale:0},animate:{scale:1},transition:{duration:0.8,delay:0.1,ease:[0.34,1.56,0.64,1]}})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"text-center space-y-1\",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.8},children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium text-purple-400 tracking-widest\",children:\"\\u0623\\u0647\\u0644\\u0627\\u064B \\u0628\\u0643 \\u0641\\u064A\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\",children:\"Web Shose\"})]})]})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showForm&&/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-gray-700/50\",initial:{opacity:0,y:40,scale:0.94},animate:{opacity:1,y:0,scale:1},transition:{duration:0.7,ease:[0.22,1,0.36,1],delay:0.05},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center mb-6 gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsRegistering(false),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(!isRegistering?'bg-purple-700 text-white shadow-md':'bg-gray-700 text-gray-400'),children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u062F\\u062E\\u0648\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsRegistering(true),className:\"px-4 py-2 rounded-lg font-medium transition \".concat(isRegistering?'bg-purple-700 text-white shadow-md':'bg-gray-700 text-gray-400'),children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u062D\\u0633\\u0627\\u0628\"})]}),/*#__PURE__*/_jsxs(AnimatePresence,{children:[error&&/*#__PURE__*/_jsx(motion.div,{className:\"bg-purple-500/20 border border-purple-500/50 text-purple-300 p-3 rounded-xl mb-4 text-center text-sm\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:error}),success&&/*#__PURE__*/_jsx(motion.div,{className:\"bg-purple-500/20 border border-purple-500/50 text-purple-300 p-3 rounded-xl mb-4 text-center text-sm\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:success})]}),!isRegistering?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0627\\u0644\\u0628\\u0631\\u064A\\u062F \\u0623\\u0648 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:form.emailOrPhone,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{emailOrPhone:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"example@domain.com \\u0623\\u0648 01234567890\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:form.password,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{password:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true,disabled:loading})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide transition-all bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 shadow-lg hover:shadow-xl disabled:opacity-70\",disabled:loading,children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'دخول'})]}):/*#__PURE__*//* ==== إنشاء حساب ==== */_jsxs(\"form\",{onSubmit:handleRegister,className:\"space-y-5\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0627\\u0644\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0643\\u0627\\u0645\\u0644\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registerForm.name,onChange:e=>setRegisterForm(_objectSpread(_objectSpread({},registerForm),{},{name:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"\\u0623\\u062D\\u0645\\u062F \\u0645\\u062D\\u0645\\u062F\",required:true,disabled:loading})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0631\\u0642\\u0645 \\u0627\\u0644\\u0647\\u0627\\u062A\\u0641 (11 \\u0631\\u0642\\u0645)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:registerForm.phone,onChange:e=>{const v=e.target.value.replace(/\\D/g,'').slice(0,11);setRegisterForm(_objectSpread(_objectSpread({},registerForm),{},{phone:v}));},className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"01234567890\",required:true,disabled:loading,maxLength:\"11\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-white/80 text-sm mb-2 text-right font-medium\",children:\"\\u0643\\u0644\\u0645\\u0629 \\u0627\\u0644\\u0645\\u0631\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:registerForm.password,onChange:e=>setRegisterForm(_objectSpread(_objectSpread({},registerForm),{},{password:e.target.value})),className:\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",required:true,disabled:loading,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide transition-all bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 shadow-lg hover:shadow-xl disabled:opacity-70\",disabled:loading,children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'إنشاء حساب'})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-6 text-gray-400 text-xs leading-relaxed\",children:[\"\\u0644\\u0644\\u0623\\u062F\\u0645\\u0646: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-300\",children:\"admin@test.com\"}),\" / 123456\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0644\\u0644\\u062A\\u0627\\u062C\\u0631: \\u0623\\u0646\\u0634\\u0626 \\u0645\\u0646 \\u0644\\u0648\\u062D\\u0629 \\u0627\\u0644\\u0623\\u062F\\u0645\\u0646\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0644\\u0644\\u0639\\u0645\\u0644\\u0627\\u0621: \\u0633\\u062C\\u0644 \\u0647\\u0646\\u0627 \\u0648\\u0627\\u0646\\u062A\\u0638\\u0631 \\u0645\\u0648\\u0627\\u0641\\u0642\\u0629 \\u0627\\u0644\\u0623\\u062F\\u0645\\u0646\"]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-6 left-6 z-50\",children:/*#__PURE__*/_jsxs(motion.button,{onClick:openWhatsApp,className:\"relative w-16 h-16 bg-[#25D366] rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform duration-200 border-4 border-white\",whileHover:{scale:1.2},whileTap:{scale:0.95},initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:2.5,type:\"spring\",stiffness:120},title:\"\\u062A\\u0648\\u0627\\u0635\\u0644 \\u0645\\u0639\\u0627\\u0646\\u0627 \\u0639\\u0628\\u0631 \\u0648\\u0627\\u062A\\u0633\\u0627\\u0628\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-10 h-10 text-white drop-shadow-lg\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12.04 2C6.49 2 2 6.48 2 12.04c0 1.9.52 3.75 1.51 5.35l-1.26 4.61 4.74-1.24c1.55.84 3.29 1.32 5.05 1.32 5.55 0 10.04-4.48 10.04-10.04C22.08 6.49 17.59 2 12.04 2zM17.2 15.41c-.24.67-.72 1.25-1.43 1.41-.59.13-1.37.13-2.31-.36-.71-.37-1.33-.85-1.94-1.38-.61-.53-1.17-1.15-1.67-1.82-.5-.67-.89-1.42-1.15-2.21-.26-.79-.17-1.48.22-2.03.39-.55 1.01-.79 1.68-.67.67.12 1.22.58 1.57 1.15.35.57.55 1.22.57 1.89.02.67-.23 1.3-.68 1.78-.45.48-1.06.83-1.72 1.02-.66.19-1.38.15-2.05-.11-.67-.26-1.27-.72-1.72-1.31-.45-.59-.73-1.28-.81-2.02-.08-.74.06-1.46.38-2.06.32-.6.82-.99 1.41-1.12.59-.13 1.21.02 1.71.41.5.39.86.94 1.06 1.55.2.61.25 1.26.15 1.91-.1.65-.43 1.23-.94 1.65-.51.42-1.18.64-1.89.64-.71 0-1.38-.28-1.88-.78-.5-.5-.78-1.17-.78-1.88 0-.71.28-1.38.78-1.88.5-.5 1.17-.78 1.88-.78.71 0 1.38.28 1.88.78.5.5.78 1.17.78 1.88 0 .71-.28 1.38-.78 1.88-.5.5-1.17.78-1.88.78z\"})}),/*#__PURE__*/_jsx(AnimatePresence,{children:toastMessage&&/*#__PURE__*/_jsx(motion.div,{className:\"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-purple-600 to-purple-700 text-white px-4 py-2 rounded-full text-xs font-medium shadow-xl whitespace-nowrap\",initial:{opacity:0,y:10,scale:0.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:0.8},transition:{type:\"spring\",stiffness:300,damping:20},children:toastMessage})})]})})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","motion","AnimatePresence","axios","saveAuthData","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","CustomLoadingSpinner","className","children","viewBox","cx","cy","r","stroke","strokeWidth","fill","d","Login","form","setForm","emailOrPhone","password","registerForm","setRegisterForm","name","phone","loading","setLoading","error","setError","success","setSuccess","showIntro","setShowIntro","showForm","setShowForm","isRegistering","setIsRegistering","toastMessage","setToastMessage","navigate","t3","setTimeout","t4","clearTimeout","messages","index","showToast","length","interval","setInterval","clearInterval","handleLogin","e","preventDefault","payload","test","email","res","post","concat","localStorage","setItem","data","token","role","userId","window","dispatchEvent","Event","err","_err$response","_err$response$data","response","message","handleRegister","_err$response2","_err$response2$data","openWhatsApp","url","open","div","initial","opacity","scale","animate","exit","y","transition","duration","ease","rotate","repeat","Infinity","id","x1","y1","x2","y2","offset","stopColor","strokeDasharray","img","src","alt","delay","type","onClick","onSubmit","value","onChange","_objectSpread","target","placeholder","required","disabled","v","replace","slice","maxLength","minLength","button","whileHover","whileTap","stiffness","title","damping"],"sources":["/root/shose/app-shose/frontend/src/pages/Login.js"],"sourcesContent":["// frontend/src/pages/Login.js\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { saveAuthData } from '../services/authService';\n// -------------------------------------------------\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n// -------------------------------------------------\n\nconst CustomLoadingSpinner = () => (\n  <div className=\"flex items-center justify-center gap-2\">\n    <svg className=\"animate-spin h-5 w-5 text-white\" viewBox=\"0 0 24 24\">\n      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" fill=\"none\" />\n      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8z\" />\n    </svg>\n    <span className=\"text-sm\">جارٍ التحميل...</span>\n  </div>\n);\n\nconst Login = () => {\n  const [form, setForm] = useState({ emailOrPhone: '', password: '' });\n  const [registerForm, setRegisterForm] = useState({ name: '', phone: '', password: '' });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [showIntro, setShowIntro] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [toastMessage, setToastMessage] = useState('');\n  const navigate = useNavigate();\n\n  // أنيميشن الإنترو\n  useEffect(() => {\n    const t3 = setTimeout(() => setShowIntro(false), 2000);\n    const t4 = setTimeout(() => setShowForm(true), 2200);\n    return () => { clearTimeout(t3); clearTimeout(t4); };\n  }, []);\n\n  // إشعار من الأيقونة كل 5 ثواني\n  useEffect(() => {\n    const messages = [\n      'للشكاوي تواصل معانا',\n      'لتفعيل الحساب تواصل معانا'\n    ];\n    let index = 0;\n    const showToast = () => {\n      setToastMessage(messages[index]);\n      index = (index + 1) % messages.length;\n      setTimeout(() => setToastMessage(''), 3000);\n    };\n    const interval = setInterval(showToast, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // ---------- تسجيل الدخول ----------\nconst handleLogin = async e => {\n  e.preventDefault();\n  setError('');\n  setSuccess('');\n  setLoading(true);\n\n  try {\n    const payload = {};\n    if (/^\\d{11}$/.test(form.emailOrPhone)) payload.phone = form.emailOrPhone;\n    else payload.email = form.emailOrPhone;\n    payload.password = form.password;\n\n    const res = await axios.post(`${API_URL}/api/auth/login`, payload);\n\n    // حفظ في localStorage (للويب)\n    localStorage.setItem('token', res.data.token);\n    localStorage.setItem('role', res.data.role);\n    localStorage.setItem('userId', res.data.userId);\n\n    // حفظ في Preferences (للتطبيق)\n    await saveAuthData(\n      res.data.token,\n      res.data.role,\n      res.data.userId,\n      form.emailOrPhone,\n      form.password\n    );\n\n    window.dispatchEvent(new Event('authChange'));\n\n    setTimeout(() => {\n      const { role } = res.data;\n      if (role === 'admin') navigate('/admin');\n      else if (role === 'vendor') navigate('/vendor');\n      else navigate('/');\n    }, 600);\n  } catch (err) {\n    setError(err.response?.data?.message || 'حدث خطأ، حاول مرة أخرى');\n  } finally {\n    setLoading(false);\n  }\n};\n  // ---------- إنشاء حساب ----------\n  const handleRegister = async e => {\n    e.preventDefault(); setError(''); setSuccess(''); setLoading(true);\n    try {\n      const payload = {\n        name: registerForm.name,\n        phone: registerForm.phone,\n        password: registerForm.password,\n      };\n      await axios.post(`${API_URL}/api/auth/register-customer-public`, payload);\n      setSuccess('تم إرسال طلب التسجيل بنجاح! بانتظار موافقة الأدمن');\n      setRegisterForm({ name: '', phone: '', password: '' });\n      setTimeout(() => setIsRegistering(false), 2000);\n    } catch (err) {\n      setError(err.response?.data?.message || 'فشل في إنشاء الحساب');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // فتح واتساب\n  const openWhatsApp = () => {\n    const phone = '201553531373';\n    const url = `https://wa.me/${phone}`;\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  return (\n    <div className=\"min-h-screen flex flex-col items-center justify-center p-4 bg-[#18191a] text-white relative overflow-hidden\">\n      {/* خلفية ناعمة - موف */}\n      {/* تم تغيير الأحمر إلى موف */}\n      <div className=\"absolute inset-0 opacity-10\">\n        <div className=\"absolute top-0 left-0 w-96 h-96 bg-purple-900 rounded-full blur-3xl animate-pulse\" />\n        <div className=\"absolute bottom-0 right-0 w-80 h-80 bg-purple-800 rounded-full blur-3xl animate-pulse delay-700\" />\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-md\">\n        {/* إنترو */}\n        <AnimatePresence>\n          {showIntro && (\n            <motion.div\n              className=\"flex flex-col items-center space-y-6\"\n              initial={{ opacity: 0, scale: 0.85 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.9, y: -60 }}\n              transition={{ duration: 0.6, ease: [0.22, 1, 0.36, 1] }}\n            >\n              <div className=\"relative\">\n                {/* دائرة دوارة - موف متدرج */}\n                <motion.div\n                  className=\"absolute inset-0 -m-6\"\n                  initial={{ rotate: 0 }}\n                  animate={{ rotate: 360 }}\n                  transition={{ duration: 3, repeat: Infinity, ease: 'linear' }}\n                >\n                  <svg className=\"w-full h-full\" viewBox=\"0 0 200 200\">\n                    <defs>\n                      <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n                        <stop offset=\"0%\" stopColor=\"#a855f7\" />\n                        <stop offset=\"50%\" stopColor=\"#c084fc\" />\n                        <stop offset=\"100%\" stopColor=\"#e9d5ff\" />\n                      </linearGradient>\n                    </defs>\n                    <circle cx=\"100\" cy=\"100\" r=\"90\" fill=\"none\" stroke=\"url(#gradient)\" strokeWidth=\"3\" strokeDasharray=\"15 15\" className=\"opacity-50\" />\n                  </svg>\n                </motion.div>\n                <motion.img\n                  src=\"/icon.png\"\n                  alt=\"Web Shose\"\n                  className=\"w-36 h-36 object-contain drop-shadow-xl relative z-10\"\n                  initial={{ scale: 0 }}\n                  animate={{ scale: 1 }}\n                  transition={{ duration: 0.8, delay: 0.1, ease: [0.34, 1.56, 0.64, 1] }}\n                />\n              </div>\n              <motion.div\n                className=\"text-center space-y-1\"\n                initial={{ opacity: 0, y: 15 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.6, delay: 0.8 }}\n              >\n                <p className=\"text-lg font-medium text-purple-400 tracking-widest\">أهلاً بك في</p>\n                <p className=\"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\">\n                  Web Shose\n                </p>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* نموذج الدخول / التسجيل */}\n        <AnimatePresence>\n          {showForm && (\n            <motion.div\n              className=\"bg-[#242526]/80 backdrop-blur-xl p-8 rounded-3xl shadow-2xl border border-gray-700/50\"\n              initial={{ opacity: 0, y: 40, scale: 0.94 }}\n              animate={{ opacity: 1, y: 0, scale: 1 }}\n              transition={{ duration: 0.7, ease: [0.22, 1, 0.36, 1], delay: 0.05 }}\n            >\n              {/* تبويب */}\n              <div className=\"flex justify-center mb-6 gap-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => setIsRegistering(false)}\n                  className={`px-4 py-2 rounded-lg font-medium transition ${\n                    !isRegistering ? 'bg-purple-700 text-white shadow-md' : 'bg-gray-700 text-gray-400'\n                  }`}\n                >\n                  تسجيل الدخول\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => setIsRegistering(true)}\n                  className={`px-4 py-2 rounded-lg font-medium transition ${\n                    isRegistering ? 'bg-purple-700 text-white shadow-md' : 'bg-gray-700 text-gray-400'\n                  }`}\n                >\n                  إنشاء حساب\n                </button>\n              </div>\n\n              {/* رسائل */}\n              <AnimatePresence>\n                {error && (\n                  <motion.div\n                    className=\"bg-purple-500/20 border border-purple-500/50 text-purple-300 p-3 rounded-xl mb-4 text-center text-sm\"\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -10 }}\n                  >\n                    {error}\n                  </motion.div>\n                )}\n                {success && (\n                  <motion.div\n                    className=\"bg-purple-500/20 border border-purple-500/50 text-purple-300 p-3 rounded-xl mb-4 text-center text-sm\"\n                    initial={{ opacity: 0, y: -10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: -10 }}\n                  >\n                    {success}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n\n              {/* ==== تسجيل الدخول ==== */}\n              {!isRegistering ? (\n                <form onSubmit={handleLogin} className=\"space-y-5\">\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">البريد أو الهاتف</label>\n                    <input\n                      type=\"text\"\n                      value={form.emailOrPhone}\n                      onChange={e => setForm({ ...form, emailOrPhone: e.target.value })}\n                      className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                      placeholder=\"example@domain.com أو 01234567890\"\n                      required\n                      disabled={loading}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">كلمة المرور</label>\n                    <input\n                      type=\"password\"\n                      value={form.password}\n                      onChange={e => setForm({ ...form, password: e.target.value })}\n                      className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                      placeholder=\"••••••••\"\n                      required\n                      disabled={loading}\n                    />\n                  </div>\n                  <button\n                    type=\"submit\"\n                    className=\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide transition-all bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 shadow-lg hover:shadow-xl disabled:opacity-70\"\n                    disabled={loading}\n                  >\n                    {loading ? <CustomLoadingSpinner /> : 'دخول'}\n                  </button>\n                </form>\n              ) : (\n                /* ==== إنشاء حساب ==== */\n                <form onSubmit={handleRegister} className=\"space-y-5\">\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">الاسم الكامل</label>\n                    <input\n                      type=\"text\"\n                      value={registerForm.name}\n                      onChange={e => setRegisterForm({ ...registerForm, name: e.target.value })}\n                      className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                      placeholder=\"أحمد محمد\"\n                      required\n                      disabled={loading}\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">رقم الهاتف (11 رقم)</label>\n                    <input\n                      type=\"text\"\n                      value={registerForm.phone}\n                      onChange={e => {\n                        const v = e.target.value.replace(/\\D/g, '').slice(0, 11);\n                        setRegisterForm({ ...registerForm, phone: v });\n                      }}\n                      className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                      placeholder=\"01234567890\"\n                      required\n                      disabled={loading}\n                      maxLength=\"11\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-white/80 text-sm mb-2 text-right font-medium\">كلمة المرور</label>\n                    <input\n                      type=\"password\"\n                      value={registerForm.password}\n                      onChange={e => setRegisterForm({ ...registerForm, password: e.target.value })}\n                      className=\"w-full p-4 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-white placeholder-gray-400 text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all duration-200\"\n                      placeholder=\"••••••••\"\n                      required\n                      disabled={loading}\n                      minLength=\"6\"\n                    />\n                  </div>\n                  <button\n                    type=\"submit\"\n                    className=\"w-full p-4 rounded-xl text-white font-bold text-lg tracking-wide transition-all bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 shadow-lg hover:shadow-xl disabled:opacity-70\"\n                    disabled={loading}\n                  >\n                    {loading ? <CustomLoadingSpinner /> : 'إنشاء حساب'}\n                  </button>\n                </form>\n              )}\n\n              {/* معلومات مساعدة */}\n              <p className=\"text-center mt-6 text-gray-400 text-xs leading-relaxed\">\n                للأدمن: <span className=\"text-purple-300\">admin@test.com</span> / 123456\n                <br />\n                للتاجر: أنشئ من لوحة الأدمن\n                <br />\n                للعملاء: سجل هنا وانتظر موافقة الأدمن\n              </p>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* أيقونة واتساب + إشعار */}\n        <div className=\"fixed bottom-6 left-6 z-50\">\n          <motion.button\n            onClick={openWhatsApp}\n            className=\"relative w-16 h-16 bg-[#25D366] rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform duration-200 border-4 border-white\"\n            whileHover={{ scale: 1.2 }}\n            whileTap={{ scale: 0.95 }}\n            initial={{ y: 100, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            transition={{ delay: 2.5, type: \"spring\", stiffness: 120 }}\n            title=\"تواصل معانا عبر واتساب\"\n          >\n            {/* أيقونة واتساب كاملة وصحيحة */}\n            <svg className=\"w-10 h-10 text-white drop-shadow-lg\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <path d=\"M12.04 2C6.49 2 2 6.48 2 12.04c0 1.9.52 3.75 1.51 5.35l-1.26 4.61 4.74-1.24c1.55.84 3.29 1.32 5.05 1.32 5.55 0 10.04-4.48 10.04-10.04C22.08 6.49 17.59 2 12.04 2zM17.2 15.41c-.24.67-.72 1.25-1.43 1.41-.59.13-1.37.13-2.31-.36-.71-.37-1.33-.85-1.94-1.38-.61-.53-1.17-1.15-1.67-1.82-.5-.67-.89-1.42-1.15-2.21-.26-.79-.17-1.48.22-2.03.39-.55 1.01-.79 1.68-.67.67.12 1.22.58 1.57 1.15.35.57.55 1.22.57 1.89.02.67-.23 1.3-.68 1.78-.45.48-1.06.83-1.72 1.02-.66.19-1.38.15-2.05-.11-.67-.26-1.27-.72-1.72-1.31-.45-.59-.73-1.28-.81-2.02-.08-.74.06-1.46.38-2.06.32-.6.82-.99 1.41-1.12.59-.13 1.21.02 1.71.41.5.39.86.94 1.06 1.55.2.61.25 1.26.15 1.91-.1.65-.43 1.23-.94 1.65-.51.42-1.18.64-1.89.64-.71 0-1.38-.28-1.88-.78-.5-.5-.78-1.17-.78-1.88 0-.71.28-1.38.78-1.88.5-.5 1.17-.78 1.88-.78.71 0 1.38.28 1.88.78.5.5.78 1.17.78 1.88 0 .71-.28 1.38-.78 1.88-.5.5-1.17.78-1.88.78z\"/>\n            </svg>\n\n            {/* إشعار صغير */}\n            <AnimatePresence>\n              {toastMessage && (\n                <motion.div\n                  className=\"absolute -top-10 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-purple-600 to-purple-700 text-white px-4 py-2 rounded-full text-xs font-medium shadow-xl whitespace-nowrap\"\n                  initial={{ opacity: 0, y: 10, scale: 0.8 }}\n                  animate={{ opacity: 1, y: 0, scale: 1 }}\n                  exit={{ opacity: 0, y: -10, scale: 0.8 }}\n                  transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\n                >\n                  {toastMessage}\n                </motion.div>\n              )}\n            </AnimatePresence>\n          </motion.button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}