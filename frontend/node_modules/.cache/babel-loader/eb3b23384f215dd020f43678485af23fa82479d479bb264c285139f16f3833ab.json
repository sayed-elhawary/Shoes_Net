{"ast":null,"code":"import _objectSpread from\"/root/shose/app-shose/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// frontend/src/pages/AdminDashboard.js\nimport{useState,useEffect,useRef}from'react';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=()=>{const[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[filterType,setFilterType]=useState('');const[selectedMedia,setSelectedMedia]=useState(null);const[currentMediaIndex,setCurrentMediaIndex]=useState({});const[currentMediaType,setCurrentMediaType]=useState({});const[error,setError]=useState('');const intervalRefs=useRef({});// === جلب المنتجات ===\nuseEffect(()=>{const token=localStorage.getItem('token');if(!token){setError('غير مصرح: يرجى تسجيل الدخول');return;}axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/all-products\"),{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setProducts(res.data);setFilteredProducts(res.data);const initialIndexes=res.data.reduce((acc,p)=>_objectSpread(_objectSpread({},acc),{},{[p._id]:0}),{});const initialTypes=res.data.reduce((acc,p)=>{var _p$videos;return _objectSpread(_objectSpread({},acc),{},{[p._id]:((_p$videos=p.videos)===null||_p$videos===void 0?void 0:_p$videos.length)>0?'video':'image'});},{});setCurrentMediaIndex(initialIndexes);setCurrentMediaType(initialTypes);setError('');}).catch(err=>{var _err$response,_err$response$data,_err$response2;const msg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'خطأ في جلب المنتجات';setError(msg);if(((_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.status)===401){localStorage.clear();window.location.href='/login';}});},[]);// === تصفية المنتجات ===\nuseEffect(()=>{setFilteredProducts(filterType?products.filter(p=>p.type===filterType):products);},[filterType,products]);// === تدوير الصور تلقائيًا ===\nuseEffect(()=>{products.forEach(p=>{var _p$images;const totalImages=((_p$images=p.images)===null||_p$images===void 0?void 0:_p$images.length)||0;if(totalImages>1&&(!p.videos||p.videos.length===0)){clearInterval(intervalRefs.current[p._id]);intervalRefs.current[p._id]=setInterval(()=>{setCurrentMediaIndex(prev=>_objectSpread(_objectSpread({},prev),{},{[p._id]:(prev[p._id]+1)%totalImages}));setCurrentMediaType(prev=>_objectSpread(_objectSpread({},prev),{},{[p._id]:'image'}));},3000);}});return()=>Object.values(intervalRefs.current).forEach(clearInterval);},[products]);// === الموافقة على المنتج ===\nconst handleApprove=id=>{const token=localStorage.getItem('token');axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(id,\"/approve\"),{},{headers:{Authorization:\"Bearer \".concat(token)}}).then(res=>{setProducts(prev=>prev.map(p=>p._id===id?res.data:p));alert('تمت الموافقة على المنتج بنجاح');}).catch(err=>{var _err$response3,_err$response3$data;alert('خطأ في الموافقة: '+(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||err.message));});};// === الوسائط ===\nconst openMedia=(media,type)=>setSelectedMedia({url:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(media),type});const closeMedia=()=>setSelectedMedia(null);const handlePrevMedia=(id,p)=>{var _p$videos2,_p$images2;const total=(((_p$videos2=p.videos)===null||_p$videos2===void 0?void 0:_p$videos2.length)||0)+(((_p$images2=p.images)===null||_p$images2===void 0?void 0:_p$images2.length)||0);setCurrentMediaIndex(prev=>{const next=(prev[id]-1+total)%total;setCurrentMediaType(t=>{var _p$videos3;return _objectSpread(_objectSpread({},t),{},{[id]:next<(((_p$videos3=p.videos)===null||_p$videos3===void 0?void 0:_p$videos3.length)||0)?'video':'image'});});return _objectSpread(_objectSpread({},prev),{},{[id]:next});});clearInterval(intervalRefs.current[id]);};const handleNextMedia=(id,p)=>{var _p$videos4,_p$images3;const total=(((_p$videos4=p.videos)===null||_p$videos4===void 0?void 0:_p$videos4.length)||0)+(((_p$images3=p.images)===null||_p$images3===void 0?void 0:_p$images3.length)||0);setCurrentMediaIndex(prev=>{const next=(prev[id]+1)%total;setCurrentMediaType(t=>{var _p$videos5;return _objectSpread(_objectSpread({},t),{},{[id]:next<(((_p$videos5=p.videos)===null||_p$videos5===void 0?void 0:_p$videos5.length)||0)?'video':'image'});});return _objectSpread(_objectSpread({},prev),{},{[id]:next});});clearInterval(intervalRefs.current[id]);};// === أنيميشن خفيفة ===\nconst cardVariants={hidden:{opacity:0,y:20,scale:0.98},visible:{opacity:1,y:0,scale:1,transition:{duration:0.5,ease:[0.22,1,0.36,1]}},hover:{scale:1.03,boxShadow:'0 10px 20px rgba(0, 0, 0, 0.15)'}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 opacity-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-96 h-96 bg-purple-900 rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-0 right-0 w-80 h-80 bg-purple-800 rounded-full blur-3xl animate-pulse delay-700\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 w-full max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row justify-between items-center mb-10 gap-4\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\",children:\"\\u0644\\u0648\\u062D\\u0629 \\u062A\\u062D\\u0643\\u0645 \\u0627\\u0644\\u0623\\u062F\\u0645\\u0646\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-300 mt-2\",children:\"\\u0645\\u0631\\u0627\\u062C\\u0639\\u0629 \\u0648\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(motion.select,{value:filterType,onChange:e=>setFilterType(e.target.value),className:\"p-3 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition\",whileHover:{scale:1.03},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0631\\u062C\\u0627\\u0644\\u064A\",children:\"\\u0631\\u062C\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u062D\\u0631\\u064A\\u0645\\u064A\",children:\"\\u062D\\u0631\\u064A\\u0645\\u064A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0623\\u0637\\u0641\\u0627\\u0644\",children:\"\\u0623\\u0637\\u0641\\u0627\\u0644\"})]})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:error&&/*#__PURE__*/_jsx(motion.p,{className:\"text-center text-purple-400 mb-6\",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},children:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\",children:filteredProducts.length===0?/*#__PURE__*/_jsx(motion.p,{className:\"col-span-full text-center text-slate-400 text-xl\",initial:{opacity:0},animate:{opacity:1},children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0644\\u0644\\u0645\\u0631\\u0627\\u062C\\u0639\\u0629\"}):filteredProducts.map((product,i)=>{var _product$videos,_product$images,_product$videos2,_product$videos4,_product$images2,_product$vendor,_product$images3,_product$videos6;return/*#__PURE__*/_jsxs(motion.div,{className:\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\",variants:cardVariants,initial:\"hidden\",whileInView:\"visible\",viewport:{once:true},whileHover:\"hover\",custom:i,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative aspect-[4/3] bg-[#3a3b3c]\",children:[currentMediaType[product._id]==='video'&&((_product$videos=product.videos)===null||_product$videos===void 0?void 0:_product$videos.length)>0?/*#__PURE__*/_jsx(\"video\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(product.videos[currentMediaIndex[product._id]]),className:\"w-full h-full object-contain\",controls:true,onClick:()=>openMedia(product.videos[currentMediaIndex[product._id]],'video')}):((_product$images=product.images)===null||_product$images===void 0?void 0:_product$images.length)>0?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(product.images[(currentMediaIndex[product._id]||0)-(((_product$videos2=product.videos)===null||_product$videos2===void 0?void 0:_product$videos2.length)||0)]),alt:product.name,className:\"w-full h-full object-contain\",onClick:()=>{var _product$videos3;return openMedia(product.images[(currentMediaIndex[product._id]||0)-(((_product$videos3=product.videos)===null||_product$videos3===void 0?void 0:_product$videos3.length)||0)],'image');},onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\");}}):/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\"),alt:\"\\u0628\\u062F\\u064A\\u0644\",className:\"w-full h-full object-contain\"}),((_product$videos4=product.videos)===null||_product$videos4===void 0?void 0:_product$videos4.length)+((_product$images2=product.images)===null||_product$images2===void 0?void 0:_product$images2.length)>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-x-0 bottom-3 flex justify-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePrevMedia(product._id,product),className:\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 19l-7-7 7-7\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleNextMedia(product._id,product),className:\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 5l7 7-7 7\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-5 space-y-2 text-right\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u062A\\u0627\\u062C\\u0631: \",((_product$vendor=product.vendor)===null||_product$vendor===void 0?void 0:_product$vendor.name)||'غير معروف']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0646\\u0648\\u0639: \",product.type]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0643\\u0631\\u062A\\u0648\\u0646\\u0629: \",product.price,\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062C\\u0648\\u0632: \",(product.price/product.quantityPerCarton).toFixed(2),\" \\u062C\\u0646\\u064A\\u0647\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0643\\u0645\\u064A\\u0629: \",product.quantityPerCarton,\" \\u062C\\u0648\\u0632\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-300\",children:[\"\\u0627\\u0644\\u0645\\u0635\\u0646\\u0639: \",product.manufacturer]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 mt-3 justify-end\",children:[(_product$images3=product.images)===null||_product$images3===void 0?void 0:_product$images3.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(img),alt:\"\",className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\",onClick:()=>{setCurrentMediaIndex(prev=>{var _product$videos5;return _objectSpread(_objectSpread({},prev),{},{[product._id]:idx+(((_product$videos5=product.videos)===null||_product$videos5===void 0?void 0:_product$videos5.length)||0)});});setCurrentMediaType(prev=>_objectSpread(_objectSpread({},prev),{},{[product._id]:'image'}));openMedia(img,'image');},onError:e=>{e.target.onerror=null;e.target.src=\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/placeholder-image.jpg\");}},idx)),(_product$videos6=product.videos)===null||_product$videos6===void 0?void 0:_product$videos6.map((vid,idx)=>/*#__PURE__*/_jsx(\"video\",{src:\"\".concat(process.env.REACT_APP_API_URL,\"/uploads/\").concat(vid),className:\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\",onClick:()=>openMedia(vid,'video')},idx))]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 rounded-xl text-center font-medium text-sm \".concat(product.approved?'bg-green-600/20 text-green-300':'bg-yellow-600/20 text-yellow-300'),children:product.approved?'موافق عليه':'في انتظار الموافقة'}),!product.approved&&/*#__PURE__*/_jsx(motion.button,{onClick:()=>handleApprove(product._id),className:\"w-full mt-4 py-3 rounded-xl bg-gradient-to-r from-purple-600 to-purple-700 text-white font-bold shadow-md hover:from-purple-700 hover:to-purple-800\",whileHover:{scale:1.03},whileTap:{scale:0.98},children:\"\\u0627\\u0644\\u0645\\u0648\\u0627\\u0641\\u0642\\u0629\"})]})]},product._id);})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:selectedMedia&&/*#__PURE__*/_jsx(motion.div,{className:\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:closeMedia,children:/*#__PURE__*/_jsxs(motion.div,{className:\"relative max-w-4xl max-h-screen\",onClick:e=>e.stopPropagation(),children:[selectedMedia.type==='image'?/*#__PURE__*/_jsx(\"img\",{src:selectedMedia.url,alt:\"\",className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\"}):/*#__PURE__*/_jsx(\"video\",{src:selectedMedia.url,controls:true,autoPlay:true,className:\"max-w-full max-h-screen rounded-2xl shadow-2xl\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeMedia,className:\"absolute top-4 right-4 bg-purple-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-purple-700 transition\",children:\"\\xD7\"})]})})})]});};export default AdminDashboard;","map":{"version":3,"names":["useState","useEffect","useRef","motion","AnimatePresence","axios","jsx","_jsx","jsxs","_jsxs","AdminDashboard","products","setProducts","filteredProducts","setFilteredProducts","filterType","setFilterType","selectedMedia","setSelectedMedia","currentMediaIndex","setCurrentMediaIndex","currentMediaType","setCurrentMediaType","error","setError","intervalRefs","token","localStorage","getItem","get","concat","process","env","REACT_APP_API_URL","headers","Authorization","then","res","data","initialIndexes","reduce","acc","p","_objectSpread","_id","initialTypes","_p$videos","videos","length","catch","err","_err$response","_err$response$data","_err$response2","msg","response","message","status","clear","window","location","href","filter","type","forEach","_p$images","totalImages","images","clearInterval","current","setInterval","prev","Object","values","handleApprove","id","put","map","alert","_err$response3","_err$response3$data","openMedia","media","url","closeMedia","handlePrevMedia","_p$videos2","_p$images2","total","next","t","_p$videos3","handleNextMedia","_p$videos4","_p$images3","_p$videos5","cardVariants","hidden","opacity","y","scale","visible","transition","duration","ease","hover","boxShadow","className","children","div","initial","animate","select","value","onChange","e","target","whileHover","exit","product","i","_product$videos","_product$images","_product$videos2","_product$videos4","_product$images2","_product$vendor","_product$images3","_product$videos6","variants","whileInView","viewport","once","custom","src","controls","onClick","alt","name","_product$videos3","onError","onerror","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","vendor","price","quantityPerCarton","toFixed","manufacturer","img","idx","_product$videos5","vid","approved","button","whileTap","stopPropagation","autoPlay"],"sources":["/root/shose/app-shose/frontend/src/pages/AdminDashboard.js"],"sourcesContent":["// frontend/src/pages/AdminDashboard.js\nimport { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\n\nconst AdminDashboard = () => {\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [filterType, setFilterType] = useState('');\n  const [selectedMedia, setSelectedMedia] = useState(null);\n  const [currentMediaIndex, setCurrentMediaIndex] = useState({});\n  const [currentMediaType, setCurrentMediaType] = useState({});\n  const [error, setError] = useState('');\n  const intervalRefs = useRef({});\n\n  // === جلب المنتجات ===\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      setError('غير مصرح: يرجى تسجيل الدخول');\n      return;\n    }\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/api/products/all-products`, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then(res => {\n        setProducts(res.data);\n        setFilteredProducts(res.data);\n        const initialIndexes = res.data.reduce((acc, p) => ({ ...acc, [p._id]: 0 }), {});\n        const initialTypes = res.data.reduce((acc, p) => ({\n          ...acc,\n          [p._id]: p.videos?.length > 0 ? 'video' : 'image'\n        }), {});\n        setCurrentMediaIndex(initialIndexes);\n        setCurrentMediaType(initialTypes);\n        setError('');\n      })\n      .catch(err => {\n        const msg = err.response?.data?.message || 'خطأ في جلب المنتجات';\n        setError(msg);\n        if (err.response?.status === 401) {\n          localStorage.clear();\n          window.location.href = '/login';\n        }\n      });\n  }, []);\n\n  // === تصفية المنتجات ===\n  useEffect(() => {\n    setFilteredProducts(filterType ? products.filter(p => p.type === filterType) : products);\n  }, [filterType, products]);\n\n  // === تدوير الصور تلقائيًا ===\n  useEffect(() => {\n    products.forEach(p => {\n      const totalImages = p.images?.length || 0;\n      if (totalImages > 1 && (!p.videos || p.videos.length === 0)) {\n        clearInterval(intervalRefs.current[p._id]);\n        intervalRefs.current[p._id] = setInterval(() => {\n          setCurrentMediaIndex(prev => ({\n            ...prev,\n            [p._id]: (prev[p._id] + 1) % totalImages\n          }));\n          setCurrentMediaType(prev => ({ ...prev, [p._id]: 'image' }));\n        }, 3000);\n      }\n    });\n    return () => Object.values(intervalRefs.current).forEach(clearInterval);\n  }, [products]);\n\n  // === الموافقة على المنتج ===\n  const handleApprove = (id) => {\n    const token = localStorage.getItem('token');\n    axios\n      .put(`${process.env.REACT_APP_API_URL}/api/products/${id}/approve`, {}, {\n        headers: { Authorization: `Bearer ${token}` },\n      })\n      .then(res => {\n        setProducts(prev => prev.map(p => p._id === id ? res.data : p));\n        alert('تمت الموافقة على المنتج بنجاح');\n      })\n      .catch(err => {\n        alert('خطأ في الموافقة: ' + (err.response?.data?.message || err.message));\n      });\n  };\n\n  // === الوسائط ===\n  const openMedia = (media, type) => setSelectedMedia({ url: `${process.env.REACT_APP_API_URL}/uploads/${media}`, type });\n  const closeMedia = () => setSelectedMedia(null);\n\n  const handlePrevMedia = (id, p) => {\n    const total = (p.videos?.length || 0) + (p.images?.length || 0);\n    setCurrentMediaIndex(prev => {\n      const next = (prev[id] - 1 + total) % total;\n      setCurrentMediaType(t => ({ ...t, [id]: next < (p.videos?.length || 0) ? 'video' : 'image' }));\n      return { ...prev, [id]: next };\n    });\n    clearInterval(intervalRefs.current[id]);\n  };\n\n  const handleNextMedia = (id, p) => {\n    const total = (p.videos?.length || 0) + (p.images?.length || 0);\n    setCurrentMediaIndex(prev => {\n      const next = (prev[id] + 1) % total;\n      setCurrentMediaType(t => ({ ...t, [id]: next < (p.videos?.length || 0) ? 'video' : 'image' }));\n      return { ...prev, [id]: next };\n    });\n    clearInterval(intervalRefs.current[id]);\n  };\n\n  // === أنيميشن خفيفة ===\n  const cardVariants = {\n    hidden: { opacity: 0, y: 20, scale: 0.98 },\n    visible: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.5, ease: [0.22, 1, 0.36, 1] } },\n    hover: { scale: 1.03, boxShadow: '0 10px 20px rgba(0, 0, 0, 0.15)' }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#18191a] text-white p-4 relative overflow-hidden\">\n      {/* خلفية ناعمة - موف */}\n      <div className=\"absolute inset-0 opacity-10\">\n        <div className=\"absolute top-0 left-0 w-96 h-96 bg-purple-900 rounded-full blur-3xl animate-pulse\"></div>\n        <div className=\"absolute bottom-0 right-0 w-80 h-80 bg-purple-800 rounded-full blur-3xl animate-pulse delay-700\"></div>\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-7xl mx-auto\">\n        {/* === العنوان + الفلتر === */}\n        <div className=\"flex flex-col md:flex-row justify-between items-center mb-10 gap-4\">\n          <motion.div\n            initial={{ opacity: 0, y: -20 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6 }}\n          >\n            <h1 className=\"text-3xl md:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\">\n              لوحة تحكم الأدمن\n            </h1>\n            <p className=\"text-purple-300 mt-2\">مراجعة وموافقة المنتجات</p>\n          </motion.div>\n          <motion.select\n            value={filterType}\n            onChange={e => setFilterType(e.target.value)}\n            className=\"p-3 bg-[#3a3b3c]/60 border border-gray-600 rounded-xl text-sm focus:outline-none focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition\"\n            whileHover={{ scale: 1.03 }}\n          >\n            <option value=\"\">الكل</option>\n            <option value=\"رجالي\">رجالي</option>\n            <option value=\"حريمي\">حريمي</option>\n            <option value=\"أطفال\">أطفال</option>\n          </motion.select>\n        </div>\n\n        {/* === رسالة الخطأ === */}\n        <AnimatePresence>\n          {error && (\n            <motion.p\n              className=\"text-center text-purple-400 mb-6\"\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0 }}\n            >\n              {error}\n            </motion.p>\n          )}\n        </AnimatePresence>\n\n        {/* === الكروت === */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {filteredProducts.length === 0 ? (\n            <motion.p\n              className=\"col-span-full text-center text-slate-400 text-xl\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n            >\n              لا توجد منتجات للمراجعة\n            </motion.p>\n          ) : (\n            filteredProducts.map((product, i) => (\n              <motion.div\n                key={product._id}\n                className=\"bg-[#242526]/80 backdrop-blur-xl rounded-2xl shadow-xl border border-gray-700/50 overflow-hidden\"\n                variants={cardVariants}\n                initial=\"hidden\"\n                whileInView=\"visible\"\n                viewport={{ once: true }}\n                whileHover=\"hover\"\n                custom={i}\n              >\n                {/* === الوسائط === */}\n                <div className=\"relative aspect-[4/3] bg-[#3a3b3c]\">\n                  {currentMediaType[product._id] === 'video' && product.videos?.length > 0 ? (\n                    <video\n                      src={`${process.env.REACT_APP_API_URL}/uploads/${product.videos[currentMediaIndex[product._id]]}`}\n                      className=\"w-full h-full object-contain\"\n                      controls\n                      onClick={() => openMedia(product.videos[currentMediaIndex[product._id]], 'video')}\n                    />\n                  ) : product.images?.length > 0 ? (\n                    <img\n                      src={`${process.env.REACT_APP_API_URL}/uploads/${product.images[(currentMediaIndex[product._id] || 0) - (product.videos?.length || 0)]}`}\n                      alt={product.name}\n                      className=\"w-full h-full object-contain\"\n                      onClick={() => openMedia(product.images[(currentMediaIndex[product._id] || 0) - (product.videos?.length || 0)], 'image')}\n                      onError={e => { e.target.onerror = null; e.target.src = `${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`; }}\n                    />\n                  ) : (\n                    <img src={`${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`} alt=\"بديل\" className=\"w-full h-full object-contain\" />\n                  )}\n                  {/* أزرار التنقل */}\n                  {(product.videos?.length + product.images?.length) > 1 && (\n                    <div className=\"absolute inset-x-0 bottom-3 flex justify-center gap-3\">\n                      <button onClick={() => handlePrevMedia(product._id, product)} className=\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\">\n                        <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" /></svg>\n                      </button>\n                      <button onClick={() => handleNextMedia(product._id, product)} className=\"bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition\">\n                        <svg className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" /></svg>\n                      </button>\n                    </div>\n                  )}\n                </div>\n\n                {/* === المعلومات === */}\n                <div className=\"p-5 space-y-2 text-right\">\n                  <h3 className=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600\">\n                    {product.name}\n                  </h3>\n                  <p className=\"text-sm text-gray-300\">التاجر: {product.vendor?.name || 'غير معروف'}</p>\n                  <p className=\"text-sm text-gray-300\">النوع: {product.type}</p>\n                  <p className=\"text-sm text-gray-300\">سعر الكرتونة: {product.price} جنيه</p>\n                  <p className=\"text-sm text-gray-300\">سعر الجوز: {(product.price / product.quantityPerCarton).toFixed(2)} جنيه</p>\n                  <p className=\"text-sm text-gray-300\">الكمية: {product.quantityPerCarton} جوز</p>\n                  <p className=\"text-sm text-gray-300\">المصنع: {product.manufacturer}</p>\n\n                  {/* معاينة الوسائط */}\n                  <div className=\"flex flex-wrap gap-2 mt-3 justify-end\">\n                    {product.images?.map((img, idx) => (\n                      <img\n                        key={idx}\n                        src={`${process.env.REACT_APP_API_URL}/uploads/${img}`}\n                        alt=\"\"\n                        className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\"\n                        onClick={() => {\n                          setCurrentMediaIndex(prev => ({ ...prev, [product._id]: idx + (product.videos?.length || 0) }));\n                          setCurrentMediaType(prev => ({ ...prev, [product._id]: 'image' }));\n                          openMedia(img, 'image');\n                        }}\n                        onError={e => { e.target.onerror = null; e.target.src = `${process.env.REACT_APP_API_URL}/uploads/placeholder-image.jpg`; }}\n                      />\n                    ))}\n                    {product.videos?.map((vid, idx) => (\n                      <video\n                        key={idx}\n                        src={`${process.env.REACT_APP_API_URL}/uploads/${vid}`}\n                        className=\"w-12 h-12 object-cover rounded-lg cursor-pointer hover:ring-2 hover:ring-purple-500 transition\"\n                        onClick={() => openMedia(vid, 'video')}\n                      />\n                    ))}\n                  </div>\n\n                  {/* حالة الموافقة */}\n                  <div className={`mt-4 p-3 rounded-xl text-center font-medium text-sm ${product.approved ? 'bg-green-600/20 text-green-300' : 'bg-yellow-600/20 text-yellow-300'}`}>\n                    {product.approved ? 'موافق عليه' : 'في انتظار الموافقة'}\n                  </div>\n\n                  {/* زر الموافقة */}\n                  {!product.approved && (\n                    <motion.button\n                      onClick={() => handleApprove(product._id)}\n                      className=\"w-full mt-4 py-3 rounded-xl bg-gradient-to-r from-purple-600 to-purple-700 text-white font-bold shadow-md hover:from-purple-700 hover:to-purple-800\"\n                      whileHover={{ scale: 1.03 }}\n                      whileTap={{ scale: 0.98 }}\n                    >\n                      الموافقة\n                    </motion.button>\n                  )}\n                </div>\n              </motion.div>\n            ))\n          )}\n        </div>\n      </div>\n\n      {/* === مودال الوسائط === */}\n      <AnimatePresence>\n        {selectedMedia && (\n          <motion.div\n            className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={closeMedia}\n          >\n            <motion.div className=\"relative max-w-4xl max-h-screen\" onClick={e => e.stopPropagation()}>\n              {selectedMedia.type === 'image' ? (\n                <img src={selectedMedia.url} alt=\"\" className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\" />\n              ) : (\n                <video src={selectedMedia.url} controls autoPlay className=\"max-w-full max-h-screen rounded-2xl shadow-2xl\" />\n              )}\n              <button onClick={closeMedia} className=\"absolute top-4 right-4 bg-purple-600 text-white w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-lg hover:bg-purple-700 transition\">\n                ×\n              </button>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </div>\n  );\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}